{"version":3,"file":"js/2445.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./src/services/Notifications/GetBundles.ts","webpack:///./src/components/NotAuthorized.tsx","webpack:///./src/components/CheckReadPermissions.tsx","webpack:///./src/pages/Integrations/List/Page.tsx","webpack:///./src/pages/Integrations/SplunkSetup/Constants.ts","webpack:///./src/pages/Integrations/SplunkSetup/SplunkSetupFinished.tsx","webpack:///./src/services/Notifications/GetBehaviorGroupByNotificationId.ts","webpack:///./src/services/Notifications/LinkBehaviorGroup.ts","webpack:///./src/services/Notifications/SaveBehaviorGroup.ts","webpack:///./src/services/Notifications/UpdateBehaviorGroupActions.ts","webpack:///./src/pages/Integrations/SplunkSetup/useSplunkSetup.tsx","webpack:///./src/services/GetEventTypes.ts","webpack:///./src/pages/Integrations/SplunkSetup/SplunkSetupForm.tsx","webpack:///./src/pages/Integrations/SplunkSetup/SplunkSetupPage.tsx","webpack:///./src/components/ButtonLink.tsx","webpack:///./src/components/Notifications/EventLog/EventLogDateFilter.tsx","webpack:///./src/components/TableHelpPopover/TableHelpPopover.tsx","webpack:///./src/components/Notifications/NotificationStatus.tsx","webpack:///./src/components/Notifications/EventLog/ActionsHelpPopover.tsx","webpack:///./src/components/Notifications/EventLog/EventLogActionPopoverContent.tsx","webpack:///./src/components/Notifications/EventLog/EventLogTable.tsx","webpack:///./src/hooks/useNotifications.ts","webpack:///./src/components/Notifications/EventLog/EventLogFilter.ts","webpack:///./src/utils/Arrays.ts","webpack:///./src/components/Notifications/EventLog/EventLogTreeFilter.tsx","webpack:///./src/components/Notifications/EventLog/EventLogToolbar.tsx","webpack:///./src/components/Notifications/EventLog/usePrimaryToolbarFilterConfigWrapper.tsx","webpack:///./src/components/PageHeader.tsx","webpack:///./src/types/adapters/NotificationEventAdapter.ts","webpack:///./src/services/EventLog/GetNotificationEvents.ts","webpack:///./src/services/Integrations/GetEndpoint.ts","webpack:///./src/pages/Notifications/EventLog/useFilterBuilder.ts","webpack:///./src/pages/Notifications/EventLog/EventLogPage.tsx","webpack:///./src/pages/Notifications/EventLog/useEventLogFilter.ts","webpack:///./src/services/Notifications/GetApplications.ts","webpack:///./src/components/Notifications/TabComponent.tsx","webpack:///./src/components/Icons/WebhookIcon.tsx","webpack:///./src/components/Notifications/ActionComponent.tsx","webpack:///./src/components/Notifications/Rbac/GroupNotFound.tsx","webpack:///./src/components/Notifications/Recipient.tsx","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupActionsSummary.tsx","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupCard.tsx","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupCardList.tsx","webpack:///./src/components/Notifications/BehaviorGroup/Wizard/BehaviorGroupWizardFooter.tsx","webpack:///./src/components/Notifications/BehaviorGroup/Wizard/BehaviorGroupWizard.tsx","webpack:///./src/components/Notifications/RecipientContext.ts","webpack:///./src/pages/Notifications/BehaviorGroupWizard/useSaveBehaviorGroup.tsx","webpack:///./src/components/Notifications/Form/RecipientOption.ts","webpack:///./src/components/Notifications/Form/useTypeaheadReducer.ts","webpack:///./src/components/Notifications/Form/IntegrationRecipientTypeahead.tsx","webpack:///./src/components/Notifications/Form/useRecipientOptionMemo.tsx","webpack:///./src/components/Notifications/Form/RecipientTypeahead.tsx","webpack:///./src/components/Notifications/EditableActionRow/RecipientForm.tsx","webpack:///./src/components/Notifications/Form/ActionOption.ts","webpack:///./src/components/Notifications/Form/ActionTypeahead.tsx","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupFormActionsTable.tsx","webpack:///./src/components/Notifications/BehaviorGroup/useBehaviorGroupActionHandlers.ts","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupForm.tsx","webpack:///./src/schemas/Integrations/Notifications.ts","webpack:///./src/pages/Notifications/BehaviorGroupWizard/Steps/ActionAndRecipientsStep.tsx","webpack:///./src/pages/Notifications/BehaviorGroupWizard/Steps/BasicInformationStep.tsx","webpack:///./src/pages/Notifications/BehaviorGroupWizard/Steps/ReviewStep.tsx","webpack:///./src/pages/Notifications/BehaviorGroupWizard/BehaviorGroupWizardPage.tsx","webpack:///./src/services/Integrations/GetDefaultSystemEndpoint.ts","webpack:///./src/pages/Notifications/BehaviorGroupWizard/useSteps.ts","webpack:///./src/components/Notifications/useGetRecipients.ts","webpack:///./src/components/Notifications/useGetIntegrations.ts","webpack:///./src/hooks/useOnDeleteWrapper.ts","webpack:///./src/components/Notifications/BehaviorGroup/BehaviorGroupDeleteModal.tsx","webpack:///./src/services/Notifications/DeleteBehaviorGroup.ts","webpack:///./src/services/Notifications/GetAffectedNotificationsByBehaviorGroup.ts","webpack:///./src/pages/Notifications/Form/DeleteBehaviorGroupPage.tsx","webpack:///./src/pages/Notifications/List/BehaviorGroupsSection.tsx","webpack:///./src/services/Notifications/GetBehaviorGroups.ts","webpack:///./src/pages/Notifications/List/useBehaviorGroupNotificationRows.tsx","webpack:///./src/pages/Notifications/List/BundlePageBehaviorGroupContent.tsx","webpack:///./src/pages/Notifications/List/useBehaviorGroupContent.ts","webpack:///./src/pages/Notifications/List/BundlePage.tsx","webpack:///./src/pages/Notifications/List/Page.tsx","webpack:///./src/components/Notifications/NotificationsLog/NotificationsLogDateFilter.tsx","webpack:///./src/components/Notifications/NotificationsLog/NotificationsLogEmptyState.tsx","webpack:///./src/components/Notifications/NotificationsLog/NotificationsLogTable.tsx","webpack:///./src/components/Notifications/NotificationsLog/NotificationsLogToolbar.tsx","webpack:///./src/pages/Notifications/NotificationsLog/Page.tsx","webpack:///./src/pages/Notifications/Overview/CustomDataListItem.tsx","webpack:///./src/pages/Notifications/Overview/Page.tsx","webpack:///./src/Routes.tsx","webpack:///./src/app/AppContext.tsx","webpack:///./src/app/AppSkeleton.tsx","webpack:///./src/app/rbac/RbacGroupContext.ts","webpack:///./src/generated/OpenapiRbac.ts","webpack:///./src/app/rbac/RbacGroupContextProvider.tsx","webpack:///./src/services/Rbac/GetGroups.ts","webpack:///./src/generated/OpenapiPrivate.ts","webpack:///./src/types/adapters/ServerAdapter.ts","webpack:///./src/services/GetServerStatus.ts","webpack:///./src/app/useApp.ts","webpack:///./src/components/EmptyStateSearch.tsx","webpack:///./src/components/Status/Status.tsx","webpack:///./src/components/Store/NotificationsPortal.tsx","webpack:///./src/components/TableHelpPopover/TableHelp.tsx","webpack:///./src/hooks/useDeleteModalReducer.ts","webpack:///./src/hooks/useFormModalReducer.ts","webpack:///./src/hooks/useIntegrations.ts","webpack:///./src/components/Integrations/EmptyState.tsx","webpack:///./src/utils/ConnectionAttemptStatus.ts","webpack:///./src/components/Integrations/Table/ConnectionAttempt.tsx","webpack:///./src/components/Integrations/Table/ConnectionAlert.tsx","webpack:///./src/components/Integrations/Table/ConnectionDegraded.tsx","webpack:///./src/components/Integrations/Table/ConnectionFailed.tsx","webpack:///./src/components/Integrations/Table/ExpandedContent/GoogleChatExpandedContent.tsx","webpack:///./src/components/Integrations/Table/ExpandedContent/IntegrationExpandedContent.tsx","webpack:///./src/components/Integrations/Table/ExpandedContent/SlackExpandedContent.tsx","webpack:///./src/components/Integrations/Table/ExpandedContent/TeamsExpandedContent.tsx","webpack:///./src/components/Integrations/Table/ExpandedContent.tsx","webpack:///./src/components/Status/Degraded.tsx","webpack:///./src/components/Integrations/Table/IntegrationStatus.tsx","webpack:///./src/components/Integrations/Table/LastConnectionHelpTable.tsx","webpack:///./src/components/Integrations/Table.tsx","webpack:///./src/components/Integrations/Filters.ts","webpack:///./src/components/Integrations/Toolbar.tsx","webpack:///./src/components/Icons/EnabledIntegrationIcon.tsx","webpack:///./src/components/Icons/DisabledIntegrationIcon.tsx","webpack:///./src/utils/exporters/Integration/Csv.ts","webpack:///./src/utils/exporters/Integration/Json.ts","webpack:///./src/components/Integrations/AddNotificationBody.tsx","webpack:///./src/schemas/Integrations/Integration.ts","webpack:///./src/components/Integrations/Form/IntegrationTypeCamelExtrasForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeCamelForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeGoogleChatForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeHttpForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeSlackForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeTeamsForm.tsx","webpack:///./src/components/Integrations/Form/IntegrationTypeForm.tsx","webpack:///./src/components/Integrations/Form.tsx","webpack:///./src/components/Integrations/SaveModal.tsx","webpack:///./src/services/useSwitchIntegrationEnabledStatus.ts","webpack:///./src/store/selectors/SavedNotificationScopeSelector.ts","webpack:///./src/pages/Integrations/Create/CreatePage.tsx","webpack:///./src/components/Integrations/Table/IntegrationTest.tsx","webpack:///./src/components/Integrations/Table/IntegrationTestProvider.tsx","webpack:///./src/components/Integrations/DeleteModal.tsx","webpack:///./src/services/Notifications/GetAffectedBehaviorGroupsByEndpoint.ts","webpack:///./src/services/useDeleteIntegration.ts","webpack:///./src/pages/Integrations/Delete/DeleteModal.tsx","webpack:///./src/pages/Integrations/List/useActionResolver.ts","webpack:///./src/pages/Integrations/List/useIntegrationFilter.ts","webpack:///./src/services/useListIntegrationHistory.ts","webpack:///./src/pages/Integrations/List/useIntegrationRows.ts","webpack:///./src/components/Integrations/DopeBox.tsx","webpack:///./src/pages/Integrations/List/List.tsx","webpack:///./src/utils/exporters/Integration/Factory.ts","webpack:///./src/properties/DefinedMessages.ts","webpack:///./src/properties/Messages.ts","webpack:///./src/services/useListIntegrations.ts","webpack:///./src/services/useSaveIntegration.ts","webpack:///./src/store/reducers/SavedNotificationScopeReducer.ts","webpack:///./src/store/Store.ts","webpack:///./src/store/actions/SavedNotificationScopeAction.ts","webpack:///./src/store/types/SavedNotificationScopeTypes.ts","webpack:///./src/types/Server.ts","webpack:///./src/types/adapters/BehaviorGroupAdapter.ts"],"sourcesContent":["import { useQuery } from 'react-fetching-library';\n\nimport { Operations, Schemas } from '../../generated/OpenapiNotifications';\n\nconst getBundlesAction = (includeApplications: boolean) =>\n  Operations.NotificationResourceGetBundleFacets.actionCreator({\n    includeApplications,\n  });\n\nexport const useGetBundles = (\n  includeApplications?: boolean,\n  initFetch = true\n) => useQuery(getBundlesAction(!!includeApplications), initFetch);\n\nexport const useGetBundleByName = () => {\n  const { query } = useGetBundles(false, false); // includeApplications = false, initFetch = false\n  return async (bundleName: string) => {\n    const response = await query();\n    const payload =\n      response.payload as Operations.NotificationResourceGetApplicationsFacets.Payload;\n    if (response.errorObject) {\n      throw response.errorObject;\n    }\n\n    if (response.error || !payload) {\n      throw new Error(`Unable to retrieve bundles, status ${payload.status}`);\n    }\n\n    const value = payload.value as Schemas.Bundle[];\n    return value.find((bundle) => bundle.name === bundleName);\n  };\n};\n","import { Split, SplitItem, StackItem } from '@patternfly/react-core';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport NotAuthorized from '@redhat-cloud-services/frontend-components/NotAuthorized';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { localUrl } from '@redhat-cloud-services/insights-common-typescript';\nimport { default as React, useMemo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useLocation, useParams } from 'react-router-dom';\n\nimport Config from '../config/Config';\nimport messages from '../properties/DefinedMessages';\nimport { linkTo } from '../Routes';\nimport { useGetBundles } from '../services/Notifications/GetBundles';\nimport { Facet } from '../types/Notification';\n\nconst eventLogService = 'Event Log';\n\nexport const NotAuthorizedPage: React.FunctionComponent = () => {\n  const chrome = useChrome();\n  const { bundleName } = useParams<Record<string, string | undefined>>();\n  const getBundles = useGetBundles();\n  const bundles: Facet | undefined = useMemo(() => {\n    if (getBundles.payload?.status === 200) {\n      return getBundles.payload.value.find((b) => b.name === bundleName);\n    }\n  }, [bundleName, getBundles.payload?.status, getBundles.payload?.value]);\n\n  const location = useLocation();\n  const intl = useIntl();\n\n  const userPreferences = (\n    <a href={localUrl(`/user-preferences/notifications/`, chrome.isBeta())}>\n      {' '}\n      User Preferences\n    </a>\n  );\n  const myUserAccess = (\n    <a\n      href={localUrl(`/settings/my-user-access?bundle=rhel }`, chrome.isBeta())}\n    >\n      {' '}\n      My User Access{' '}\n    </a>\n  );\n\n  const serviceName = React.useMemo(() => {\n    switch (chrome.getApp()) {\n      case Config.integrations.subAppId:\n        return intl.formatMessage(messages.integrations);\n      case Config.notifications.subAppId:\n        if (location.pathname === linkTo.eventLog()) {\n          return eventLogService;\n        }\n\n        return intl.formatMessage(messages.notifications);\n      default:\n        return '';\n    }\n  }, [intl, location.pathname, chrome]);\n\n  const pageHeaderTitleProps = {\n    paddingBottom: '8px',\n  };\n\n  const title = React.useMemo(() => {\n    if (serviceName === 'Notifications' && bundles) {\n      return `${serviceName} | ${bundles?.displayName}`;\n    } else {\n      return `${serviceName}`;\n    }\n  }, [bundles, serviceName]);\n\n  const description = React.useMemo(() => {\n    if (serviceName === 'Notifications') {\n      return (\n        <span>\n          Configure which event notifications different users within your\n          organization are entitled to receive.\n        </span>\n      );\n    } else {\n      return <span></span>;\n    }\n  }, [serviceName, chrome]);\n\n  return (\n    <>\n      <PageHeader>\n        <Split>\n          <SplitItem isFilled>\n            <PageHeaderTitle title={title} {...pageHeaderTitleProps}>\n              {' '}\n            </PageHeaderTitle>\n            <StackItem>{description}</StackItem>\n          </SplitItem>\n        </Split>\n      </PageHeader>\n      <NotAuthorized\n        description={\n          <>\n            Contact your organization administrator for more information or\n            visit\n            {myUserAccess} to learn more about your permissions. To manage your\n            notifications, go to your {userPreferences}.\n          </>\n        }\n        serviceName={serviceName}\n      />\n    </>\n  );\n};\n","import useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { useAppContext } from '../app/AppContext';\nimport Config from '../config/Config';\nimport { linkTo } from '../Routes';\nimport { NotAuthorizedPage } from './NotAuthorized';\n\nexport const CheckReadPermissions: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => {\n  const chrome = useChrome();\n  const { rbac } = useAppContext();\n  const location = useLocation();\n\n  const hasReadPermissions = React.useMemo(() => {\n    const appId = chrome.getApp();\n    switch (appId) {\n      case Config.integrations.subAppId:\n        return rbac?.canReadIntegrationsEndpoints;\n      case Config.notifications.subAppId:\n        if (location.pathname === linkTo.eventLog()) {\n          return rbac?.canReadEvents;\n        }\n\n        return rbac?.canReadNotifications;\n    }\n\n    return false;\n  }, [rbac, location, chrome]);\n  return <>{!hasReadPermissions ? <NotAuthorizedPage /> : props.children}</>;\n};\n","import { Button, Split, SplitItem } from '@patternfly/react-core';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader/PageHeader';\nimport Section from '@redhat-cloud-services/frontend-components/Section';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Messages } from '../../../properties/Messages';\nimport { linkTo } from '../../../Routes';\nimport IntegrationsList from './List';\n\nexport const IntegrationsListPage: React.FunctionComponent = () => {\n  const { updateDocumentTitle, getBundle } = useChrome();\n\n  updateDocumentTitle?.('Integrations');\n\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n\n  return (\n    <Section className=\"pf-c-page__main-section pf-m-light\">\n      <PageHeader>\n        <Split>\n          <SplitItem isFilled>\n            <PageHeaderTitle title={Messages.pages.integrations.list.title} />\n          </SplitItem>\n          {!notificationsOverhaul && (\n            <SplitItem>\n              <Button\n                variant=\"secondary\"\n                component={() => (\n                  <Link\n                    to={`/${getBundle()}/notifications${linkTo.eventLog()}`}\n                  />\n                )}\n              >\n                {' '}\n                View event log{' '}\n              </Button>\n            </SplitItem>\n          )}\n        </Split>\n      </PageHeader>\n      <IntegrationsList />\n    </Section>\n  );\n};\n","// Constants, like link to docs and cases\n\nimport { Messages } from '../../../properties/Messages';\n\nexport const DOCUMENTATION_URL = Messages.pages.splunk.page.helpUrl;\nexport const SPLUNK_CLOUD_HEC_DOC =\n  'https://docs.splunk.com/Documentation/SplunkCloud/latest/Data/' +\n  'UsetheHTTPEventCollector#Send_data_to_HTTP_Event_Collector';\nexport const OPEN_CASE_URL =\n  'https://access.redhat.com/support/cases/#/case/new/open-case/describe-issue' +\n  '?intcmp=hp|a|a3|case&caseCreate=true&product=Red%20Hat%20Insights' +\n  '&version=Red%20Hat%20Insights';\n","import {\n  Button,\n  EmptyState,\n  EmptyStateActions,\n  EmptyStateBody,\n  EmptyStateFooter,\n  EmptyStateHeader,\n  EmptyStateIcon,\n} from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n} from '@patternfly/react-icons';\nimport React from 'react';\n\nimport { DOCUMENTATION_URL, OPEN_CASE_URL } from './Constants';\n\ninterface SplunkSetupFinishedProps {\n  isSuccess: boolean;\n  error: Error | undefined;\n}\n\nexport const SplunkSetupFinished: React.FunctionComponent<\n  SplunkSetupFinishedProps\n> = ({ isSuccess, error }) =>\n  isSuccess ? (\n    <SplunkSetupFinishedSuccess />\n  ) : (\n    <SplunkSetupFinishedFailure error={error} />\n  );\n\nexport const SplunkSetupFinishedSuccess: React.FunctionComponent = () => (\n  <EmptyState>\n    <EmptyStateHeader\n      titleText=\"Splunk integration in Insights completed\"\n      icon={\n        <EmptyStateIcon\n          icon={CheckCircleIcon}\n          color=\"var(--pf-global--success-color--100)\"\n        />\n      }\n      headingLevel=\"h4\"\n    />\n    <EmptyStateBody>\n      Splunk integration in Insights was completed. To confirm these changes,{' '}\n      <strong>go back to Splunk application</strong>.\n    </EmptyStateBody>\n  </EmptyState>\n);\n\nexport const SplunkSetupFinishedFailure: React.FunctionComponent<{\n  error: Error | undefined;\n}> = ({ error }) => (\n  <EmptyState>\n    <EmptyStateHeader\n      titleText=\"Configuration failed\"\n      icon={\n        <EmptyStateIcon\n          icon={ExclamationCircleIcon}\n          color=\"var(--pf-global--danger-color--100)\"\n        />\n      }\n      headingLevel=\"h4\"\n    />\n    <EmptyStateBody>\n      <p className=\"pf-u-mb-md\">\n        There was a problem processing the request. Please try again. If the\n        problem persists, contact Red Hat support by opening the ticket.\n      </p>\n      {error && <p>{`${error}`}</p>}\n    </EmptyStateBody>\n    <EmptyStateFooter>\n      <Button\n        variant=\"primary\"\n        component=\"a\"\n        href={OPEN_CASE_URL}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Open a Red Hat Support ticket\n      </Button>\n      <EmptyStateActions>\n        <Button\n          variant=\"link\"\n          component=\"a\"\n          href={DOCUMENTATION_URL}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Go to documentation\n        </Button>\n      </EmptyStateActions>\n    </EmptyStateFooter>\n  </EmptyState>\n);\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useClient, useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { UUID } from '../../types/Notification';\n\nexport const getBehaviorGroupByNotificationDecoder =\n  validationResponseTransformer(\n    (\n      payload: Operations.NotificationResourceGetLinkedBehaviorGroups.Payload\n    ) => {\n      if (payload.status === 200) {\n        return validatedResponse(\n          'BehaviorGroupId',\n          200,\n          payload.value.map((value) => value.id),\n          payload.errors\n        );\n      }\n\n      return payload;\n    }\n  );\n\nexport const getBehaviorGroupByNotificationAction = (notificationId: UUID) =>\n  Operations.NotificationResourceGetLinkedBehaviorGroups.actionCreator({\n    eventTypeId: notificationId,\n  });\n\nexport const useGetBehaviorGroupByNotification = (notificationId: UUID) => {\n  return useTransformQueryResponse(\n    useQuery(getBehaviorGroupByNotificationAction(notificationId)),\n    getBehaviorGroupByNotificationDecoder\n  );\n};\n\nexport const useGetAnyBehaviorGroupByNotification = () => {\n  const client = useClient();\n  return async (notificationId: UUID) => {\n    const { errorObject, payload } = await client.query(\n      getBehaviorGroupByNotificationAction(notificationId)\n    );\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    return getBehaviorGroupByNotificationDecoder(\n      payload as Operations.NotificationResourceGetLinkedBehaviorGroups.Payload\n    );\n  };\n};\n","import { Operations } from '../../generated/OpenapiNotifications';\nimport { UUID } from '../../types/Notification';\nimport NotificationServiceUpdateEventTypeBehaviors = Operations.NotificationResourceUpdateEventTypeBehaviors;\n\nexport const linkBehaviorGroupAction = (\n  notificationId: UUID,\n  behaviorGroupIds: Array<UUID>\n) => {\n  return NotificationServiceUpdateEventTypeBehaviors.actionCreator({\n    body: behaviorGroupIds,\n    eventTypeId: notificationId,\n  });\n};\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { BehaviorGroup, UUID } from '../../types/Notification';\n\ntype Payload =\n  | Operations.NotificationResourceCreateBehaviorGroup.Payload\n  | Operations.NotificationResourceUpdateBehaviorGroup.Payload;\n\nexport type SaveBehaviorGroupRequest = {\n  eventTypesIds?: Array<UUID>;\n  endpointIds?: Array<UUID>;\n} & (\n  | {\n      // Update request\n      id: UUID;\n      displayName?: string;\n    }\n  | {\n      // Create request\n      bundleId: UUID;\n      displayName: string;\n    }\n);\n\nconst decoder = validationResponseTransformer((payload: Payload) => {\n  if (payload.type === 'CreateBehaviorGroupResponse') {\n    const behaviorGroup: BehaviorGroup = {\n      id: payload.value.id,\n      displayName: payload.value.display_name,\n      bundleId: payload.value.bundle_id,\n      isDefault: false,\n      bundleName: undefined,\n      actions: [], // can't get the actions from only the ids,\n      events: [], // can't get the eventTypes from only the ids,\n    };\n    return validatedResponse(\n      'BehaviorGroup',\n      payload.status,\n      behaviorGroup,\n      payload.errors\n    );\n  }\n\n  return payload;\n});\n\nconst saveBehaviorGroupActionCreator = (\n  behaviorGroup: SaveBehaviorGroupRequest\n) => {\n  if ('id' in behaviorGroup) {\n    return Operations.NotificationResourceUpdateBehaviorGroup.actionCreator({\n      id: behaviorGroup.id,\n      body: {\n        display_name: behaviorGroup.displayName,\n        endpoint_ids: behaviorGroup.endpointIds,\n        event_type_ids: behaviorGroup.eventTypesIds,\n      },\n    });\n  }\n\n  return Operations.NotificationResourceCreateBehaviorGroup.actionCreator({\n    body: {\n      bundle_id: behaviorGroup.bundleId,\n      display_name: behaviorGroup.displayName,\n      endpoint_ids: behaviorGroup.endpointIds,\n      event_type_ids: behaviorGroup.eventTypesIds,\n    },\n  });\n};\n\nexport const useSaveBehaviorGroupMutation = () =>\n  useTransformQueryResponse(\n    useMutation(saveBehaviorGroupActionCreator),\n    decoder\n  );\n","import { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { UUID } from '../../types/Notification';\n\ntype UpdateBehaviorGroupActionsParams = {\n  behaviorGroupId: UUID;\n  endpointIds: Array<UUID>;\n};\n\nconst updateBehaviorGroupActionsActionCreator = (\n  params: UpdateBehaviorGroupActionsParams\n) => {\n  return Operations.NotificationResourceUpdateBehaviorGroupActions.actionCreator(\n    {\n      behaviorGroupId: params.behaviorGroupId,\n      body: params.endpointIds,\n    }\n  );\n};\n\nexport const useUpdateBehaviorGroupActionsMutation = () =>\n  useMutation(updateBehaviorGroupActionsActionCreator);\n","/*\nSteps:\n\n1) [POST] Create Integrations under /api/integrations/v1.0/endpoints with the payload:\n{\n    \"name\": \"Splunk Automation\",\n    \"enabled\": true,\n    \"type\": \"camel\",\n    \"sub_type\": \"splunk\",\n    \"description\": \"\",\n    \"properties\": {\n        \"url\": \"http://decd-187-3-186-244.ngrok.io\",\n        \"disable_ssl_verification\": false,\n        \"secret_token\": \"MYHEC_TOKEN\",\n        \"basic_authentication\": {},\n        \"extras\": {}\n    }\n}\n\n2) Create behavior group under /api/notifications/v1.0/notifications/behaviorGroups with the payload:\n\n{\n  \"bundle_id\":\"35fd787b-a345-4fe8-a135-7773de15905e\",\n  \"display_name\":\"Splunk-automation\"\n}\n\n3) [POST] Update behavior group under api/notifications/v1.0/notifications/behaviorGroups/{BEHAVIOR_GROUP_ID}/actions with the payload:\n\n  [\"8d8dca57-1834-48dd-b6ac-265c949c5e60\"] <<-- Id of the integration\n\n4) [PUT] Update eventType under /api/notifications/v1.0/notifications/eventTypes/{EVENT_TYPE_UUID}/behaviorGroups with the payload:\n\n[\"ff59b502-da25-4297-bd88-6934ad0e0d63\"] <<- Behavior group ID\n*/\n\nimport { useClient } from 'react-fetching-library';\n\nimport { useGetAllEventTypes } from '../../../services/GetEventTypes';\nimport { useGetAnyBehaviorGroupByNotification } from '../../../services/Notifications/GetBehaviorGroupByNotificationId';\nimport { useGetBundleByName } from '../../../services/Notifications/GetBundles';\nimport { linkBehaviorGroupAction } from '../../../services/Notifications/LinkBehaviorGroup';\nimport { useSaveBehaviorGroupMutation } from '../../../services/Notifications/SaveBehaviorGroup';\nimport { useUpdateBehaviorGroupActionsMutation } from '../../../services/Notifications/UpdateBehaviorGroupActions';\nimport { useSaveIntegrationMutation } from '../../../services/useSaveIntegration';\nimport {\n  Integration,\n  IntegrationCamel,\n  IntegrationType,\n  NewIntegrationTemplate,\n} from '../../../types/Integration';\nimport {\n  BehaviorGroup,\n  BehaviorGroupRequest,\n  UUID,\n} from '../../../types/Notification';\n\nexport const SPLUNK_GROUP_NAME = 'SPLUNK_INTEGRATION';\nexport const SPLUNK_INTEGRATION_NAME = 'SPLUNK_AUTOMATION';\nexport const SPLUNK_BEHAVIOR_GROUP_NAME = 'SPLUNK_AUTOMATION_GROUP';\nexport const BUNDLE_NAME = 'rhel';\n\ninterface SplunkEventsDef {\n  [Identifier: string]: string | string[];\n}\n\nconst DEFAULT_SPLUNK_EVENTS: SplunkEventsDef = {\n  advisor: '*',\n  policies: '*',\n  drift: '*',\n  compliance: '*',\n  'malware-detection': '*',\n  patch: '*',\n  vulnerability: '*',\n};\n\nexport const useSplunkSetup = () => {\n  const createSplunkIntegration = useCreateSplunkIntegration();\n  const createSplunkBehaviorGroup = useCreateSplunkBehaviorGroup();\n  const updateSplunkBehaviorActions = useUpdateSplunkBehaviorActions();\n  const attachEvents = useAttachEventsToSplunk();\n\n  return async ({ hecToken, splunkServerHostName }, onProgress) => {\n    const integrationName = SPLUNK_INTEGRATION_NAME;\n    const behaviorGroupName = SPLUNK_BEHAVIOR_GROUP_NAME;\n    const bundleName = BUNDLE_NAME;\n    const events = DEFAULT_SPLUNK_EVENTS;\n\n    onProgress(`Creating Integration ${integrationName}...`);\n    const integration = await createSplunkIntegration({\n      integrationName,\n      hecToken,\n      splunkServerHostName,\n    });\n    onProgress(' OK', 'pf-u-success-color-200');\n\n    onProgress(`\\nCreating Behavior Group ${behaviorGroupName}...`);\n    const behaviorGroup = await createSplunkBehaviorGroup({\n      behaviorGroupName,\n      bundleName,\n    });\n    onProgress(' OK', 'pf-u-success-color-200');\n\n    onProgress(\n      '\\nAssociating integration as an action for the behavior group...'\n    );\n    await updateSplunkBehaviorActions(behaviorGroup, integration);\n\n    onProgress(' OK', 'pf-u-success-color-200');\n    onProgress('\\n\\nAssociating events to the behavior group:\\n');\n\n    await attachEvents(behaviorGroup, events, onProgress);\n  };\n};\n\nconst useCreateSplunkIntegration = () => {\n  const { mutate } = useSaveIntegrationMutation();\n  return async ({\n    integrationName,\n    splunkServerHostName,\n    hecToken,\n  }): Promise<Integration | undefined> => {\n    const newIntegration: NewIntegrationTemplate<IntegrationCamel> = {\n      type: IntegrationType.SPLUNK,\n      name: integrationName,\n      url: splunkServerHostName,\n      secretToken: hecToken,\n      isEnabled: true,\n      sslVerificationEnabled: true,\n    };\n\n    const { payload, error, errorObject } = await mutate(newIntegration);\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    if (error) {\n      throw new Error(`Error when creating integration ${integrationName}`);\n    }\n\n    return payload?.value as Integration;\n  };\n};\n\nconst useCreateSplunkBehaviorGroup = () => {\n  const { mutate } = useSaveBehaviorGroupMutation();\n  const getBundleByName = useGetBundleByName();\n\n  return async ({ behaviorGroupName, bundleName }): Promise<BehaviorGroup> => {\n    const bundle = await getBundleByName(bundleName);\n    if (!bundle) {\n      throw new Error(`Unable to find bundle ${bundleName}`);\n    }\n\n    const behaviorGroup: BehaviorGroupRequest = {\n      bundleId: bundle.id as UUID,\n      displayName: behaviorGroupName,\n      actions: [], // ignored\n      events: [], // ignored\n    };\n\n    const { payload, error, errorObject } = await mutate(behaviorGroup);\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    if (error) {\n      throw new Error(\n        `Error when creating behavior group ${behaviorGroupName}`\n      );\n    }\n\n    return payload?.value as BehaviorGroup;\n  };\n};\n\nconst useUpdateSplunkBehaviorActions = () => {\n  const { mutate } = useUpdateBehaviorGroupActionsMutation();\n  return async (behaviorGroup, integration) => {\n    const endpointIds = behaviorGroup.actions || [];\n    endpointIds.push(integration.id);\n\n    const params = {\n      behaviorGroupId: behaviorGroup.id,\n      endpointIds,\n    };\n    const { payload, error, errorObject } = await mutate(params);\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    if (error) {\n      throw new Error(\n        `Error when linking behavior group ${behaviorGroup.id}` +\n          ` with integration ${integration.id}`\n      );\n    }\n\n    return payload?.value;\n  };\n};\n\nconst useAttachEventsToSplunk = () => {\n  const getAllEventTypes = useGetAllEventTypes();\n  const client = useClient();\n  const getAnyBehaviorGroupByNotification =\n    useGetAnyBehaviorGroupByNotification();\n\n  const appendActionToNotification = async (eventType, behaviorGroup) => {\n    const existingActions = await getAnyBehaviorGroupByNotification(\n      eventType.id as UUID\n    );\n    const existingActionIds = existingActions.value as UUID[];\n    const newActionIds = [...existingActionIds, behaviorGroup.id];\n\n    const { payload, errorObject, error } = await client.query(\n      linkBehaviorGroupAction(eventType.id, newActionIds)\n    );\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    if (error) {\n      throw new Error(`Unsuccessful linking of event type ${eventType.id}`);\n    }\n\n    return payload;\n  };\n\n  return async (behaviorGroup, events, onProgress) => {\n    const eventTypes = await getAllEventTypes();\n\n    const selectedEventTypes = eventTypes.filter((eventType) => {\n      if (!eventType?.application) {\n        return false;\n      }\n\n      if (eventType.application.bundle_id !== behaviorGroup.bundleId) {\n        return false;\n      }\n\n      const expectEvents = events[eventType.application.name];\n      if (\n        !expectEvents ||\n        (expectEvents !== '*' && !expectEvents.includes(eventType.name))\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    for (const eventType of selectedEventTypes) {\n      onProgress(\n        `  ${eventType.application?.display_name} - ${eventType.display_name}...`\n      );\n      try {\n        await appendActionToNotification(eventType, behaviorGroup);\n        onProgress(' ASSOCIATED\\n', 'pf-u-success-color-200');\n      } catch (error) {\n        onProgress(' ERROR!\\n', 'pf-u-danger-color-200');\n        console.log(error);\n      }\n    }\n  };\n};\n","import {\n  Direction,\n  Page,\n  Sort,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { useClient } from 'react-fetching-library';\n\nimport { Schemas } from '../generated/OpenapiNotifications';\nimport { listNotificationsActionCreator } from './useListNotifications';\n\nexport const useGetAllEventTypes = () => {\n  const { query } = useClient();\n  const fetchPage = async (page?: Page): Promise<Schemas.EventType[]> => {\n    if (!page) {\n      page = Page.defaultPage().withSort(\n        Sort.by('application', Direction.ASCENDING)\n      );\n    }\n\n    const { errorObject, payload } = await query(\n      listNotificationsActionCreator(page)\n    );\n    if (errorObject) {\n      throw errorObject;\n    }\n\n    if (payload?.type === 'PageEventType') {\n      const events = payload?.value?.data as Schemas.EventType[];\n      if (events.length === 0) {\n        return [];\n      }\n\n      return [...events, ...(await fetchPage(page.nextPage()))];\n    }\n\n    throw new Error(`Unknow payload type for eventTypes ${payload?.type}`);\n  };\n\n  return fetchPage;\n};\n","import {\n  ActionGroup,\n  Button,\n  CodeBlock,\n  CodeBlockCode,\n  Form,\n  FormGroup,\n  FormHelperText,\n  Grid,\n  GridItem,\n  HelperText,\n  HelperTextItem,\n  List,\n  ListItem,\n  ListVariant,\n  Popover,\n  ProgressStepProps,\n  TextInput,\n  ValidatedOptions,\n} from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  HelpIcon,\n} from '@patternfly/react-icons';\nimport { addDangerNotification } from '@redhat-cloud-services/insights-common-typescript';\nimport React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport { string } from 'yup';\n\nimport {\n  DOCUMENTATION_URL,\n  OPEN_CASE_URL,\n  SPLUNK_CLOUD_HEC_DOC,\n} from './Constants';\nimport { useSplunkSetup } from './useSplunkSetup';\n\ninterface SplunkSetupFormProps {\n  setStep: Dispatch<SetStateAction<number>>;\n  stepIsInProgress: boolean;\n  setStepIsInProgress: Dispatch<SetStateAction<boolean>>;\n  stepVariant: ProgressStepProps['variant'];\n  setStepVariant: Dispatch<SetStateAction<ProgressStepProps['variant']>>;\n  hecToken: string;\n  setHecToken: Dispatch<SetStateAction<string>>;\n  splunkServerHostName: string;\n  setHostName: Dispatch<SetStateAction<string>>;\n  automationLogs: React.ReactChild[];\n  setAutomationLogs: Dispatch<SetStateAction<React.ReactChild[]>>;\n  setError: Dispatch<SetStateAction<Error | undefined>>;\n}\n\nconst SplunkURLSchema = string()\n  .url()\n  .test('has-no-path', 'URL contains path or parameters', (url) => {\n    let urlObj;\n    try {\n      urlObj = new URL(url as string);\n    } catch {\n      return false;\n    }\n\n    return (\n      (urlObj.pathname === '/' || urlObj.pathname === '') &&\n      urlObj.search === ''\n    );\n  });\n\nexport const SplunkSetupForm: React.FunctionComponent<SplunkSetupFormProps> = ({\n  setStep,\n  stepIsInProgress,\n  setStepIsInProgress,\n  stepVariant,\n  setStepVariant,\n  hecToken,\n  setHecToken,\n  splunkServerHostName,\n  setHostName,\n  automationLogs,\n  setAutomationLogs,\n  setError,\n}) => {\n  const startSplunkAutomation = useSplunkSetup();\n  const [isDisabled, setIsDisabled] = useState<boolean>(true);\n  const [validatedServerHostname, setValidatedServerHostname] =\n    useState<ValidatedOptions>(ValidatedOptions.default);\n  const [validatedHecToken, setValidatedHecToken] = useState<ValidatedOptions>(\n    ValidatedOptions.default\n  );\n\n  const onHostnameChange = async (value) => {\n    setHostName(value);\n    if (value === '') {\n      setValidatedServerHostname(ValidatedOptions.default);\n    } else {\n      const isValid = await SplunkURLSchema.isValid(value);\n      setValidatedServerHostname(\n        isValid ? ValidatedOptions.success : ValidatedOptions.error\n      );\n    }\n  };\n\n  const onHecTokenChange = async (value) => {\n    setHecToken(value);\n    if (value === '') {\n      setValidatedHecToken(ValidatedOptions.default);\n    } else {\n      const isValid = await string().uuid().isValid(value);\n      setValidatedHecToken(\n        isValid ? ValidatedOptions.success : ValidatedOptions.error\n      );\n    }\n  };\n\n  useEffect(() => {\n    if (\n      [validatedServerHostname, validatedHecToken].every(\n        (v) => v === ValidatedOptions.success\n      )\n    ) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [validatedServerHostname, validatedHecToken]);\n\n  const onProgress = (message, className?) => {\n    let newLog = message;\n    if (className) {\n      newLog = <span className={className}>{message}</span>;\n    }\n\n    setAutomationLogs((prevLogs) => [...prevLogs, newLog]);\n  };\n\n  const onStart = async () => {\n    setStepIsInProgress(true);\n    setAutomationLogs([]);\n\n    try {\n      await startSplunkAutomation(\n        { hecToken, splunkServerHostName },\n        onProgress\n      );\n    } catch (error) {\n      onProgress(`\\n${error}`, 'pf-u-danger-color-200');\n      setStepIsInProgress(false);\n      setStepVariant('danger');\n\n      addDangerNotification(\n        'Configuration failed',\n        <SplunkSetupFailedToast />,\n        true\n      );\n      setError(error as Error);\n      return;\n    }\n\n    setIsDisabled(false);\n    setStepIsInProgress(false);\n    setStepVariant('success');\n    onProgress('\\nDONE!', 'pf-u-success-color-200');\n  };\n\n  const onFinish = () => {\n    setStep((prevStep) => prevStep + 1);\n  };\n\n  return (\n    <Grid>\n      <GridItem span={6}>\n        <Form className=\"pf-u-mr-md\">\n          <FormGroup\n            label=\"Splunk HEC URL\"\n            labelIcon={\n              <Popover\n                headerContent={\n                  <div>\n                    The server <b>hostname/IP Address</b> and <b>port</b> of\n                    your splunk HTTP Event Collector\n                  </div>\n                }\n                bodyContent={\n                  <div>\n                    For Splunk Enterprise the port is by default 8088.\n                    <br />\n                    For Splunk Cloud Platform see{' '}\n                    <a\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                      href={SPLUNK_CLOUD_HEC_DOC}\n                    >\n                      documentation\n                    </a>\n                    .\n                  </div>\n                }\n              >\n                <button\n                  type=\"button\"\n                  aria-label=\"More info for name field\"\n                  onClick={(e) => e.preventDefault()}\n                  aria-describedby=\"splunk-server-hostname\"\n                  className=\"pf-c-form__group-label-help\"\n                >\n                  <HelpIcon />\n                </button>\n              </Popover>\n            }\n            isRequired\n            fieldId=\"splunk-server-hostname\"\n          >\n            <TextInput\n              isRequired\n              type=\"text\"\n              id=\"splunk-server-hostname\"\n              name=\"splunk-server-hostname\"\n              aria-describedby=\"splunk-server-hostname-helper\"\n              value={splunkServerHostName}\n              validated={validatedServerHostname}\n              onChange={(_event, value) => onHostnameChange(value)}\n            />\n            {validatedServerHostname === 'error' && (\n              <FormHelperText>\n                <HelperText>\n                  <HelperTextItem variant=\"error\">\n                    Invalid URL. Example: https://hostname:8088\n                  </HelperTextItem>\n                </HelperText>\n              </FormHelperText>\n            )}\n          </FormGroup>\n          <FormGroup\n            label=\"Splunk HEC Token\"\n            fieldId=\"splunk-hec-token\"\n            isRequired\n          >\n            <TextInput\n              isRequired\n              type=\"text\"\n              id=\"splunk-hec-token\"\n              name=\"splunk-hec-token\"\n              aria-describedby=\"splunk-hec-token-helper\"\n              validated={validatedHecToken}\n              value={hecToken}\n              onChange={(_event, value) => onHecTokenChange(value)}\n            />\n            {validatedHecToken === 'error' && (\n              <FormHelperText>\n                <HelperText>\n                  <HelperTextItem variant=\"error\">\n                    Invalid HEC token. Example:\n                    123e4567-e89b-12d3-a456-426614174000\n                  </HelperTextItem>\n                </HelperText>\n              </FormHelperText>\n            )}\n          </FormGroup>\n          <ActionGroup>\n            <SplunkAutomationButton\n              {...{\n                onStart,\n                onFinish,\n                stepIsInProgress,\n                stepVariant,\n                isDisabled,\n              }}\n            />\n          </ActionGroup>\n        </Form>\n      </GridItem>\n\n      <GridItem span={6}>\n        <CodeBlock>\n          <CodeBlockCode>{automationLogs}</CodeBlockCode>\n        </CodeBlock>\n      </GridItem>\n    </Grid>\n  );\n};\n\nconst SplunkAutomationButton = ({\n  onStart,\n  onFinish,\n  stepIsInProgress,\n  stepVariant,\n  isDisabled,\n}) => {\n  if (stepIsInProgress) {\n    return (\n      <Button variant=\"primary\" isLoading={true}>\n        Configuration in progress\n      </Button>\n    );\n  } else if (stepVariant === 'success' || stepVariant === 'danger') {\n    return (\n      <Button variant=\"primary\" onClick={onFinish}>\n        {stepVariant === 'success' ? (\n          <CheckCircleIcon />\n        ) : (\n          <ExclamationCircleIcon />\n        )}{' '}\n        Next: Review\n      </Button>\n    );\n  } else {\n    return (\n      <Button variant=\"primary\" isDisabled={isDisabled} onClick={onStart}>\n        Run Configuration\n      </Button>\n    );\n  }\n};\n\nconst SplunkSetupFailedToast = () => (\n  <>\n    <p className=\"pf-u-mb-md\">\n      There was a problem processing the request. Please try again. If the\n      problem persists, contact Red Hat support by opening the ticket.\n    </p>\n    <List variant={ListVariant.inline}>\n      <ListItem>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={OPEN_CASE_URL}>\n          Open a Red Hat Support ticket\n        </a>\n      </ListItem>\n      <ListItem>\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={DOCUMENTATION_URL}>\n          Go to documentation\n        </a>\n      </ListItem>\n    </List>\n  </>\n);\n","import {\n  Button,\n  Card,\n  CardBody,\n  Divider,\n  Popover,\n  ProgressStep,\n  ProgressStepProps,\n  ProgressStepper,\n  Split,\n  SplitItem,\n} from '@patternfly/react-core';\nimport {\n  ExternalLinkSquareAltIcon,\n  HelpIcon,\n  InProgressIcon,\n} from '@patternfly/react-icons';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader/PageHeader';\nimport React, { useState } from 'react';\n\nimport { Messages } from '../../../properties/Messages';\nimport { DOCUMENTATION_URL } from './Constants';\nimport { SplunkSetupFinished } from './SplunkSetupFinished';\nimport { SplunkSetupForm } from './SplunkSetupForm';\n\nconst SplunkSetupTitle: React.FunctionComponent = () => (\n  <>\n    <PageHeaderTitle\n      title={\n        <>\n          {Messages.pages.splunk.page.title}\n          <Popover\n            bodyContent={Messages.pages.splunk.page.help}\n            footerContent={\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={DOCUMENTATION_URL}\n              >\n                Learn more <ExternalLinkSquareAltIcon />\n              </a>\n            }\n          >\n            <Button\n              variant=\"plain\"\n              aria-label=\"Help description\"\n              className=\"title-help-label\"\n            >\n              <HelpIcon />\n            </Button>\n          </Popover>\n        </>\n      }\n    />\n    {Messages.pages.splunk.page.description}\n  </>\n);\n\nexport const SplunkSetupPage: React.FunctionComponent = () => {\n  const [step, setStep] = useState(2);\n  const [stepIsInProgress, setStepIsInProgress] = useState(false);\n  const [stepVariant, setStepVariant] =\n    useState<ProgressStepProps['variant']>('info');\n\n  const [hecToken, setHecToken] = useState('');\n  const [splunkServerHostName, setHostName] = useState('');\n  const [automationLogs, setAutomationLogs] = useState<React.ReactChild[]>([\n    `Logs from the automation would appear here\\n`,\n  ]);\n  const [error, setError] = useState<Error | undefined>();\n\n  return (\n    <>\n      <PageHeader>\n        <SplunkSetupTitle />\n      </PageHeader>\n      <Card>\n        <CardBody>\n          <Split hasGutter>\n            <SplitItem>\n              <ProgressStepper isVertical>\n                <ProgressStep\n                  isCurrent={step === 1}\n                  variant=\"success\"\n                  description=\"Create Index and HEC\"\n                  id=\"step1-splunk-app-step\"\n                  titleId=\"step1-splunk-app-step\"\n                  aria-label=\"completed Splunk app step (step 1)\"\n                >\n                  Step 1\n                </ProgressStep>\n                <ProgressStep\n                  isCurrent={step === 2}\n                  icon={\n                    step === 2 && stepIsInProgress ? (\n                      <InProgressIcon />\n                    ) : undefined\n                  }\n                  variant={step < 2 ? 'info' : stepVariant}\n                  description=\"Configure Splunk integration in Insights\"\n                  id=\"step2-setup-step\"\n                  titleId=\"step2-setup-step\"\n                  aria-label=\"setup step (step 2)\"\n                >\n                  Step 2\n                </ProgressStep>\n                <ProgressStep\n                  isCurrent={step === 3}\n                  variant={step < 3 ? 'pending' : stepVariant}\n                  description=\"Review\"\n                  id=\"step3-review-step\"\n                  titleId=\"step3-review-step\"\n                  aria-label=\"review step (step 3)\"\n                >\n                  Step 3\n                </ProgressStep>\n              </ProgressStepper>\n            </SplitItem>\n            <Divider orientation={{ default: 'vertical' }} />\n            <SplitItem isFilled>\n              {step === 2 && (\n                <SplunkSetupForm\n                  {...{\n                    setStep,\n                    stepIsInProgress,\n                    setStepIsInProgress,\n                    stepVariant,\n                    setStepVariant,\n                    hecToken,\n                    setHecToken,\n                    splunkServerHostName,\n                    setHostName,\n                    automationLogs,\n                    setAutomationLogs,\n                    setError,\n                  }}\n                />\n              )}\n              {step === 3 && (\n                <SplunkSetupFinished\n                  isSuccess={stepVariant === 'success'}\n                  error={error}\n                />\n              )}\n            </SplitItem>\n          </Split>\n        </CardBody>\n      </Card>\n    </>\n  );\n};\n","import { Button, ButtonProps } from '@patternfly/react-core';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport * as React from 'react';\nimport { Link, LinkProps } from 'react-router-dom';\n\ntype ButtonLinkProps = ButtonProps & Omit<LinkProps, 'component'>;\n\nexport const ButtonLink: React.FunctionComponent<ButtonLinkProps> = ({\n  to,\n  ...props\n}) => {\n  const { getBundle } = useChrome();\n  return (\n    <Link to={`/${getBundle()}/notifications${to}`}>\n      <Button {...props}>{props.children}</Button>\n    </Link>\n  );\n};\n","import {\n  DatePicker,\n  DatePickerRef,\n} from '@patternfly/react-core/dist/dynamic/components/DatePicker';\nimport {\n  Split,\n  SplitItem,\n} from '@patternfly/react-core/dist/dynamic/layouts/Split';\nimport { TextInputProps } from '@patternfly/react-core/dist/dynamic/components/TextInput';\nimport {\n  Select,\n  SelectOption,\n  SelectOptionObject,\n  SelectVariant,\n} from '@patternfly/react-core/deprecated';\nimport { important } from 'csx';\nimport { add, format, isAfter, isBefore, min, parseISO } from 'date-fns';\nimport produce from 'immer';\nimport * as React from 'react';\nimport { Dispatch, useRef } from 'react';\nimport { SetStateAction } from 'react';\nimport { style } from 'typestyle';\n\nimport { EventPeriod } from '../../../types/Event';\n\nexport enum EventLogDateFilterValue {\n  TODAY = 'today',\n  YESTERDAY = 'yesterday',\n  LAST_7 = 'last_7',\n  LAST_14 = 'last_14',\n  CUSTOM = 'custom',\n}\n\nconst labels: Record<EventLogDateFilterValue, string> = {\n  [EventLogDateFilterValue.TODAY]: 'Today',\n  [EventLogDateFilterValue.YESTERDAY]: 'Yesterday',\n  [EventLogDateFilterValue.LAST_7]: 'Last 7 days',\n  [EventLogDateFilterValue.LAST_14]: 'Last 14 days',\n  [EventLogDateFilterValue.CUSTOM]: 'Custom',\n};\n\nconst datePickerClassName = style({\n  backgroundColor: important('white'),\n  cursor: 'pointer',\n  $nest: {\n    '&::placeholder': {\n      color: important('black'),\n    },\n    '&:hover': {\n      borderBottomColor: 'var(--pf-v5-global--active-color--100)',\n    },\n  },\n});\n\nclass EventLogSelectObject implements SelectOptionObject {\n  readonly value: EventLogDateFilterValue;\n\n  constructor(value: EventLogDateFilterValue) {\n    this.value = value;\n  }\n\n  toString(): string {\n    return labels[this.value];\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  compareTo(selectOption: any): boolean {\n    if (selectOption instanceof EventLogSelectObject) {\n      return selectOption.value === this.value;\n    }\n\n    return false;\n  }\n}\n\nconst dateInputProps: TextInputProps = {\n  readOnly: true,\n  className: datePickerClassName,\n};\n\ninterface CustomDateFilterProps {\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n}\n\nconst CustomDateFilter: React.FunctionComponent<CustomDateFilterProps> = (\n  props\n) => {\n  const maxDate = React.useMemo(() => new Date(), []);\n  const minDate = React.useMemo(\n    () =>\n      add(maxDate, {\n        days: -14,\n      }),\n    [maxDate]\n  );\n\n  const startRangeValidators = React.useMemo(\n    () => [\n      (date) => {\n        if (isBefore(date, minDate)) {\n          return 'Date is before the retention policy';\n        } else if (isAfter(date, maxDate)) {\n          return 'Date is after today';\n        } else if (props.period[1] && isAfter(date, props.period[1])) {\n          return 'Start date must be before end date';\n        }\n\n        return '';\n      },\n    ],\n    [minDate, maxDate, props.period]\n  );\n\n  const endRangeValidators = React.useMemo(\n    () => [\n      (date) => {\n        if (isBefore(date, minDate)) {\n          return 'Date is before the retention policy';\n        } else if (isAfter(date, maxDate)) {\n          return 'Date is after today';\n        } else if (props.period[0] && isBefore(date, props.period[0])) {\n          return 'End date must be after start date';\n        }\n\n        return '';\n      },\n    ],\n    [minDate, maxDate, props.period]\n  );\n\n  const setStartDate = React.useCallback(\n    (start: string) => {\n      const setPeriod = props.setPeriod;\n      const startDate = parseISO(start);\n      setPeriod(\n        produce((draft) => {\n          draft[0] = startDate;\n          if (!draft[1]) {\n            draft[1] = min([add(startDate, { days: 1 }), maxDate]);\n          }\n        })\n      );\n    },\n    [props.setPeriod, maxDate]\n  );\n\n  const setEndDate = React.useCallback(\n    (end: string) => {\n      const setPeriod = props.setPeriod;\n      setPeriod(\n        produce((draft) => {\n          draft[1] = parseISO(end);\n        })\n      );\n    },\n    [props.setPeriod]\n  );\n\n  const startValue: string | undefined = React.useMemo(\n    () => (props.period[0] ? format(props.period[0], 'yyyy-MM-dd') : undefined),\n    [props.period]\n  );\n  const endValue: string | undefined = React.useMemo(\n    () => (props.period[1] ? format(props.period[1], 'yyyy-MM-dd') : undefined),\n    [props.period]\n  );\n\n  const startDateRef = useRef<DatePickerRef>(null);\n  const endDateRef = useRef<DatePickerRef>(null);\n\n  const onClickStartDateInput = React.useCallback(() => {\n    startDateRef.current?.setCalendarOpen(true);\n  }, [startDateRef]);\n\n  const onClickEndDateInput = React.useCallback(() => {\n    endDateRef.current?.setCalendarOpen(true);\n  }, [endDateRef]);\n\n  const startDateInputProps = React.useMemo<TextInputProps>(\n    () => ({\n      ...dateInputProps,\n      onClick: onClickStartDateInput,\n    }),\n    [onClickStartDateInput]\n  );\n\n  const endDateInputProps = React.useMemo<TextInputProps>(\n    () => ({\n      ...dateInputProps,\n      onClick: onClickEndDateInput,\n    }),\n    [onClickEndDateInput]\n  );\n\n  return (\n    <Split>\n      <SplitItem>\n        <DatePicker\n          placeholder=\"Start\"\n          inputProps={startDateInputProps}\n          validators={startRangeValidators}\n          onChange={(_e, val) => setStartDate(val)}\n          value={startValue}\n          ref={startDateRef}\n        />\n      </SplitItem>\n      <SplitItem className=\"pf-v5-u-align-self-center pf-v5-u-px-sm pf-v5-u-color-300\">\n        to\n      </SplitItem>\n      <SplitItem>\n        <DatePicker\n          placeholder=\"End\"\n          inputProps={endDateInputProps}\n          validators={endRangeValidators}\n          onChange={(_e, val) => setEndDate(val)}\n          value={endValue}\n          ref={endDateRef}\n        />\n      </SplitItem>\n    </Split>\n  );\n};\n\nexport interface EventLogDateFilterProps {\n  value: EventLogDateFilterValue;\n  setValue: (value: EventLogDateFilterValue) => void;\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n}\n\nexport const EventLogDateFilter: React.FunctionComponent<\n  EventLogDateFilterProps\n> = (props) => {\n  const options = React.useMemo(\n    () =>\n      Object.values(EventLogDateFilterValue).map((v) => (\n        <SelectOption key={v} value={new EventLogSelectObject(v)} />\n      )),\n    []\n  );\n  const [isOpen, setOpen] = React.useState(false);\n  const onToggle = React.useCallback(() => setOpen((prev) => !prev), [setOpen]);\n  const value = React.useMemo(\n    () => new EventLogSelectObject(props.value),\n    [props.value]\n  );\n  const onSelect = React.useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (_e: any, selectObject: SelectOptionObject | string) => {\n      const setValue = props.setValue;\n      if (selectObject instanceof EventLogSelectObject) {\n        setValue(selectObject.value);\n        setOpen(false);\n      }\n    },\n    [props.setValue]\n  );\n\n  return (\n    <Split>\n      <SplitItem>\n        <Select\n          isOpen={isOpen}\n          variant={SelectVariant.single}\n          onToggle={onToggle}\n          selections={value}\n          onSelect={onSelect}\n        >\n          {options}\n        </Select>\n      </SplitItem>\n      {props.value === EventLogDateFilterValue.CUSTOM && (\n        <SplitItem>\n          <CustomDateFilter\n            period={props.period}\n            setPeriod={props.setPeriod}\n            retentionDays={props.retentionDays}\n          />\n        </SplitItem>\n      )}\n    </Split>\n  );\n};\n","import { Popover, Text, TextContent } from '@patternfly/react-core';\nimport * as React from 'react';\nimport { TableHelp } from './TableHelp';\n\nexport interface TableHelpPopoverProps {\n  title: string | React.ReactNode;\n  tableBody: ReadonlyArray<[React.ReactNode, React.ReactNode]>;\n}\n\nconst getHeaderContent = (title: string | React.ReactNode): React.ReactNode => {\n  if (typeof title === 'string') {\n    return (\n      <TextContent>\n        <Text component=\"h6\">{title}</Text>\n      </TextContent>\n    );\n  }\n\n  return title;\n};\n\nexport const TableHelpPopover: React.FunctionComponent<\n  React.PropsWithChildren<TableHelpPopoverProps>\n> = (props) => {\n  return (\n    <Popover\n      hasAutoWidth\n      headerContent={getHeaderContent(props.title)}\n      bodyContent={<TableHelp tableBody={props.tableBody} />}\n    >\n      <>{props.children}</>\n    </Popover>\n  );\n};\n","import {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  InProgressIcon,\n  UnknownIcon,\n} from '@patternfly/react-icons';\nimport { assertNever } from 'assert-never';\nimport * as React from 'react';\n\nimport { Schemas } from '../../generated/OpenapiNotifications';\nimport { Status } from '../Status/Status';\nimport { Icon } from '@patternfly/react-core';\n\ninterface NotificationStatusProps {\n  status: Schemas.EventLogEntryActionStatus;\n}\n\nexport const NotificationStatus: React.FunctionComponent<\n  NotificationStatusProps\n> = (props) => {\n  switch (props.status) {\n    case 'FAILED':\n      return <NotificationStatusFailed />;\n    case 'PROCESSING':\n      return <NotificationStatusProcessing />;\n    case 'SENT':\n      return <NotificationStatusSent />;\n    case 'SUCCESS':\n      return <NotificationStatusSuccess />;\n    case 'UNKNOWN':\n      return <NotificationStatusUnknown />;\n    default:\n      assertNever(props.status);\n  }\n};\n\nexport const NotificationStatusFailed: React.FunctionComponent = () => (\n  <Status text=\"Failure\">\n    <Icon status=\"danger\">\n      <ExclamationCircleIcon data-testid=\"fail-icon\" />\n    </Icon>\n  </Status>\n);\n\nexport const NotificationStatusUnknown: React.FunctionComponent = () => (\n  <Status text=\"Unknown\">\n    <UnknownIcon data-testid=\"unknown-icon\" />\n  </Status>\n);\n\nexport const NotificationStatusProcessing: React.FunctionComponent = () => (\n  <Status text=\"Processing\">\n    <InProgressIcon data-testid=\"in-progress-icon\" />\n  </Status>\n);\n\nexport const NotificationStatusSent: React.FunctionComponent = () => (\n  <Status text=\"Sent\">\n    <Icon status=\"success\">\n      <CheckCircleIcon data-testid=\"success-icon\" />\n    </Icon>\n  </Status>\n);\n\nexport const NotificationStatusSuccess: React.FunctionComponent = () => (\n  <Status text=\"Success\">\n    <Icon status=\"success\">\n      <CheckCircleIcon data-testid=\"success-icon\" />\n    </Icon>\n  </Status>\n);\n\nexport const NotificationStatusWarning: React.FunctionComponent = () => (\n  <Status text=\"Warning\">\n    <Icon status=\"warning\">\n      <ExclamationTriangleIcon />\n    </Icon>\n  </Status>\n);\n","import * as React from 'react';\n\nimport { TableHelpPopover } from '../../TableHelpPopover/TableHelpPopover';\nimport {\n  NotificationStatusFailed,\n  NotificationStatusProcessing,\n  NotificationStatusSent,\n  NotificationStatusSuccess,\n  NotificationStatusWarning,\n} from '../NotificationStatus';\n\nconst tableData: ReadonlyArray<[React.ReactNode, React.ReactNode]> = [\n  [\n    <NotificationStatusSuccess key=\"status-success\" />,\n    'The notification was executed successfully',\n  ],\n  [\n    <NotificationStatusSent key=\"status-sent\" />,\n    'The notification was sent for processing - but there is no way to assert if it was executed successfully',\n  ],\n  [\n    <NotificationStatusWarning key=\"status-warning\" />,\n    'The notification was executed successfully after some retries',\n  ],\n  [\n    <NotificationStatusProcessing key=\"status-processing\" />,\n    'The notification was sent for processing and is awaiting an outcome result',\n  ],\n  [\n    <NotificationStatusFailed key=\"status-failed-externally\" />,\n    'An unexpected error occurred while processing the notification',\n  ],\n];\n\nexport const ActionsHelpPopover: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => (\n  <TableHelpPopover title=\"Action status meaning\" tableBody={tableData}>\n    <>{props.children}</>\n  </TableHelpPopover>\n);\n","import { Skeleton, Tooltip } from '@patternfly/react-core';\nimport {\n  Table as TableComposable,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from '@patternfly/react-table/dist/dynamic/components/Table';\nimport assertNever from 'assert-never';\nimport { important } from 'csx';\nimport * as React from 'react';\nimport { useAsync } from 'react-use';\nimport { style } from 'typestyle';\n\nimport Config from '../../../config/Config';\nimport {\n  NotificationEventAction,\n  NotificationEventStatus,\n} from '../../../types/Event';\nimport {\n  GetIntegrationRecipient,\n  IntegrationType,\n} from '../../../types/Integration';\nimport {\n  NotificationStatusFailed,\n  NotificationStatusProcessing,\n  NotificationStatusSent,\n  NotificationStatusSuccess,\n  NotificationStatusUnknown,\n  NotificationStatusWarning,\n} from '../NotificationStatus';\n\nconst headerClass = style({\n  minWidth: important('90px'),\n});\n\ninterface EventLogActionPopoverContentProps {\n  action: NotificationEventAction;\n  getIntegrationRecipient: GetIntegrationRecipient;\n}\n\nconst toDisplayStatus = (status: NotificationEventStatus) => {\n  switch (status.last) {\n    case 'SUCCESS':\n      if (status.isDegraded) {\n        return <NotificationStatusWarning />;\n      }\n\n      return <NotificationStatusSuccess />;\n    case 'SENT':\n      return <NotificationStatusSent />;\n    case 'PROCESSING':\n      return <NotificationStatusProcessing />;\n    case 'FAILED':\n      return <NotificationStatusFailed />;\n    case 'UNKNOWN':\n      return <NotificationStatusUnknown />;\n    default:\n      assertNever(status.last);\n  }\n};\n\nconst succeeded = (action: NotificationEventAction) => {\n  if (action.endpointType === IntegrationType.EMAIL_SUBSCRIPTION) {\n    return 'emails sent';\n  }\n\n  return 'succeeded';\n};\n\nconst failed = (action: NotificationEventAction) => {\n  if (action.endpointType === IntegrationType.EMAIL_SUBSCRIPTION) {\n    return 'emails failed';\n  }\n\n  return 'failed';\n};\n\nexport const EventLogActionPopoverContent: React.FunctionComponent<\n  EventLogActionPopoverContentProps\n> = (props) => {\n  const {\n    action: { id },\n    getIntegrationRecipient,\n  } = props;\n  const recipient = useAsync(\n    async () => id && getIntegrationRecipient(id),\n    [id, getIntegrationRecipient]\n  );\n\n  return (\n    <TableComposable\n      borders={false}\n      variant={TableVariant.compact}\n      isStickyHeader={true}\n    >\n      <Thead>\n        <Tr>\n          <Th className={headerClass}>Action</Th>\n          <Th className={headerClass}>Recipient</Th>\n          <Th className={headerClass}>Status</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        <Tr>\n          <Td>{Config.integrations.types[props.action.endpointType].action}</Td>\n          <Td>\n            {id ? (\n              recipient.loading ? (\n                <Skeleton width=\"150px\" />\n              ) : (\n                recipient.value\n              )\n            ) : (\n              <Tooltip content=\"The integration no longer exists, it could have been deleted.\">\n                <span>Unknown integration</span>\n              </Tooltip>\n            )}\n          </Td>\n          <Td>\n            <div>{toDisplayStatus(props.action.status)}</div>\n            {props.action.successCount > 1 && (\n              <div className=\"pf-v5-u-color-300\">\n                {props.action.successCount} {succeeded(props.action)}{' '}\n              </div>\n            )}\n            {props.action.errorCount > 1 && (\n              <div className=\"pf-v5-u-color-300\">\n                {props.action.errorCount} {failed(props.action)}{' '}\n              </div>\n            )}\n          </Td>\n        </Tr>\n      </Tbody>\n    </TableComposable>\n  );\n};\n","import { EmptyStateVariant } from '@patternfly/react-core/dist/dynamic/components/EmptyState';\nimport { Popover } from '@patternfly/react-core/dist/dynamic/components/Popover';\nimport { Skeleton } from '@patternfly/react-core/dist/dynamic/components/Skeleton';\nimport {\n  Button,\n  ButtonVariant,\n} from '@patternfly/react-core/dist/dynamic/components/Button';\nimport {\n  Label,\n  LabelGroup,\n  LabelProps,\n} from '@patternfly/react-core/dist/dynamic/components/Label';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  HelpIcon,\n  InProgressIcon,\n  UnknownIcon,\n} from '@patternfly/react-icons';\nimport {\n  IExtraColumnData,\n  SortByDirection,\n  Table as TableComposable,\n  Tbody,\n  Td,\n  Th,\n  ThProps,\n  Thead,\n  Tr,\n} from '@patternfly/react-table/dist/dynamic/components/Table';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport assertNever from 'assert-never';\nimport * as React from 'react';\nimport { style } from 'typestyle';\n\nimport Config from '../../../config/Config';\nimport { Messages } from '../../../properties/Messages';\nimport {\n  NotificationEvent,\n  NotificationEventStatus,\n} from '../../../types/Event';\nimport { GetIntegrationRecipient } from '../../../types/Integration';\nimport { EmptyStateSearch } from '../../EmptyStateSearch';\nimport { ActionsHelpPopover } from './ActionsHelpPopover';\nimport { EventLogActionPopoverContent } from './EventLogActionPopoverContent';\n\nexport type SortDirection = 'asc' | 'desc';\n\nexport interface EventLogTableProps {\n  events: ReadonlyArray<NotificationEvent>;\n  loading: boolean;\n  onSort: (column: EventLogTableColumns, direction: SortDirection) => void;\n  sortColumn: EventLogTableColumns;\n  sortDirection: SortDirection;\n  getIntegrationRecipient: GetIntegrationRecipient;\n}\n\nexport enum EventLogTableColumns {\n  EVENT,\n  SERVICE,\n  DATE,\n}\n\nconst labelClassName = style({\n  cursor: 'pointer',\n});\n\nexport const toLabelProps = (\n  actionStatus: NotificationEventStatus\n): Pick<LabelProps, 'color' | 'icon'> => {\n  switch (actionStatus.last) {\n    case 'FAILED':\n      return {\n        color: 'red',\n        icon: <ExclamationCircleIcon />,\n      };\n    case 'SENT':\n    case 'SUCCESS':\n      if (actionStatus.isDegraded) {\n        return {\n          color: 'orange',\n          icon: <ExclamationTriangleIcon />,\n        };\n      }\n\n      return {\n        color: 'green',\n        icon: <CheckCircleIcon />,\n      };\n    case 'PROCESSING':\n      return {\n        color: 'grey',\n        icon: <InProgressIcon />,\n      };\n    case 'UNKNOWN':\n      return {\n        color: 'grey',\n        icon: <UnknownIcon />,\n      };\n    default:\n      assertNever(actionStatus.last);\n  }\n};\n\nexport const EventLogTable: React.FunctionComponent<EventLogTableProps> = (\n  props\n) => {\n  const onSort = React.useCallback(\n    (\n      _event: React.MouseEvent,\n      columnIndex: number,\n      sortByDirection: SortByDirection,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      _extraData: IExtraColumnData\n    ) => {\n      const externalOnSort = props.onSort;\n      externalOnSort(columnIndex, sortByDirection);\n    },\n    [props.onSort]\n  );\n\n  const sortOptions: Record<EventLogTableColumns, undefined | ThProps['sort']> =\n    React.useMemo(\n      () => ({\n        [EventLogTableColumns.EVENT]: undefined,\n        [EventLogTableColumns.SERVICE]: undefined,\n        [EventLogTableColumns.DATE]: {\n          sortBy: {\n            direction: props.sortDirection,\n            index: props.sortColumn,\n          },\n          columnIndex: EventLogTableColumns.DATE,\n          onSort,\n        },\n      }),\n      [props.sortColumn, props.sortDirection, onSort]\n    );\n\n  const rows = React.useMemo(() => {\n    const events = props.events;\n    if (props.loading) {\n      return [...Array(10)].map((_, i) => (\n        <Tr key={`loading-row-${i}`}>\n          <Td>\n            <Skeleton />\n          </Td>\n          <Td>\n            <Skeleton />\n          </Td>\n          <Td>\n            <Skeleton />\n          </Td>\n          <Td>\n            <Skeleton />\n          </Td>\n        </Tr>\n      ));\n    } else {\n      return events.map((e) => (\n        <Tr key={e.id}>\n          <Td>{e.event}</Td>\n          <Td>\n            {e.application} - {e.bundle}\n          </Td>\n          <Td>\n            {e.actions.length > 0 ? (\n              <LabelGroup>\n                {e.actions.map((a) => (\n                  <Popover\n                    key={a.id}\n                    hasAutoWidth\n                    bodyContent={\n                      <EventLogActionPopoverContent\n                        action={a}\n                        getIntegrationRecipient={props.getIntegrationRecipient}\n                      />\n                    }\n                  >\n                    <Label\n                      className={labelClassName}\n                      {...toLabelProps(a.status)}\n                    >\n                      {Config.integrations.types[a.endpointType].action}\n                    </Label>\n                  </Popover>\n                ))}\n              </LabelGroup>\n            ) : (\n              'No actions'\n            )}\n          </Td>\n          <Td>\n            <DateFormat type=\"exact\" date={e.date} />\n          </Td>\n        </Tr>\n      ));\n    }\n  }, [props.loading, props.events, props.getIntegrationRecipient]);\n\n  if (rows.length === 0) {\n    return (\n      <EmptyStateSearch\n        variant={EmptyStateVariant.full}\n        title={Messages.components.eventLog.table.notFound.title}\n        description={Messages.components.eventLog.table.notFound.description}\n      />\n    );\n  }\n\n  return (\n    <TableComposable isStickyHeader={true}>\n      <Thead>\n        <Tr>\n          <Th sort={sortOptions[EventLogTableColumns.EVENT]}>Event type</Th>\n          <Th sort={sortOptions[EventLogTableColumns.SERVICE]}>Service</Th>\n          <Th>\n            Action taken{' '}\n            <ActionsHelpPopover>\n              <Button variant={ButtonVariant.plain}>\n                <HelpIcon />\n              </Button>\n            </ActionsHelpPopover>\n          </Th>\n          <Th sort={sortOptions[EventLogTableColumns.DATE]}>Date and time</Th>\n        </Tr>\n      </Thead>\n      <Tbody>{rows}</Tbody>\n    </TableComposable>\n  );\n};\n","import {\n  getInsights,\n  getInsightsEnvironment,\n} from '@redhat-cloud-services/insights-common-typescript';\n\nimport { getNotificationActions } from '../config/Config';\nimport { NotificationType } from '../types/Notification';\n\nexport const useNotifications = (): ReadonlyArray<NotificationType> => {\n  const insights = getInsights();\n  const environment = getInsightsEnvironment(insights);\n\n  return getNotificationActions(environment);\n};\n","import {\n  ClearFilters,\n  Filters,\n  SetFilters,\n} from '@redhat-cloud-services/insights-common-typescript';\n\nexport enum EventLogFilterColumn {\n  EVENT = 'event',\n  BUNDLE = 'bundle',\n  SERVICE = 'service',\n  ACTION_TYPE = 'endpointTypes',\n  ACTION_STATUS = 'status',\n}\n\nexport type EventLogFilters = Filters<typeof EventLogFilterColumn>;\nexport type SetEventLogFilters = SetFilters<typeof EventLogFilterColumn>;\nexport type ClearEventLogFilters = ClearFilters<typeof EventLogFilterColumn>;\n","// Array utilities\n\nexport const intersect = <T>(\n  arr1: ReadonlyArray<T>,\n  arr2: ReadonlyArray<T>\n): Array<T> => arr1.filter((e) => arr2.includes(e));\nexport const diff = <T>(\n  arr: ReadonlyArray<T>,\n  minus: ReadonlyArray<T>\n): Array<T> => arr.filter((e) => !minus.includes(e));\n\nexport const areEqual = <T>(\n  arr1: ReadonlyArray<T>,\n  arr2: ReadonlyArray<T>,\n  noOrder?: boolean\n): boolean => {\n  if (!arr1 || !arr2) {\n    return false;\n  } else if (arr1 === arr2) {\n    return true;\n  } else if (arr1.length === arr2.length) {\n    return arr1.every((e, idx) => {\n      if (\n        (noOrder && arr2.includes(e)) ||\n        (!noOrder && arr1[idx] === arr2[idx])\n      ) {\n        return true;\n      }\n\n      return false;\n    });\n  } else {\n    return false;\n  }\n};\n","import { TreeView, TreeViewDataItem } from '@patternfly/react-core';\nimport { Dropdown, DropdownToggle } from '@patternfly/react-core/deprecated';\nimport { TreeViewCheckProps } from '@patternfly/react-core/dist/esm/components/TreeView/TreeViewListItem';\nimport { AngleDownIcon } from '@patternfly/react-icons';\nimport produce from 'immer';\nimport React, { ChangeEvent } from 'react';\n\nimport { Schemas } from '../../../generated/OpenapiNotifications';\nimport { Modify } from '../../../types/Modify';\nimport { areEqual } from '../../../utils/Arrays';\nimport { EventLogCustomFilter } from './usePrimaryToolbarFilterConfigWrapper';\n\ninterface EventLogTreeFilterProps {\n  groups: readonly Schemas.Facet[];\n  placeholder: string;\n  filters: EventLogCustomFilter[];\n  updateFilters: React.Dispatch<React.SetStateAction<EventLogCustomFilter[]>>;\n}\n\ntype TreeNodeItem = Modify<\n  TreeViewDataItem,\n  {\n    id: string;\n    checkProps: TreeViewCheckProps;\n    children?: TreeNodeItem[] | undefined;\n  }\n>;\n\ninterface TreeNodeDict {\n  [key: string]: TreeNodeItem;\n}\n\nconst isChecked = (treeNode: TreeNodeItem) => {\n  return !!treeNode.checkProps.checked;\n};\n\nconst childChecked = (treeNode: TreeNodeItem): boolean => {\n  return treeNode.children\n    ? treeNode.children.some((child) => childChecked(child))\n    : isChecked(treeNode);\n};\n\nconst allChildrenChecked = (treeNode: TreeNodeItem): boolean => {\n  return treeNode.children\n    ? treeNode.children.every((child) => allChildrenChecked(child))\n    : isChecked(treeNode);\n};\n\nconst initTreeNodeById = (\n  groups: readonly Schemas.Facet[],\n  filters: EventLogCustomFilter[]\n) => {\n  const init: TreeNodeDict = {};\n  groups.forEach((group) => {\n    const currentFilter = filters.find(\n      (filter) => filter.bundleId === group.name\n    );\n    const currentFilterChipValues = currentFilter?.chips?.map(\n      (chip) => chip.value\n    );\n\n    const items = group.children as Schemas.Facet[];\n    const checkAll =\n      items.length !== 0\n        ? items.every((item) => currentFilterChipValues?.includes(item.name))\n        : false;\n    init[group.name] = {\n      id: group.name,\n      name: group.displayName,\n      checkProps: { checked: checkAll || (!currentFilter ? false : null) },\n      children:\n        items.length !== 0\n          ? items.map((item) => ({\n              id: item.name,\n              name: item.displayName,\n              checkProps: {\n                checked:\n                  checkAll || currentFilterChipValues?.includes(item.name),\n              },\n            }))\n          : undefined,\n    };\n  });\n\n  return init;\n};\n\nexport const EventLogTreeFilter: React.FunctionComponent<\n  EventLogTreeFilterProps\n> = (props) => {\n  const { groups, placeholder, filters, updateFilters } = props;\n\n  const initialize = React.useMemo(\n    () => initTreeNodeById(groups, filters),\n    [groups, filters]\n  );\n\n  const [treeNodeById, setTreeNodeById] =\n    React.useState<TreeNodeDict>(initialize);\n  const [isToggled, setIsToggled] = React.useState(false);\n\n  const treeDataArray = React.useMemo(\n    () => Object.values(treeNodeById),\n    [treeNodeById]\n  );\n\n  const [activeFilters, activeBundleIds] = React.useMemo(() => {\n    const bundleIds: string[] = [];\n\n    const activeParentFilters = treeDataArray.filter(\n      (treeNode) =>\n        treeNode.checkProps.checked || treeNode.checkProps.checked === null\n    );\n    const activeFilters = activeParentFilters.map((parentFilter) => {\n      bundleIds.push(parentFilter.id);\n      return {\n        bundleId: parentFilter.id,\n        category: parentFilter.name as string,\n        chips: parentFilter.children\n          ?.filter((childNode) => childNode.checkProps.checked)\n          .map((childFilter) => ({\n            name: childFilter.name as string,\n            value: childFilter.id,\n            isRead: true,\n          })) ?? [\n          {\n            name: parentFilter.name,\n            value: parentFilter.id,\n            isRead: true,\n          },\n        ],\n      } as EventLogCustomFilter;\n    });\n\n    return [activeFilters, bundleIds];\n  }, [treeDataArray]);\n\n  // Updates TreeView with changes made outside of the component (Network Requests returning && Delete/Clearing filters)\n  React.useEffect(() => {\n    if (groups.length !== 0) {\n      setTreeNodeById(\n        produce((prev) => {\n          if (Object.keys(prev).length === 0) {\n            return initialize;\n          } else if (filters.length === 0) {\n            return initialize;\n          } else {\n            filters.forEach((activeFilter) => {\n              const treeNode = prev[activeFilter.bundleId];\n              const activeChips = activeFilter.chips.map((chip) => chip.value);\n\n              treeNode.children?.forEach((childNode) => {\n                childNode.checkProps.checked = activeChips.includes(\n                  childNode.id\n                );\n              });\n\n              if (allChildrenChecked(treeNode)) {\n                treeNode.checkProps.checked = true;\n              } else if (childChecked(treeNode)) {\n                treeNode.checkProps.checked = null;\n              } else {\n                treeNode.checkProps.checked = false;\n              }\n            });\n          }\n        })\n      );\n    }\n  }, [groups, filters, initialize]);\n\n  // Updates custom filters based on changes made inside TreeView component\n  React.useEffect(() => {\n    updateFilters(\n      produce((prev) => {\n        if (prev.length === 0 && activeFilters.length === 0) {\n          return prev;\n        } else if (prev.length !== 0 && activeFilters.length === 0) {\n          return [];\n        } else {\n          const prevBundles = prev.map((prevFilter) => prevFilter.bundleId);\n\n          const areBundlesEqual = areEqual(prevBundles, activeBundleIds);\n          const areFiltersEqual =\n            areBundlesEqual &&\n            activeFilters.every((entry, idx) => {\n              if (prev[idx]) {\n                if (entry.bundleId === prev[idx].bundleId) {\n                  const prevChips = prev[idx].chips.map((chip) => chip.value);\n                  const currChips = entry.chips.map((chip) => chip.value);\n\n                  return areEqual(prevChips, currChips, true);\n                }\n              }\n\n              return false;\n            });\n\n          return areFiltersEqual ? prev : activeFilters;\n        }\n      })\n    );\n  }, [activeFilters, activeBundleIds, updateFilters]);\n\n  const onCheck = (\n    event: ChangeEvent<HTMLInputElement>,\n    treeNode: TreeNodeItem,\n    parentNode: TreeNodeItem\n  ) => {\n    const checked = event.target.checked;\n    setTreeNodeById(\n      produce((prev) => {\n        if (parentNode) {\n          const children = prev[parentNode.id].children;\n          children?.some((childNode) => {\n            if (childNode.id === treeNode.id) {\n              childNode.checkProps.checked = checked;\n              return true;\n            }\n\n            return false;\n          });\n\n          if (allChildrenChecked(prev[parentNode.id])) {\n            prev[parentNode.id].checkProps.checked = true;\n          } else if (childChecked(prev[parentNode.id])) {\n            prev[parentNode.id].checkProps.checked = null;\n          } else {\n            prev[parentNode.id].checkProps.checked = checked;\n          }\n        } else {\n          prev[treeNode.id].checkProps.checked = checked;\n          prev[treeNode.id].children?.forEach(\n            (leafNode) => (leafNode.checkProps.checked = checked)\n          );\n        }\n      })\n    );\n  };\n\n  const onCheckWrapper = (\n    event: ChangeEvent<Element>,\n    treeNode: TreeViewDataItem,\n    parentNode: TreeViewDataItem\n  ) => {\n    onCheck(\n      event as ChangeEvent<HTMLInputElement>,\n      treeNode as TreeNodeItem,\n      parentNode as TreeNodeItem\n    );\n  };\n\n  return (\n    <Dropdown\n      toggle={\n        <DropdownToggle\n          onToggle={() => setIsToggled(!isToggled)}\n          toggleIndicator={AngleDownIcon}\n        >\n          {placeholder}\n        </DropdownToggle>\n      }\n      isOpen={isToggled}\n    >\n      <TreeView\n        data={treeDataArray}\n        hasCheckboxes={true}\n        onCheck={onCheckWrapper}\n      />\n    </Dropdown>\n  );\n};\n","import {\n  Icon,\n  PaginationProps,\n  PaginationVariant,\n} from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  InProgressIcon,\n} from '@patternfly/react-icons';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { ConditionalFilterProps } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { FilterChipsProps } from '@redhat-cloud-services/frontend-components/FilterChips';\nimport {\n  ColumnsMetada,\n  OuiaComponentProps,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { Dispatch } from 'react';\nimport { SetStateAction } from 'react';\n\nimport Config from '../../../config/Config';\nimport { useIntegrations } from '../../../hooks/useIntegrations';\nimport { useNotifications } from '../../../hooks/useNotifications';\nimport { EventPeriod } from '../../../types/Event';\nimport { Facet, NotificationType } from '../../../types/Notification';\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport {\n  EventLogDateFilter,\n  EventLogDateFilterValue,\n} from './EventLogDateFilter';\nimport {\n  ClearEventLogFilters,\n  EventLogFilterColumn,\n  EventLogFilters,\n  SetEventLogFilters,\n} from './EventLogFilter';\nimport { usePrimaryToolbarFilterConfigWrapper } from './usePrimaryToolbarFilterConfigWrapper';\n\ninterface EventLogToolbarProps extends OuiaComponentProps {\n  filters: EventLogFilters;\n  setFilters: SetEventLogFilters;\n  clearFilter: ClearEventLogFilters;\n\n  bundleOptions: ReadonlyArray<Facet>;\n\n  pageCount: number;\n  count: number;\n  page: number;\n  perPage: number;\n  pageChanged: (page: number) => void;\n  perPageChanged: (page: number) => void;\n\n  dateFilter: EventLogDateFilterValue;\n  setDateFilter: (value: EventLogDateFilterValue) => void;\n\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n}\n\nconst notificationTypes: Record<NotificationType, { name: string }> = {\n  [NotificationType.EMAIL_SUBSCRIPTION]: {\n    name: 'Email',\n  },\n  [NotificationType.DRAWER]: {\n    name: 'Drawer',\n  },\n  [NotificationType.INTEGRATION]: {\n    name: 'Integration',\n  },\n};\n\nconst actionStatusMetadata = [\n  {\n    value: 'SUCCESS',\n    chipValue: 'Success',\n    label: (\n      <span>\n        <Icon status=\"success\">\n          <CheckCircleIcon /> Success\n        </Icon>\n      </span>\n    ),\n  },\n  {\n    value: 'SENT',\n    chipValue: 'Sent',\n    label: (\n      <span>\n        <Icon status=\"success\">\n          <CheckCircleIcon />\n        </Icon>\n        Sent\n      </span>\n    ),\n  },\n  {\n    value: 'UNKNOWN',\n    chipValue: 'Warning',\n    label: (\n      <span>\n        <ExclamationTriangleIcon className=\"pf-v5-u-warning-color-100\" />{' '}\n        Warning{' '}\n      </span>\n    ),\n  },\n  {\n    value: 'PROCESSING',\n    chipValue: 'Processing',\n    label: (\n      <span>\n        <InProgressIcon /> Processing{' '}\n      </span>\n    ),\n  },\n  {\n    value: 'FAILED',\n    chipValue: 'Failure',\n    label: (\n      <span>\n        <Icon status=\"danger\">\n          <ExclamationCircleIcon />\n        </Icon>\n        Failure\n      </span>\n    ),\n  },\n];\n\nexport const EventLogToolbar: React.FunctionComponent<\n  React.PropsWithChildren<EventLogToolbarProps>\n> = (props) => {\n  const notifications = useNotifications();\n  const integrations = useIntegrations();\n\n  const actionTypeMetadata = React.useMemo(() => {\n    return notifications\n      .map((notification) => ({\n        value: notification.toUpperCase(),\n        chipValue: notificationTypes[notification].name,\n        label: notificationTypes[notification].name,\n      }))\n      .concat(\n        integrations.map((integration) => ({\n          value: integration.toUpperCase(),\n          chipValue: Config.integrations.types[integration].name,\n          label: Config.integrations.types[integration].name,\n        }))\n      );\n  }, [notifications, integrations]);\n\n  const filterMetadata = React.useMemo<\n    Partial<ColumnsMetada<typeof EventLogFilterColumn>>\n  >(() => {\n    return {\n      [EventLogFilterColumn.EVENT]: {\n        label: 'Event',\n        placeholder: 'Filter by event',\n      },\n      [EventLogFilterColumn.SERVICE]: {\n        label: 'Service',\n        placeholder: 'Filter by service',\n      },\n      [EventLogFilterColumn.ACTION_TYPE]: {\n        label: 'Action Type',\n        placeholder: 'Filter by action type',\n        options: {\n          exclusive: false,\n          items: actionTypeMetadata,\n        },\n      },\n      [EventLogFilterColumn.ACTION_STATUS]: {\n        label: 'Action Status',\n        placeholder: 'Filter by action status',\n        options: {\n          exclusive: false,\n          items: actionStatusMetadata,\n        },\n      },\n    };\n  }, [actionTypeMetadata]);\n\n  const primaryToolbarFilterConfig = usePrimaryToolbarFilterConfigWrapper(\n    props.bundleOptions,\n    props.filters,\n    props.setFilters,\n    props.clearFilter,\n    filterMetadata as ColumnsMetada<typeof EventLogFilterColumn>\n  );\n\n  const pageChanged = React.useCallback(\n    (_event: unknown, page: number) => {\n      const inner = props.pageChanged;\n      inner(page);\n    },\n    [props.pageChanged]\n  );\n\n  const perPageChanged = React.useCallback(\n    (_event: unknown, perPage: number) => {\n      const inner = props.perPageChanged;\n      inner(perPage);\n    },\n    [props.perPageChanged]\n  );\n\n  const topPaginationProps = React.useMemo<PaginationProps>(\n    () => ({\n      itemCount: props.count,\n      page: props.page,\n      perPage: props.perPage,\n      isCompact: true,\n      variant: PaginationVariant.top,\n      onSetPage: pageChanged,\n      onFirstClick: pageChanged,\n      onPreviousClick: pageChanged,\n      onNextClick: pageChanged,\n      onLastClick: pageChanged,\n      onPageInput: pageChanged,\n      onPerPageSelect: perPageChanged,\n    }),\n    [props.count, props.page, props.perPage, pageChanged, perPageChanged]\n  );\n\n  const bottomPaginationProps = React.useMemo<PaginationProps>(\n    () => ({\n      ...topPaginationProps,\n      isCompact: false,\n      variant: PaginationVariant.bottom,\n    }),\n    [topPaginationProps]\n  );\n\n  return (\n    <div {...getOuiaProps('Notifications/EventLog/DualToolbar', props)}>\n      <PrimaryToolbar\n        {...primaryToolbarFilterConfig}\n        filterConfig={\n          primaryToolbarFilterConfig.filterConfig as ConditionalFilterProps\n        }\n        activeFiltersConfig={\n          primaryToolbarFilterConfig.activeFiltersConfig as FilterChipsProps\n        }\n        dedicatedAction={\n          <EventLogDateFilter\n            value={props.dateFilter}\n            setValue={props.setDateFilter}\n            retentionDays={props.retentionDays}\n            setPeriod={props.setPeriod}\n            period={props.period}\n          />\n        }\n        pagination={topPaginationProps}\n      />\n      {props.children}\n      <PrimaryToolbar pagination={bottomPaginationProps} />\n    </div>\n  );\n};\n","import {\n  ColumnsMetada,\n  usePrimaryToolbarFilterConfig,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport produce from 'immer';\nimport React from 'react';\n\nimport { Schemas } from '../../../generated/OpenapiNotifications';\nimport { areEqual } from '../../../utils/Arrays';\nimport {\n  ClearEventLogFilters,\n  EventLogFilterColumn,\n  EventLogFilters,\n  SetEventLogFilters,\n} from './EventLogFilter';\nimport { EventLogTreeFilter } from './EventLogTreeFilter';\n\nexport interface EventLogCustomFilter {\n  bundleId: string;\n  category: string;\n  chips: Array<{ name: string; value: string; isRead: boolean }>;\n}\n\n// Wrapper hook that gets the PrimaryToolbarFilterConfig and adds a custom conditional filter using Dropdown/Tree components\n// usePrimaryToolbarFilterConfig only supports 3 filter types: checkbox, radio, and text, so this extends that\nexport const usePrimaryToolbarFilterConfigWrapper = (\n  bundles: readonly Schemas.Facet[],\n  filters: EventLogFilters,\n  setFilters: SetEventLogFilters,\n  clearFilter: ClearEventLogFilters,\n  metaData: ColumnsMetada<typeof EventLogFilterColumn>\n) => {\n  const [customFilters, setCustomFilters] = React.useState(\n    [] as EventLogCustomFilter[]\n  );\n  const toolbarConfig = usePrimaryToolbarFilterConfig(\n    EventLogFilterColumn,\n    filters,\n    setFilters,\n    clearFilter,\n    metaData\n  );\n\n  const defaultDelete = React.useMemo(\n    () => toolbarConfig.activeFiltersConfig.onDelete,\n    [toolbarConfig.activeFiltersConfig.onDelete]\n  );\n  const customDelete = React.useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (_event: any, rawFilterConfigs: EventLogCustomFilter[]) => {\n      const regularFilterConfigs: EventLogCustomFilter[] = [];\n      const customFilterConfigs: EventLogCustomFilter[] = [];\n      rawFilterConfigs.forEach((filterConfig) => {\n        if (filterConfig.bundleId) {\n          customFilterConfigs.push(filterConfig);\n        } else {\n          regularFilterConfigs.push(filterConfig);\n        }\n      });\n\n      defaultDelete(_event, regularFilterConfigs);\n\n      if (customFilterConfigs.length !== 0) {\n        setCustomFilters(\n          produce((prev) => {\n            const idxToRemove: number[] = [];\n            prev.forEach((activeFilter, idx) => {\n              customFilterConfigs.some((deleteFilter) => {\n                if (activeFilter.bundleId === deleteFilter.bundleId) {\n                  const deletedChipValues = deleteFilter.chips.map(\n                    (chip) => chip.value\n                  );\n                  activeFilter.chips = activeFilter.chips.filter(\n                    (chip) => !deletedChipValues.includes(chip.value)\n                  );\n\n                  if (activeFilter.chips.length === 0) {\n                    idxToRemove.push(idx);\n                  }\n\n                  return true;\n                }\n\n                return false;\n              });\n            });\n\n            idxToRemove.forEach((idx, adjusted) => {\n              prev.splice(idx - adjusted, 1);\n            });\n          })\n        );\n      }\n    },\n    [defaultDelete, setCustomFilters]\n  );\n\n  // Converts URL Query Params to Filter Obj\n  const mapToEventLogCustomFilter = React.useCallback(\n    (filters: EventLogFilters, bundles?: readonly Schemas.Facet[]) => {\n      const createCustomFilterObj = (\n        bundleName: string,\n        bundle: Schemas.Facet | undefined,\n        applications: Schemas.Facet[] | undefined | null\n      ) => {\n        const bundleDisplayName = bundle?.displayName;\n        const applicationChips = !bundle?.children\n          ? [\n              {\n                name: 'Loading',\n                value: bundleName,\n                isRead: true,\n              },\n            ]\n          : applications?.length !== 0\n          ? applications?.map((application) => ({\n              name: application.displayName,\n              value: application.name,\n              isRead: true,\n            }))\n          : [\n              {\n                name: bundle.displayName,\n                value: bundle.name,\n                isRead: true,\n              },\n            ];\n\n        return {\n          bundleId: bundleName,\n          category: bundleDisplayName || `${bundleName} Loading...`,\n          chips: applicationChips,\n        };\n      };\n\n      const applicationsByBundle: { [key: string]: string[] } = {};\n      (filters.service as string[])?.forEach((queryParam) => {\n        const nameSplit = queryParam.split('.');\n        const bundleName = nameSplit[0];\n        const service = nameSplit[1];\n\n        if (!applicationsByBundle[bundleName]) {\n          applicationsByBundle[bundleName] = [service];\n        } else {\n          applicationsByBundle[bundleName].push(service);\n        }\n      });\n\n      const partialBundleFilters = Object.keys(applicationsByBundle).map(\n        (bundleName) => {\n          const bundle = bundles?.find((bundle) => bundle.name === bundleName);\n          const applications = bundle?.children?.filter((application) =>\n            applicationsByBundle[bundleName].includes(application.name)\n          );\n          return createCustomFilterObj(bundleName, bundle, applications);\n        }\n      );\n\n      const completeBundleFilters =\n        (filters.bundle as string[])?.map((queryParam) => {\n          const bundle = bundles?.find((bundle) => bundle.name === queryParam);\n          return createCustomFilterObj(queryParam, bundle, bundle?.children);\n        }) || [];\n\n      return completeBundleFilters.concat(\n        partialBundleFilters\n      ) as EventLogCustomFilter[];\n    },\n    []\n  );\n\n  // Run ONLY twice\n  //     1st - setup loading placeholders for filters\n  //     2nd - render actual filter bundles/applications\n  React.useEffect(() => {\n    setCustomFilters(\n      mapToEventLogCustomFilter(\n        filters,\n        bundles.length !== 0 ? bundles : undefined\n      )\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bundles, mapToEventLogCustomFilter]);\n\n  const applicationFilter = React.useMemo(() => {\n    return {\n      label: 'Service',\n      type: 'custom',\n      filterValues: {\n        children: (\n          <EventLogTreeFilter\n            groups={bundles}\n            placeholder={'Filter by service'}\n            filters={customFilters}\n            updateFilters={setCustomFilters}\n          />\n        ),\n      },\n    } as any; // eslint-disable-line @typescript-eslint/no-explicit-any\n  }, [bundles, customFilters]);\n\n  const activeFiltersConfig = React.useMemo(() => {\n    const activeFilters = toolbarConfig.activeFiltersConfig\n      .filters as EventLogCustomFilter[];\n    const nonCustomFilters = activeFilters.filter(\n      (activeFilter) => activeFilter && !activeFilter.bundleId\n    );\n    return nonCustomFilters.concat(customFilters);\n  }, [customFilters, toolbarConfig.activeFiltersConfig.filters]);\n\n  // Update URL Query Params for Bundles\n  const bundleProducer = React.useMemo(() => {\n    return produce(filters.bundle, (prev) => {\n      if (bundles.length === 0) {\n        return;\n      }\n\n      const currBundleFilters: string[] = [];\n      bundles.forEach((bundle) => {\n        const addToQueryParam = customFilters.some((bundleFilter) => {\n          if (bundleFilter.bundleId === bundle.name) {\n            // Edge case: Bundle has no children (but it gets a chip for UI reasons)\n            if (\n              bundle.children?.length === 0 &&\n              bundleFilter.chips.length === 1\n            ) {\n              return true;\n            }\n\n            return bundle.children?.length === bundleFilter.chips.length;\n          }\n\n          return false;\n        });\n\n        if (addToQueryParam) {\n          currBundleFilters.push(bundle.name);\n        }\n      });\n\n      return areEqual(prev as string[], currBundleFilters, true)\n        ? prev\n        : currBundleFilters;\n    });\n  }, [bundles, filters.bundle, customFilters]);\n\n  setFilters.bundle(bundleProducer);\n\n  return produce(toolbarConfig, (prev) => {\n    prev.filterConfig.items[1] = applicationFilter;\n\n    prev.activeFiltersConfig.filters = activeFiltersConfig;\n    prev.activeFiltersConfig.onDelete = customDelete;\n  });\n};\n","import { Split, SplitItem, Text, TextContent } from '@patternfly/react-core';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport PageHeaderFC from '@redhat-cloud-services/frontend-components/PageHeader';\nimport * as React from 'react';\n\ninterface PageHeaderProps {\n  title: React.ReactNode | string;\n  subtitle: React.ReactNode | string;\n  action?: React.ReactNode;\n}\n\nexport const PageHeader: React.FunctionComponent<\n  React.PropsWithChildren<PageHeaderProps>\n> = (props) => {\n  return (\n    <PageHeaderFC className=\"pf-v5-u-pb-md\">\n      <Split>\n        <SplitItem isFilled>\n          <PageHeaderTitle title={props.title} />\n          <TextContent className=\"pf-v5-u-pt-sm\">\n            <Text>{props.subtitle}</Text>\n          </TextContent>\n        </SplitItem>\n        {props.action && (\n          <SplitItem className=\"pf-v5-u-ml-3xl\">{props.action}</SplitItem>\n        )}\n      </Split>\n    </PageHeaderFC>\n  );\n};\n","import { fromUtc } from '@redhat-cloud-services/insights-common-typescript';\n\nimport { Schemas } from '../../generated/OpenapiNotifications';\nimport { NotificationEvent, NotificationEventAction } from '../Event';\nimport { UUID } from '../Notification';\nimport { getIntegrationType } from './IntegrationAdapter';\n\ntype ServerEvent = Schemas.EventLogEntry;\n\nexport const toNotificationEvent = (\n  serverEvent: ServerEvent\n): NotificationEvent => ({\n  id: serverEvent.id,\n  bundle: serverEvent.bundle,\n  application: serverEvent.application,\n  event: serverEvent.event_type,\n  date: fromUtc(new Date(serverEvent.created)),\n  actions: sortEventActions(groupActions(serverEvent.actions)),\n});\n\nconst sortEventActions = (actions: Array<NotificationEventAction>) => {\n  return actions.sort((first, second) =>\n    first.endpointType.localeCompare(second.endpointType)\n  );\n};\n\nconst groupActions = (\n  actions: ServerEvent['actions']\n): Array<NotificationEventAction> => {\n  const actionsById: Record<UUID, NotificationEventAction> = {};\n  const actionsWithoutEndpoint: Array<NotificationEventAction> = [];\n\n  actions.forEach((action) => {\n    if (!action.endpoint_id) {\n      actionsWithoutEndpoint.push(initAction(action));\n      return;\n    }\n\n    if (!actionsById[action.endpoint_id]) {\n      actionsById[action.endpoint_id] = initAction(action);\n    } else {\n      const newAction = initAction(action);\n      const current = actionsById[action.endpoint_id];\n\n      if (isFailed(newAction.status.last)) {\n        current.status.isDegraded = true;\n      } else {\n        current.status.last = newAction.status.last;\n      }\n\n      current.errorCount += newAction.errorCount;\n      current.successCount += newAction.successCount;\n    }\n  });\n\n  return [...Object.values(actionsById), ...actionsWithoutEndpoint];\n};\n\nconst initAction = (\n  action: ServerEvent['actions'][number]\n): NotificationEventAction => ({\n  id: action.endpoint_id ?? undefined,\n  endpointType: getIntegrationType({\n    type: action.endpoint_type,\n    sub_type: action.endpoint_sub_type,\n  }),\n  status: {\n    last: action.status,\n    isDegraded: isFailed(action.status),\n  },\n  successCount: isFailed(action.status) ? 0 : 1,\n  errorCount: isFailed(action.status) ? 1 : 0,\n});\n\nconst isFailed = (status: ServerEvent['actions'][number]['status']): boolean =>\n  status === 'FAILED';\n","import {\n  Page,\n  useTransformQueryResponse,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { toNotificationEvent } from '../../types/adapters/NotificationEventAdapter';\n\nconst eventDecoder = validationResponseTransformer(\n  (payload: Operations.EventResourceGetEvents.Payload) => {\n    if (payload.status === 200) {\n      return validatedResponse(\n        'Events',\n        200,\n        {\n          ...payload.value,\n          data: payload.value.data.map(toNotificationEvent),\n        },\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useGetEvents = (page?: Page) => {\n  const query = (page ?? Page.defaultPage()).toQuery();\n  return useTransformQueryResponse(\n    useQuery(\n      Operations.EventResourceGetEvents.actionCreator({\n        limit: +query.limit,\n        offset: +query.offset,\n        bundleIds: query.filterBundleIds as [],\n        appIds: query.filterAppIds as [],\n        invocationResults: query.filterInvocationResults as [],\n        status: query.filterStatus as [],\n        endpointTypes: query.filterEndpointTypes as [],\n        startDate: query.filterStart as string,\n        endDate: query.filterEnd as string,\n        eventTypeDisplayName: query.filterEvent as string,\n        sortBy: `${query.sortColumn}:${query.sortDirection}`,\n        includeActions: true,\n      })\n    ),\n    eventDecoder\n  );\n};\n","import { Operations } from '../../generated/OpenapiIntegrations';\nimport { UUID } from '../../types/Notification';\n\nexport const getEndpointAction = (id: UUID) => {\n  return Operations.EndpointResourceGetEndpoint.actionCreator({\n    id,\n  });\n};\n","import {\n  Filter,\n  Operator,\n  toUtc,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { format, sub, toDate } from 'date-fns';\nimport { useCallback } from 'react';\n\nimport { EventLogDateFilterValue } from '../../../components/Notifications/EventLog/EventLogDateFilter';\nimport { EventLogFilters } from '../../../components/Notifications/EventLog/EventLogFilter';\nimport { EventPeriod } from '../../../types/Event';\nimport { Facet } from '../../../types/Notification';\n\nconst DATE_FORMAT = 'yyyy-MM-dd';\n\nexport const useFilterBuilder = (\n  bundles: ReadonlyArray<Facet>,\n  dateFilter: EventLogDateFilterValue,\n  period: EventPeriod\n) => {\n  return useCallback(\n    (filters?: EventLogFilters) => {\n      const filter = new Filter();\n      if (filters?.bundle) {\n        const selectedBundleNames = filters?.bundle;\n        const queryParams = bundles\n          .filter((b) => selectedBundleNames.includes(b.name))\n          .map((b) => b.id);\n        filter.and('bundleIds', Operator.EQUAL, queryParams);\n      }\n\n      if (filters?.service) {\n        const selectedAppNames = filters.service as string[];\n\n        const queryParams: string[] = [];\n        selectedAppNames.forEach((appName) => {\n          const nameSplit = appName.split('.');\n          const bundleName = nameSplit[0];\n          const applicationName = nameSplit[1];\n\n          const bundle = bundles.find((bundle) => bundle.name === bundleName);\n          if (bundle) {\n            const application = bundle.children?.find(\n              (application) => application.name === applicationName\n            );\n            if (application) {\n              queryParams.push(application.id);\n            }\n          }\n        });\n\n        filter.and('appIds', Operator.EQUAL, queryParams);\n      }\n\n      if (filters?.event) {\n        filter.and('event', Operator.EQUAL, filters.event);\n      }\n\n      if (filters?.status) {\n        filter.and('status', Operator.EQUAL, filters.status);\n      }\n\n      if (filters?.endpointTypes) {\n        filter.and('endpointTypes', Operator.EQUAL, filters.endpointTypes);\n      }\n\n      let filterPeriod = [undefined, undefined] as [\n        Date | undefined,\n        Date | undefined\n      ];\n      const today = toUtc(new Date());\n\n      switch (dateFilter) {\n        case EventLogDateFilterValue.LAST_14:\n          filterPeriod = [\n            sub(toDate(today), {\n              days: 14,\n            }),\n            today,\n          ];\n          break;\n        case EventLogDateFilterValue.LAST_7:\n          filterPeriod = [\n            sub(toDate(today), {\n              days: 7,\n            }),\n            today,\n          ];\n          break;\n        case EventLogDateFilterValue.TODAY:\n          filterPeriod = [today, today];\n          break;\n        case EventLogDateFilterValue.YESTERDAY: {\n          const yesterday = sub(toDate(today), {\n            days: 1,\n          });\n          filterPeriod = [yesterday, yesterday];\n          break;\n        }\n        case EventLogDateFilterValue.CUSTOM:\n          filterPeriod = period;\n          break;\n      }\n\n      if (filterPeriod[0] && filterPeriod[1]) {\n        filter.and(\n          'start',\n          Operator.EQUAL,\n          format(filterPeriod[0], DATE_FORMAT)\n        );\n        filter.and('end', Operator.EQUAL, format(filterPeriod[1], DATE_FORMAT));\n      }\n\n      return filter;\n    },\n    [bundles, dateFilter, period]\n  );\n};\n","import { ButtonVariant } from '@patternfly/react-core';\nimport {\n  Direction,\n  Sort,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport assertNever from 'assert-never';\nimport * as React from 'react';\nimport { useParameterizedQuery } from 'react-fetching-library';\n\nimport { useAppContext } from '../../../app/AppContext';\nimport { ButtonLink } from '../../../components/ButtonLink';\nimport { EventLogDateFilterValue } from '../../../components/Notifications/EventLog/EventLogDateFilter';\nimport { EventLogFilters } from '../../../components/Notifications/EventLog/EventLogFilter';\nimport {\n  EventLogTable,\n  EventLogTableColumns,\n  SortDirection,\n} from '../../../components/Notifications/EventLog/EventLogTable';\nimport { EventLogToolbar } from '../../../components/Notifications/EventLog/EventLogToolbar';\nimport { PageHeader } from '../../../components/PageHeader';\nimport Config from '../../../config/Config';\nimport { Schemas } from '../../../generated/OpenapiIntegrations';\nimport { usePage } from '../../../hooks/usePage';\nimport { Messages } from '../../../properties/Messages';\nimport { linkTo } from '../../../Routes';\nimport { useGetEvents } from '../../../services/EventLog/GetNotificationEvents';\nimport { getEndpointAction } from '../../../services/Integrations/GetEndpoint';\nimport { useGetBundles } from '../../../services/Notifications/GetBundles';\nimport { EventPeriod } from '../../../types/Event';\nimport { UUID } from '../../../types/Notification';\nimport { useEventLogFilter } from './useEventLogFilter';\nimport { useFilterBuilder } from './useFilterBuilder';\n\nconst RETENTION_DAYS = 14;\n\nexport const EventLogPage: React.FunctionComponent = () => {\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n  const getEndpoint = useParameterizedQuery(getEndpointAction);\n  const { rbac } = useAppContext();\n\n  const getBundles = useGetBundles(true);\n  const bundles = React.useMemo(() => {\n    const payload = getBundles.payload;\n    if (payload?.status === 200) {\n      return payload.value;\n    }\n\n    return [];\n  }, [getBundles.payload]);\n\n  const [dateFilter, setDateFilter] = React.useState<EventLogDateFilterValue>(\n    EventLogDateFilterValue.LAST_14\n  );\n\n  const eventLogFilters = useEventLogFilter();\n\n  const [period, setPeriod] = React.useState<EventPeriod>([\n    undefined,\n    undefined,\n  ]);\n\n  const [sortDirection, setSortDirection] =\n    React.useState<SortDirection>('desc');\n  const [sortColumn, setSortColumn] = React.useState<EventLogTableColumns>(\n    EventLogTableColumns.DATE\n  );\n\n  const onSort = React.useCallback(\n    (column: EventLogTableColumns, direction: SortDirection) => {\n      setSortDirection(direction);\n      setSortColumn(column);\n    },\n    [setSortDirection, setSortColumn]\n  );\n\n  const filterBuilder = useFilterBuilder(bundles, dateFilter, period);\n\n  const sort: Sort = React.useMemo(() => {\n    const direction = sortDirection.toUpperCase() as Direction;\n    let column: string;\n    if (sortColumn === EventLogTableColumns.DATE) {\n      column = 'created';\n    } else {\n      throw new Error(`Invalid sorting index: ${sortColumn}`);\n    }\n\n    return Sort.by(column, direction);\n  }, [sortColumn, sortDirection]);\n\n  const eventsPage = usePage<EventLogFilters>(\n    Config.paging.defaultPerPage,\n    filterBuilder,\n    eventLogFilters.filters,\n    sort\n  );\n  const eventsQuery = useGetEvents(eventsPage.page);\n\n  const events = React.useMemo(() => {\n    if (eventsQuery.payload?.status === 200) {\n      return {\n        data: eventsQuery.payload.value.data,\n        count: eventsQuery.payload.value.meta.count,\n      };\n    }\n\n    return {\n      data: [],\n      count: 0,\n    };\n  }, [eventsQuery]);\n\n  const eventNotificationPageUrl = React.useMemo(() => {\n    const bundles = eventLogFilters.filters.bundle as Array<string> | undefined;\n    if (bundles && bundles.length > 0) {\n      return linkTo.notifications(bundles[0]);\n    }\n\n    return linkTo.notifications('');\n  }, [eventLogFilters.filters]);\n\n  const getIntegrationRecipient = React.useCallback(\n    async (id: UUID) => {\n      const query = getEndpoint.query;\n      const endpoint = await query(id);\n      if (endpoint.payload?.type === 'Endpoint') {\n        const type = endpoint.payload.value.type;\n        switch (type) {\n          case 'camel':\n          case 'webhook':\n          case 'ansible':\n            return endpoint.payload.value.name;\n          case 'email_subscription':\n          case 'drawer': {\n            const properties = endpoint.payload.value\n              .properties as Schemas.EmailSubscriptionProperties;\n            if (properties.only_admins) {\n              return 'Users: Admin';\n            }\n\n            return 'Users: All';\n          }\n          default:\n            assertNever(type);\n        }\n      }\n\n      return 'Error while loading';\n    },\n    [getEndpoint.query]\n  );\n\n  return (\n    <>\n      <PageHeader\n        title={Messages.pages.notifications.eventLog.title}\n        subtitle={Messages.pages.notifications.eventLog.subtitle}\n        action={\n          !notificationsOverhaul && (\n            <ButtonLink\n              isDisabled={!rbac.canReadEvents}\n              to={eventNotificationPageUrl}\n              variant={ButtonVariant.secondary}\n            >\n              {Messages.pages.notifications.eventLog.viewNotifications}\n            </ButtonLink>\n          )\n        }\n      />\n      <EventLogToolbar\n        {...eventLogFilters}\n        bundleOptions={bundles}\n        dateFilter={dateFilter}\n        setDateFilter={setDateFilter}\n        count={events.count}\n        perPageChanged={eventsPage.changeItemsPerPage}\n        pageChanged={eventsPage.changePage}\n        perPage={eventsPage.page.size}\n        page={eventsPage.page.index}\n        pageCount={events.data.length}\n        retentionDays={RETENTION_DAYS}\n        period={period}\n        setPeriod={setPeriod}\n      >\n        <EventLogTable\n          events={events.data}\n          loading={eventsQuery.loading}\n          onSort={onSort}\n          sortColumn={sortColumn}\n          sortDirection={sortDirection}\n          getIntegrationRecipient={getIntegrationRecipient}\n        />\n      </EventLogToolbar>\n    </>\n  );\n};\n","import {\n  useFilters,\n  useUrlStateMultipleOptions,\n  useUrlStateString,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport assertNever from 'assert-never';\nimport { useMemo } from 'react';\n\nimport { EventLogFilterColumn } from '../../../components/Notifications/EventLog/EventLogFilter';\n\nconst DEBOUNCE_MS = 250;\n\nexport const useEventLogFilter = (debounce = DEBOUNCE_MS) => {\n  const useStateFactory = useMemo(() => {\n    const useService = () => useUrlStateMultipleOptions('service');\n    const useBundle = () => useUrlStateMultipleOptions('bundle');\n\n    const useActionType = () => useUrlStateMultipleOptions('endpointTypes');\n    const useActionStatus = () => useUrlStateMultipleOptions('status');\n\n    const useEvent = () => useUrlStateString('event');\n\n    return (column: EventLogFilterColumn) => {\n      switch (column) {\n        case EventLogFilterColumn.SERVICE:\n          return useService;\n        case EventLogFilterColumn.BUNDLE:\n          return useBundle;\n        case EventLogFilterColumn.EVENT:\n          return useEvent;\n        case EventLogFilterColumn.ACTION_TYPE:\n          return useActionType;\n        case EventLogFilterColumn.ACTION_STATUS:\n          return useActionStatus;\n        default:\n          assertNever(column);\n      }\n    };\n  }, []);\n\n  return useFilters(EventLogFilterColumn, debounce, useStateFactory);\n};\n","import { useParameterizedQuery, useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\n\nexport const getApplicationsAction = (bundleName?: string) =>\n  Operations.NotificationResourceGetApplicationsFacets.actionCreator({\n    bundleName,\n  });\n\nexport const useGetApplicationsLazy = () =>\n  useParameterizedQuery(getApplicationsAction);\nexport const useGetApplications = (bundleName?: string) =>\n  useQuery(getApplicationsAction(bundleName));\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Tabs } from '@patternfly/react-core/dist/dynamic/components/Tabs';\nimport React from 'react';\n\ninterface MyTabComponentProps {\n  configuration: React.ReactNode;\n  settings: React.ReactNode;\n  activeKey?: number;\n}\n\nexport const TabComponent: React.FunctionComponent<\n  React.PropsWithChildren<MyTabComponentProps>\n> = ({ activeKey = 0, ...props }) => {\n  const [activeTabKey, setActiveTabKey] = React.useState(activeKey);\n\n  const handleTabSelect = (\n    _e: React.MouseEvent<HTMLElement, MouseEvent>,\n    tabIndex: number | string\n  ) => {\n    setActiveTabKey(tabIndex as number);\n  };\n\n  return (\n    <div className=\"pf-v5-u-background-color-100\">\n      <Tabs\n        className=\"pf-v5-u-pl-lg\"\n        activeKey={activeTabKey}\n        role=\"region\"\n        onSelect={handleTabSelect}\n      >\n        {props.children as any}\n      </Tabs>\n    </div>\n  );\n};\n","import { SVGIconProps } from '@patternfly/react-icons/dist/js/createIcon';\nimport * as React from 'react';\nimport { style } from 'typestyle';\n\nimport icon from './WebhookIcon.svg';\nconst className = style({\n  verticalAlign: '-0.125em',\n  width: '1em',\n  height: '1em',\n});\n\nexport const WebhookIcon: React.FunctionComponent<SVGIconProps> = () => {\n  return <img alt=\"Webhook\" className={className} src={icon} />;\n};\n","import { Spinner } from '@patternfly/react-core';\nimport { EnvelopeIcon } from '@patternfly/react-icons';\nimport BellIcon from '@patternfly/react-icons/dist/js/icons/bell-icon';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport { assertNever } from 'assert-never';\nimport * as React from 'react';\n\nimport Config from '../../config/Config';\nimport { Action, NotificationType } from '../../types/Notification';\nimport { getOuiaProps } from '../../utils/getOuiaProps';\nimport { WebhookIcon } from '../Icons/WebhookIcon';\n\nexport interface ActionComponentText extends OuiaComponentProps {\n  action: Action | undefined;\n  loading?: boolean;\n  hasError?: boolean;\n}\n\ninterface ActionTypeToIconProps {\n  actionType: NotificationType;\n}\n\nconst ActionTypeToIcon: React.FunctionComponent<ActionTypeToIconProps> = (\n  props\n) => {\n  switch (props.actionType) {\n    case NotificationType.DRAWER:\n      return <BellIcon />;\n    case NotificationType.EMAIL_SUBSCRIPTION:\n      return <EnvelopeIcon />;\n    case NotificationType.INTEGRATION:\n      return <WebhookIcon />;\n    default:\n      assertNever(props.actionType);\n  }\n};\n\nconst ActionComponentWrapper: React.FunctionComponent<\n  React.PropsWithChildren<ActionComponentText>\n> = (props) => (\n  <div {...getOuiaProps('Notifications/ActionComponent', props)}>\n    {props.children}\n  </div>\n);\n\nexport const ActionComponent: React.FunctionComponent<ActionComponentText> = (\n  props\n) => {\n  if (props.loading) {\n    return (\n      <ActionComponentWrapper {...props}>\n        <Spinner size=\"md\" />\n      </ActionComponentWrapper>\n    );\n  }\n\n  if (props.hasError) {\n    return (\n      <ActionComponentWrapper {...props}>\n        <span>Error loading actions</span>\n      </ActionComponentWrapper>\n    );\n  }\n\n  if (!props.action) {\n    return (\n      <ActionComponentWrapper {...props}>\n        <span className=\"pf-v5-u-color-200\">\n          <div>No actions.</div>\n          <div>Users will not be notified.</div>\n        </span>\n      </ActionComponentWrapper>\n    );\n  }\n\n  return (\n    <ActionComponentWrapper {...props}>\n      <ActionTypeToIcon actionType={props.action.type} />\n      <span className=\"pf-v5-u-ml-sm\">\n        {Config.notifications.types[props.action.type].name}\n      </span>\n      {props.action.type === NotificationType.INTEGRATION && (\n        <span>\n          : {Config.integrations.types[props.action.integration.type].name}\n        </span>\n      )}\n    </ActionComponentWrapper>\n  );\n};\n","import { Label, LabelProps, Tooltip } from '@patternfly/react-core';\nimport * as React from 'react';\n\ninterface GroupNotFoundProps {\n  onClose?: LabelProps['onClose'];\n}\n\nexport const GroupNotFound: React.FunctionComponent<GroupNotFoundProps> = (\n  props\n) => {\n  const text = 'User Access group (Not found)';\n  return (\n    <Tooltip content=\"This User Access group was not found, and may have been deleted. Remove it from your behavior group to stop seeing it.\">\n      {props.onClose ? (\n        <Label variant=\"outline\" color=\"red\" onClose={props.onClose}>\n          {text}\n        </Label>\n      ) : (\n        <span className=\"pf-v5-u-color-300\"> {text} </span>\n      )}\n    </Tooltip>\n  );\n};\n","import { Skeleton, Tooltip } from '@patternfly/react-core';\nimport { BanIcon, LockIcon } from '@patternfly/react-icons';\n\nimport { join } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { Action, NotificationType } from '../../types/Notification';\nimport {\n  NotificationRbacGroupRecipient,\n  NotificationUserRecipient,\n} from '../../types/Recipient';\nimport { GroupNotFound } from './Rbac/GroupNotFound';\n\ninterface RecipientProps {\n  action: Action;\n  hasOutline?: boolean;\n}\n\nconst CommaSeparator = () => <span>, </span>;\n\nexport const Recipient: React.FunctionComponent<RecipientProps> = (props) => {\n  if (props.action.type === NotificationType.INTEGRATION) {\n    return (\n      <>\n        {!props.action.integration.isEnabled ? (\n          <span className=\"pf-v5-u-color-300\">\n            {' '}\n            {props.action.integration.name}\n            <Tooltip\n              content=\"This integration has been disabled. This action wil not fire until it is enabled.\"\n              position=\"bottom\"\n            >\n              <BanIcon className=\"pf-v5-u-color-300\" />\n            </Tooltip>\n          </span>\n        ) : (\n          props.action.integration.name\n        )}\n      </>\n    );\n  }\n\n  const users = props.action.recipient.filter(\n    (a) => a instanceof NotificationUserRecipient\n  ) as unknown as ReadonlyArray<NotificationUserRecipient>;\n\n  const groups = props.action.recipient.filter(\n    (a) => a instanceof NotificationRbacGroupRecipient\n  ) as unknown as ReadonlyArray<NotificationRbacGroupRecipient>;\n\n  return (\n    <span>\n      {users.length > 0 && (\n        <div>\n          Users:{' '}\n          {join(\n            users.map((u) => (\n              <>\n                {u.displayName}\n                {u.ignorePreferences && (\n                  <span>\n                    <Tooltip\n                      content=\"You may still receive forced notifications for this service\"\n                      position=\"bottom\"\n                    >\n                      <LockIcon className=\"pf-v5-u-ml-sm pf-v5-u-color-300\" />\n                    </Tooltip>\n                  </span>\n                )}{' '}\n              </>\n            )),\n            CommaSeparator\n          )}\n        </div>\n      )}\n      {groups.length > 0 && (\n        <div>\n          User Access Groups:{' '}\n          {join(\n            groups.map((g) => {\n              if (g.hasError) {\n                return <GroupNotFound key={g.groupId} />;\n              }\n\n              if (g.isLoading) {\n                return <Skeleton width=\"40px\" key={g.groupId} />;\n              }\n\n              return g.displayName;\n            }),\n            CommaSeparator\n          )}\n        </div>\n      )}\n    </span>\n  );\n};\n","import {\n  Grid,\n  GridItem,\n  Skeleton,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { Action } from '../../../types/Notification';\nimport { ActionComponent } from '../ActionComponent';\nimport { Recipient } from '../Recipient';\n\ninterface BehaviorGroupActionsSummaryProps {\n  actions?: ReadonlyArray<Action>;\n}\n\ntype BehaviorGroupActionSummaryImplProps =\n  Required<BehaviorGroupActionsSummaryProps>;\n\nconst skeletonActions = 3;\n\nconst BehaviorGroupActionsSummaryLayout: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => {\n  return (\n    <Grid>\n      <GridItem span={6}>\n        <TextContent>\n          <Text component={TextVariants.h6}>Action</Text>\n        </TextContent>\n      </GridItem>\n      <GridItem span={6}>\n        <TextContent>\n          <Text component={TextVariants.h6}>Recipient</Text>\n        </TextContent>\n      </GridItem>\n      {props.children}\n    </Grid>\n  );\n};\n\nconst BehaviorGroupActionsSummaryImpl: React.FunctionComponent<\n  BehaviorGroupActionSummaryImplProps\n> = (props) => {\n  return (\n    <BehaviorGroupActionsSummaryLayout>\n      {props.actions.map((action, index) => (\n        <React.Fragment key={`${index}-${action.type}`}>\n          <GridItem span={6}>\n            <ActionComponent action={action} />\n          </GridItem>\n          <GridItem className=\"pf-u-text-break-word\" span={6}>\n            <Recipient action={action} />\n          </GridItem>\n        </React.Fragment>\n      ))}\n    </BehaviorGroupActionsSummaryLayout>\n  );\n};\n\nconst BehaviorGroupActionsSummarySkeleton: React.FunctionComponent = () => {\n  const contentWidth = '150px';\n\n  return (\n    <BehaviorGroupActionsSummaryLayout>\n      {[...Array(skeletonActions).values()].map((_unused, index) => (\n        <React.Fragment key={`skeleton-${index}`}>\n          <GridItem span={6}>\n            <Skeleton width={contentWidth} />\n          </GridItem>\n          <GridItem span={6}>\n            <Skeleton width={contentWidth} />\n          </GridItem>\n        </React.Fragment>\n      ))}\n    </BehaviorGroupActionsSummaryLayout>\n  );\n};\n\nexport const BehaviorGroupActionsSummary: React.FunctionComponent<\n  BehaviorGroupActionsSummaryProps\n> = (props) => {\n  if (props.actions) {\n    return <BehaviorGroupActionsSummaryImpl actions={props.actions} />;\n  }\n\n  return <BehaviorGroupActionsSummarySkeleton />;\n};\n","import {\n  Card,\n  CardBody,\n  CardHeader,\n  Skeleton,\n  Split,\n  SplitItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Tooltip,\n} from '@patternfly/react-core';\nimport {\n  Dropdown,\n  DropdownItem,\n  DropdownPosition,\n  KebabToggle,\n} from '@patternfly/react-core/deprecated';\nimport { LockIcon } from '@patternfly/react-icons';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { MarkRequired } from 'ts-essentials';\nimport { style } from 'typestyle';\n\nimport { BehaviorGroup } from '../../../types/Notification';\nimport { BehaviorGroupActionsSummary } from './BehaviorGroupActionsSummary';\n\nconst cardClassName = style({\n  width: 450,\n  height: '100%',\n});\n\nexport interface BehaviorGroupProps extends OuiaComponentProps {\n  behaviorGroup?: BehaviorGroup;\n  onEdit?: (behaviorGroup: BehaviorGroup) => void;\n  onDelete?: (behaviorGroup: BehaviorGroup) => void;\n}\n\ntype BehaviorGroupImplProps = MarkRequired<BehaviorGroupProps, 'behaviorGroup'>;\n\nexport interface BehaviorGroupCardLayout {\n  title: React.ReactNode;\n  dropdownItems?: Array<React.ReactNode>;\n  isDefaultBehavior?: boolean;\n}\n\nconst BehaviorGroupCardLayout: React.FunctionComponent<\n  React.PropsWithChildren<BehaviorGroupCardLayout>\n> = (props) => {\n  const [isOpen, setOpen] = React.useState(false);\n\n  const switchOpen = React.useCallback(\n    () => setOpen((prev) => !prev),\n    [setOpen]\n  );\n\n  return (\n    <Card isFlat className={cardClassName}>\n      <CardHeader\n        actions={{\n          actions: (\n            <>\n              {!props.isDefaultBehavior && (\n                <Dropdown\n                  onSelect={switchOpen}\n                  toggle={\n                    <KebabToggle\n                      onToggle={(_e, isOpen) => setOpen(isOpen)}\n                      isDisabled={!props.dropdownItems}\n                    />\n                  }\n                  isOpen={isOpen}\n                  isPlain\n                  dropdownItems={props.dropdownItems}\n                  position={DropdownPosition.right}\n                  menuAppendTo={() => document.body}\n                />\n              )}\n            </>\n          ),\n          hasNoOffset: false,\n          className: undefined,\n        }}\n      >\n        {\n          <>\n            <Split>\n              <SplitItem>\n                {props.isDefaultBehavior && (\n                  <Tooltip\n                    position=\"top\"\n                    appendTo={() => document.body}\n                    // eslint-disable-next-line max-len\n                    content={\n                      <div>\n                        System required behavior group\n                        <br></br>\n                        <br></br>\n                        This group is system generated and can not be edited,\n                        deleted, or removed from being applied to an event\n                      </div>\n                    }\n                  >\n                    <LockIcon className=\"pf-v5-u-mr-sm\" />\n                  </Tooltip>\n                )}\n              </SplitItem>\n              <SplitItem>\n                <TextContent>\n                  <Text component={TextVariants.h4}> {props.title} </Text>\n                </TextContent>\n              </SplitItem>\n            </Split>\n          </>\n        }\n      </CardHeader>\n      <CardBody>{props.children}</CardBody>\n    </Card>\n  );\n};\n\nconst BehaviorGroupCardImpl: React.FunctionComponent<BehaviorGroupImplProps> = (\n  props\n) => {\n  const onClickEdit = React.useCallback(() => {\n    const onEdit = props.onEdit;\n    if (onEdit) {\n      onEdit(props.behaviorGroup);\n    }\n  }, [props.behaviorGroup, props.onEdit]);\n\n  const onClickDelete = React.useCallback(() => {\n    const onDelete = props.onDelete;\n    if (onDelete) {\n      onDelete(props.behaviorGroup);\n    }\n  }, [props.behaviorGroup, props.onDelete]);\n\n  const dropdownItems = React.useMemo(\n    () => [\n      <DropdownItem\n        key=\"on-edit\"\n        onClick={onClickEdit}\n        isDisabled={!onClickEdit}\n      >\n        {' '}\n        Edit{' '}\n      </DropdownItem>,\n      <DropdownItem\n        key=\"on-delete\"\n        onClick={onClickDelete}\n        isDisabled={!onClickDelete}\n      >\n        {' '}\n        Delete{' '}\n      </DropdownItem>,\n    ],\n    [onClickEdit, onClickDelete]\n  );\n\n  return (\n    <BehaviorGroupCardLayout\n      title={props.behaviorGroup.displayName}\n      dropdownItems={dropdownItems}\n      isDefaultBehavior={props.behaviorGroup.isDefault}\n    >\n      <BehaviorGroupActionsSummary actions={props.behaviorGroup.actions} />\n    </BehaviorGroupCardLayout>\n  );\n};\n\nconst BehaviorGroupCardSkeleton: React.FunctionComponent = () => {\n  return (\n    <BehaviorGroupCardLayout title={<Skeleton width=\"300px\" />}>\n      <BehaviorGroupActionsSummary />\n    </BehaviorGroupCardLayout>\n  );\n};\n\nexport const BehaviorGroupCard: React.FunctionComponent<BehaviorGroupProps> = (\n  props\n) => {\n  if (props.behaviorGroup) {\n    return (\n      <BehaviorGroupCardImpl {...props} behaviorGroup={props.behaviorGroup} />\n    );\n  }\n\n  return <BehaviorGroupCardSkeleton />;\n};\n","import { Flex, FlexItem } from '@patternfly/react-core';\nimport * as React from 'react';\nimport { MarkRequired } from 'ts-essentials';\nimport { style } from 'typestyle';\n\nimport { BehaviorGroup } from '../../../types/Notification';\nimport { BehaviorGroupCard } from './BehaviorGroupCard';\n\nconst cardsWrapperClassName = style({\n  overflow: 'auto',\n});\n\ninterface BehaviorGroupCardListProps {\n  onEdit?: (behaviorGroup: BehaviorGroup) => void;\n  onDelete?: (behaviorGroup: BehaviorGroup) => void;\n  behaviorGroups?: ReadonlyArray<BehaviorGroup>;\n}\n\ntype BehaviorGroupCardListImplProps = MarkRequired<\n  BehaviorGroupCardListProps,\n  'behaviorGroups'\n>;\n\nconst skeletonBehaviorGroupCount = 3;\n\nconst BehaviorGroupCardListLayout: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => {\n  return (\n    <div data-testid=\"ref-card-list-container\">\n      <Flex\n        alignItems={{ default: 'alignItemsStretch' }}\n        alignContent={{ default: 'alignContentSpaceBetween' }}\n        flexWrap={{ default: 'nowrap' }}\n        className={cardsWrapperClassName}\n        data-testid=\"card-list-container\"\n      >\n        {props.children}\n      </Flex>\n    </div>\n  );\n};\n\nconst BehaviorGroupaCrdListImpl: React.FunctionComponent<\n  BehaviorGroupCardListImplProps\n> = (props) => {\n  return (\n    <BehaviorGroupCardListLayout>\n      {props.behaviorGroups.map((behaviorGroup) => (\n        <FlexItem key={behaviorGroup.id} className=\"pf-v5-u-pb-md\">\n          <BehaviorGroupCard\n            behaviorGroup={behaviorGroup}\n            onEdit={props.onEdit}\n            onDelete={props.onDelete}\n          />\n        </FlexItem>\n      ))}\n    </BehaviorGroupCardListLayout>\n  );\n};\n\nconst BehaviorGroupCardListSkeleton: React.FunctionComponent = () => {\n  return (\n    <BehaviorGroupCardListLayout>\n      {[...Array(skeletonBehaviorGroupCount).values()].map((_unused, index) => (\n        <FlexItem\n          key={`behavior-group-card-skeleton-${index}`}\n          className=\"pf-v5-u-pb-md\"\n        >\n          <BehaviorGroupCard />\n        </FlexItem>\n      ))}\n    </BehaviorGroupCardListLayout>\n  );\n};\n\nexport const BehaviorGroupCardList: React.FunctionComponent<\n  BehaviorGroupCardListProps\n> = (props) => {\n  if (props.behaviorGroups) {\n    return (\n      <BehaviorGroupaCrdListImpl\n        {...props}\n        behaviorGroups={props.behaviorGroups}\n      />\n    );\n  }\n\n  return <BehaviorGroupCardListSkeleton />;\n};\n","import {\n  Button,\n  ButtonVariant,\n  Icon,\n  Spinner,\n  Split,\n  SplitItem,\n} from '@patternfly/react-core';\nimport { WizardContext, WizardFooter } from '@patternfly/react-core/deprecated';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport * as React from 'react';\nexport interface BehaviorGroupWizardFooterProps {\n  isLoading: boolean;\n  error?: string;\n  onNext: (goNext: () => void) => void;\n  onBack: (goBack: () => void) => void;\n}\n\nexport const BehaviorGroupWizardFooter: React.FunctionComponent<\n  BehaviorGroupWizardFooterProps\n> = (props) => {\n  const wizardContext = React.useContext(WizardContext);\n\n  const onNext = () => {\n    props.onNext(wizardContext.onNext);\n  };\n\n  const onBack = () => {\n    props.onBack(wizardContext.onBack);\n  };\n\n  return (\n    <WizardFooter>\n      <Button\n        variant={ButtonVariant.primary}\n        type=\"submit\"\n        onClick={onNext}\n        isDisabled={props.isLoading || !wizardContext.activeStep.enableNext}\n      >\n        {wizardContext.activeStep.nextButtonText ?? 'Next'}\n      </Button>\n      {!wizardContext.activeStep.hideBackButton && (\n        <Button\n          variant={ButtonVariant.secondary}\n          onClick={onBack}\n          isDisabled={wizardContext.activeStep.id === 0 || props.isLoading}\n        >\n          Back\n        </Button>\n      )}\n      {!wizardContext.activeStep.hideCancelButton && (\n        <Button\n          variant={ButtonVariant.link}\n          onClick={wizardContext.onClose}\n          isDisabled={props.isLoading}\n        >\n          Cancel\n        </Button>\n      )}\n      {props.isLoading ? (\n        <div className=\"pf-v5-u-mt-auto pf-v5-u-mb-md\">\n          <Spinner size=\"md\" />\n        </div>\n      ) : (\n        props.error && (\n          <Split>\n            <SplitItem>\n              <Icon status=\"danger\" className=\"pf-v5-u-mr-xs\">\n                <ExclamationCircleIcon />\n              </Icon>\n            </SplitItem>\n            <SplitItem>{props.error}</SplitItem>\n          </Split>\n        )\n      )}\n    </WizardFooter>\n  );\n};\n","import { Wizard } from '@patternfly/react-core/deprecated';\nimport { Form, useFormikContext } from 'formik';\nimport * as React from 'react';\n\nimport { CreateBehaviorGroup } from '../../../../types/CreateBehaviorGroup';\nimport {\n  BehaviorGroupWizardFooter,\n  BehaviorGroupWizardFooterProps,\n} from './BehaviorGroupWizardFooter';\nimport { ExtendedWizardStep } from './ExtendedWizardStep';\n\ninterface BehaviorGroupWizardProps {\n  steps: Array<ExtendedWizardStep>;\n  onNext: BehaviorGroupWizardFooterProps['onNext'];\n  onBack: BehaviorGroupWizardFooterProps['onBack'];\n  onClose: () => void;\n  onSave: () => void;\n  onGoToStep: (stepId: number) => void;\n  loading: boolean;\n}\n\nexport const BehaviorGroupWizard: React.FunctionComponent<\n  BehaviorGroupWizardProps\n> = (props) => {\n  const { values } = useFormikContext<CreateBehaviorGroup>();\n  const title = (values.id ? 'Edit' : 'Create') + ' behavior group';\n\n  return (\n    <Form\n      placeholder=\"\"\n      onPointerEnterCapture={undefined}\n      onPointerLeaveCapture={undefined}\n    >\n      <Wizard\n        title={title}\n        steps={props.steps}\n        footer={\n          <BehaviorGroupWizardFooter\n            isLoading={props.loading}\n            onNext={props.onNext}\n            onBack={props.onBack}\n          />\n        }\n        isOpen={true}\n        startAtStep={1}\n        onGoToStep={(step) => props.onGoToStep((step.id as number) ?? 1)}\n        onClose={props.onClose}\n        onSave={props.onSave}\n      />\n    </Form>\n  );\n};\n","import { createContext, useContext } from 'react';\n\nimport { UserIntegrationType } from '../../types/Integration';\nimport { IntegrationRef } from '../../types/Notification';\nimport { BaseNotificationRecipient } from '../../types/Recipient';\n\nexport type GetIntegrations = (\n  type: UserIntegrationType,\n  search?: string\n) => Promise<ReadonlyArray<IntegrationRef>>;\nexport type GetNotificationRecipients = () => Promise<\n  ReadonlyArray<BaseNotificationRecipient>\n>;\n\nexport interface RecipientContext {\n  getIntegrations: GetIntegrations;\n  getNotificationRecipients: GetNotificationRecipients;\n}\n\nconst RecipientContext = createContext<RecipientContext>({\n  getIntegrations: async () => {\n    throw new Error('No IntegrationContext found');\n  },\n  getNotificationRecipients: async () => {\n    throw new Error('No RecipientContext found');\n  },\n});\n\nexport const useRecipientContext = () => useContext(RecipientContext);\nexport const RecipientContextProvider = RecipientContext.Provider;\n","import produce from 'immer';\nimport { isEqual, uniqWith } from 'lodash';\nimport { useCallback, useContext, useMemo, useState } from 'react';\nimport { ClientContext } from 'react-fetching-library';\n\nimport { getDefaultSystemEndpointAction } from '../../../services/Integrations/GetDefaultSystemEndpoint';\nimport {\n  SaveBehaviorGroupRequest,\n  useSaveBehaviorGroupMutation,\n} from '../../../services/Notifications/SaveBehaviorGroup';\nimport { toSystemProperties } from '../../../types/adapters/NotificationAdapter';\nimport {\n  BehaviorGroup,\n  BehaviorGroupRequest,\n  NotificationType,\n  SystemProperties,\n  UUID,\n  areActionsEqual,\n  isActionIntegration,\n  isActionNotify,\n} from '../../../types/Notification';\n\ninterface ActionToIdList {\n  (actions: BehaviorGroup['actions']): Array<UUID | undefined>;\n  (actions: BehaviorGroup['actions'], ids: Array<UUID>): Array<UUID>;\n}\n\nconst actionsToIdList: ActionToIdList = (\n  actions: BehaviorGroup['actions'],\n  ids?: Array<UUID>\n) => {\n  const remainingIds = ids ? ([...ids] as UUID[]) : undefined;\n  const endpointsToAdd = actions.reduce((toAdd, action) => {\n    if (isActionNotify(action)) {\n      action.recipient.forEach((recipient) => {\n        if (recipient.integrationId) {\n          toAdd.push(recipient.integrationId);\n        } else if (remainingIds === undefined) {\n          toAdd.push(undefined);\n        } else if (remainingIds.length > 0) {\n          toAdd.push(remainingIds.shift() as UUID);\n        } else {\n          throw new Error(\n            `No more ids remaining to assign: actions ${actions} newIds: ${ids}`\n          );\n        }\n      });\n    } else if (isActionIntegration(action)) {\n      toAdd.push(action.integration.id);\n    } else {\n      throw new Error(`Unknown action type: ${action}`);\n    }\n\n    return toAdd;\n  }, [] as Array<UUID | undefined>);\n\n  return endpointsToAdd as Array<UUID>;\n};\n\nexport enum SaveBehaviorGroupOperation {\n  CREATE,\n  UPDATE,\n}\n\nexport interface SaveBehaviorGroupResponse {\n  status: boolean;\n  operation: SaveBehaviorGroupOperation;\n}\n\nexport const useSaveBehaviorGroup = (\n  originalBehaviorGroup?: Partial<BehaviorGroup>\n) => {\n  const saveBehaviorGroupMutation = useSaveBehaviorGroupMutation();\n  const { query } = useContext(ClientContext);\n  const [fetchingIntegrations, setFetchingIntegrations] =\n    useState<boolean>(false);\n\n  const save = useCallback(\n    async (data: BehaviorGroupRequest): Promise<SaveBehaviorGroupResponse> => {\n      const mutate = saveBehaviorGroupMutation.mutate;\n      let needsSavingDisplayName = false;\n      let needsSavingActions = false;\n      let needsSavingEventTypes = false;\n\n      if (data.id === undefined) {\n        needsSavingDisplayName = true;\n        needsSavingActions = true;\n      }\n\n      if (data.displayName !== originalBehaviorGroup?.displayName) {\n        needsSavingDisplayName = true;\n      }\n\n      const originalEvents = [...(originalBehaviorGroup?.events ?? [])].sort();\n      const newEvents = [...(data.events ?? [])].sort();\n\n      if (\n        originalEvents.length !== newEvents.length ||\n        !originalEvents.every((value, index) => value === newEvents[index])\n      ) {\n        needsSavingEventTypes = true;\n      }\n\n      if (\n        !areActionsEqual(\n          originalBehaviorGroup?.actions ?? [],\n          data.actions ?? []\n        )\n      ) {\n        needsSavingActions = true;\n      }\n\n      const toFetch: ReadonlyArray<SystemProperties> = uniqWith(\n        ([] as Array<SystemProperties>).concat(\n          ...data.actions\n            .filter(isActionNotify)\n            .map((action) =>\n              produce(action, (draft) => {\n                draft.recipient = draft.recipient.filter(\n                  (r) => !r.integrationId\n                );\n              })\n            )\n            .map((action) => toSystemProperties(action))\n        ),\n        isEqual\n      );\n\n      if (\n        toFetch.find(\n          (props) =>\n            ![\n              NotificationType.EMAIL_SUBSCRIPTION,\n              NotificationType.DRAWER,\n            ].includes(props.type)\n        )\n      ) {\n        throw new Error(\n          'Only email and drawer subscriptions are created when assigning behavior groups'\n        );\n      }\n\n      if (toFetch.length > 0) {\n        setFetchingIntegrations(true);\n      }\n\n      const enpointIds = await Promise.all(\n        toFetch.map((systemProps) =>\n          query(getDefaultSystemEndpointAction(systemProps)).then((result) =>\n            result.payload?.type === 'Endpoint'\n              ? result.payload.value.id\n              : undefined\n          )\n        )\n      ).then((newIds) => {\n        if (newIds.includes(undefined)) {\n          throw new Error(\n            'Unexpected ids were returned when querying for system endpoints'\n          );\n        }\n\n        // We want to preserve the order\n        const remainingIds = [...newIds] as UUID[];\n        return actionsToIdList(data.actions, remainingIds);\n      });\n\n      const request: SaveBehaviorGroupRequest = {\n        ...data,\n        // cast, but it's OK - needsSavingDisplayName is always true when creating a new bg.\n        displayName: needsSavingDisplayName\n          ? data.displayName\n          : (undefined as unknown as string),\n        endpointIds: needsSavingActions ? enpointIds : undefined,\n        eventTypesIds: needsSavingEventTypes\n          ? data.events.map((e) => e.id)\n          : undefined,\n      };\n\n      if (\n        !needsSavingDisplayName &&\n        !needsSavingActions &&\n        !needsSavingEventTypes\n      ) {\n        return {\n          operation:\n            data.id === undefined\n              ? SaveBehaviorGroupOperation.CREATE\n              : SaveBehaviorGroupOperation.UPDATE,\n          status: true,\n        };\n      }\n\n      return mutate(request)\n        .then((value) => {\n          return {\n            operation:\n              data.id === undefined\n                ? SaveBehaviorGroupOperation.CREATE\n                : SaveBehaviorGroupOperation.UPDATE,\n            status: value.payload?.status === 200,\n          };\n        })\n        .catch(() => {\n          return {\n            operation:\n              data.id === undefined\n                ? SaveBehaviorGroupOperation.CREATE\n                : SaveBehaviorGroupOperation.UPDATE,\n            status: false,\n          };\n        });\n    },\n    [saveBehaviorGroupMutation.mutate, query, originalBehaviorGroup]\n  );\n\n  const isSaving = useMemo(() => {\n    return saveBehaviorGroupMutation.loading || fetchingIntegrations;\n  }, [saveBehaviorGroupMutation.loading, fetchingIntegrations]);\n\n  return {\n    save,\n    isSaving,\n  };\n};\n","import { SelectOptionObject } from '@patternfly/react-core/deprecated';\n\nimport { Recipient } from '../../../types/Recipient';\n\nexport class RecipientOption implements SelectOptionObject {\n  readonly recipient: Recipient;\n\n  constructor(recipient: Recipient) {\n    this.recipient = recipient;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  compareTo(selectOption: any): boolean {\n    if (selectOption instanceof RecipientOption) {\n      return this.recipient.equals(selectOption.recipient);\n    }\n\n    return false;\n  }\n\n  toString(): string {\n    return this.recipient.displayName;\n  }\n}\n","import assertNever from 'assert-never';\nimport produce, { castDraft } from 'immer';\nimport { Reducer, useCallback, useMemo, useReducer, useState } from 'react';\nimport { useDebounce } from 'react-use';\n\nexport interface ReducerState<T> {\n  filterValues: ReadonlyArray<T>;\n  defaultValues: ReadonlyArray<T>;\n  show: 'default' | 'filter';\n  loadingFilter: boolean;\n  loadingDefault: boolean;\n  lastSearch: string;\n}\n\nenum ReducerActionType {\n  LOAD_FILTER_VALUE,\n  SET_FILTER_VALUE,\n  USE_DEFAULTS,\n  SET_DEFAULTS,\n}\n\ntype ReducerAction<T> =\n  | {\n      type: ReducerActionType.USE_DEFAULTS;\n    }\n  | {\n      type: ReducerActionType.LOAD_FILTER_VALUE;\n      search: string;\n    }\n  | {\n      type: ReducerActionType.SET_FILTER_VALUE;\n      search: string;\n      values: ReadonlyArray<T>;\n    }\n  | {\n      type: ReducerActionType.SET_DEFAULTS;\n      values: ReadonlyArray<T>;\n    };\n\nconst reducerFunction = <T>(\n  state: ReducerState<T>,\n  action: ReducerAction<T>\n): ReducerState<T> => {\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case ReducerActionType.SET_FILTER_VALUE:\n        if (action.search === state.lastSearch) {\n          if (action.values !== draft.filterValues) {\n            draft.loadingFilter = false;\n            draft.filterValues = castDraft(action.values);\n          }\n        }\n\n        break;\n      case ReducerActionType.LOAD_FILTER_VALUE:\n        if (action.search !== draft.lastSearch || draft.show !== 'filter') {\n          draft.loadingFilter = true;\n          draft.filterValues = [];\n          draft.lastSearch = action.search;\n          draft.show = 'filter';\n        }\n\n        break;\n      case ReducerActionType.USE_DEFAULTS:\n        if (draft.show !== 'default') {\n          draft.show = 'default';\n        }\n\n        break;\n      case ReducerActionType.SET_DEFAULTS:\n        draft.defaultValues = castDraft(action.values);\n        draft.loadingDefault = false;\n        break;\n      default:\n        assertNever(action);\n    }\n  });\n};\n\nexport const useTypeaheadReducer = <T>() => {\n  const [state, dispatch] = useReducer<\n    Reducer<ReducerState<T>, ReducerAction<T>>\n  >(reducerFunction, {\n    filterValues: [],\n    defaultValues: [],\n    show: 'default',\n    loadingFilter: false,\n    loadingDefault: true,\n    lastSearch: '',\n  } as ReducerState<T>);\n\n  const [debouncedState, setDebouncedState] = useState<ReducerState<T>>(state);\n\n  useDebounce(\n    () => {\n      setDebouncedState(state);\n    },\n    400,\n    [state]\n  );\n\n  const setFilterValue = useCallback(\n    (search: string, values: ReadonlyArray<T>) =>\n      dispatch({\n        type: ReducerActionType.SET_FILTER_VALUE,\n        values,\n        search,\n      }),\n    [dispatch]\n  );\n\n  const loadFilterValue = useCallback(\n    (search: string) =>\n      dispatch({\n        type: ReducerActionType.LOAD_FILTER_VALUE,\n        search,\n      }),\n    [dispatch]\n  );\n\n  const setDefaults = useCallback(\n    (values: ReadonlyArray<T>) =>\n      dispatch({\n        type: ReducerActionType.SET_DEFAULTS,\n        values,\n      }),\n    [dispatch]\n  );\n\n  const useDefaults = useCallback(\n    () =>\n      dispatch({\n        type: ReducerActionType.USE_DEFAULTS,\n      }),\n    [dispatch]\n  );\n\n  const dispatchers = useMemo(\n    () => ({\n      setFilterValue,\n      loadFilterValue,\n      setDefaults,\n      useDefaults,\n    }),\n    [setFilterValue, loadFilterValue, setDefaults, useDefaults]\n  );\n\n  return [debouncedState, dispatchers] as [typeof state, typeof dispatchers];\n};\n","import { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport { useFormikContext } from 'formik';\nimport * as React from 'react';\nimport { DeepPartial } from 'ts-essentials';\n\nimport Config from '../../../config/Config';\nimport { UserIntegrationType } from '../../../types/Integration';\nimport {\n  ActionIntegration,\n  BehaviorGroup,\n  IntegrationRef,\n  NotificationType,\n} from '../../../types/Notification';\nimport { IntegrationRecipient } from '../../../types/Recipient';\nimport { useRecipientContext } from '../RecipientContext';\nimport { RecipientOption } from './RecipientOption';\nimport { useTypeaheadReducer } from './useTypeaheadReducer';\nimport {\n  MenuToggle,\n  MenuToggleElement,\n  Select,\n  SelectList,\n  SelectOption,\n  Skeleton,\n  TextInputGroup,\n  TextInputGroupMain,\n} from '@patternfly/react-core';\n\nfunction isRecipientOption(option: unknown): option is RecipientOption {\n  return (option as RecipientOption).recipient !== undefined;\n}\n\nexport interface IntegrationRecipientTypeaheadProps extends OuiaComponentProps {\n  selected: Partial<IntegrationRef> | undefined;\n  integrationType: UserIntegrationType;\n  isDisabled?: boolean;\n  onSelected: (recipientOption: RecipientOption) => void;\n  onOpenChange?: (isOpen: boolean) => void;\n  error?: boolean;\n}\n\nexport const IntegrationRecipientTypeahead: React.FunctionComponent<\n  IntegrationRecipientTypeaheadProps\n> = ({ integrationType, selected, onSelected, isDisabled }) => {\n  const chooseText = React.useMemo(\n    () =>\n      `Choose ${Config.integrations.types[integrationType].name.toLowerCase()}`,\n    [integrationType]\n  );\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [inputValue, setInputValue] = React.useState<string>('');\n  const [focusedItemIndex, setFocusedItemIndex] = React.useState<number | null>(\n    null\n  );\n  const [activeItem, setActiveItem] = React.useState<string | null>(null);\n  const textInputRef = React.useRef<HTMLInputElement>();\n\n  const { getIntegrations } = useRecipientContext();\n  const { values } = useFormikContext<DeepPartial<BehaviorGroup>>();\n\n  const [state, dispatchers] = useTypeaheadReducer<IntegrationRecipient>();\n\n  const existingIntegrations = React.useMemo(() => {\n    const integrationActions = (values.actions ?? [])\n      .filter((action) => action?.type === NotificationType.INTEGRATION)\n      .map((action) => (action as ActionIntegration)?.integration.id);\n\n    return new Set<string>(integrationActions);\n  }, [values]);\n\n  React.useEffect(() => {\n    setInputValue(selected?.name as string);\n  }, [selected]);\n\n  React.useEffect(() => {\n    getIntegrations(integrationType, '').then((integrations) => {\n      const defaults = integrations.map((i) => new IntegrationRecipient(i));\n      dispatchers.setDefaults(defaults);\n    });\n  }, [getIntegrations, integrationType, dispatchers]);\n\n  React.useEffect(() => {\n    if (state.loadingFilter) {\n      getIntegrations(integrationType, state.lastSearch).then((integrations) =>\n        dispatchers.setFilterValue(\n          state.lastSearch,\n          integrations.map((i) => new IntegrationRecipient(i))\n        )\n      );\n    }\n  }, [\n    getIntegrations,\n    integrationType,\n    state.loadingFilter,\n    state.lastSearch,\n    dispatchers,\n  ]);\n\n  const integrationsMapper = React.useCallback(\n    (recipients: ReadonlyArray<IntegrationRecipient>) => {\n      if ((state.loadingDefault, state.loadingFilter)) {\n        return [\n          <SelectOption key=\"loading-option\">\n            <Skeleton width=\"100%\" />\n          </SelectOption>,\n        ];\n      }\n\n      return recipients.map((recipient, index) => {\n        const isDisabled = existingIntegrations?.has(recipient.integration.id);\n\n        const currRecipient = new RecipientOption(recipient);\n        return (\n          <SelectOption\n            key={recipient.integration.id}\n            value={currRecipient}\n            description={\n              isDisabled ? 'This integration has already been added' : undefined\n            }\n            isDisabled={isDisabled}\n            isSelected={selected?.id === recipient.integration.id}\n            isFocused={focusedItemIndex === index}\n            ref={null}\n          >\n            {recipient.displayName}\n          </SelectOption>\n        );\n      });\n    },\n    [\n      existingIntegrations,\n      focusedItemIndex,\n      selected?.id,\n      state.loadingDefault,\n      state.loadingFilter,\n    ]\n  );\n\n  const options = integrationsMapper(\n    state.show === 'default' ? state.defaultValues : state.filterValues\n  );\n\n  const selection = React.useMemo(() => {\n    const sel = selected;\n    if (\n      sel === undefined ||\n      sel.name === undefined ||\n      sel.id === undefined ||\n      sel.type === undefined\n    ) {\n      return undefined;\n    }\n\n    return new RecipientOption(new IntegrationRecipient(sel as IntegrationRef));\n  }, [selected]);\n\n  const handleMenuArrowKeys = (key: string) => {\n    let indexToFocus;\n\n    if (isOpen) {\n      if (key === 'ArrowUp') {\n        // When no index is set or at the first index, focus to the last, otherwise decrement focus index\n        if (focusedItemIndex === null || focusedItemIndex === 0) {\n          indexToFocus = options.length - 1;\n        } else {\n          indexToFocus = focusedItemIndex - 1;\n        }\n      }\n\n      if (key === 'ArrowDown') {\n        // When no index is set or at the last index, focus to the first, otherwise increment focus index\n        if (\n          focusedItemIndex === null ||\n          focusedItemIndex === options.length - 1\n        ) {\n          indexToFocus = 0;\n        } else {\n          indexToFocus = focusedItemIndex + 1;\n        }\n      }\n\n      setFocusedItemIndex(indexToFocus);\n      const focusedItem = options.filter((option) => !option.props.isDisabled)[\n        indexToFocus\n      ];\n      setActiveItem(\n        `select-multi-typeahead-checkbox-${focusedItem.props.value.replace(\n          ' ',\n          '-'\n        )}`\n      );\n    }\n  };\n\n  const onInputKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    const enabledMenuItems = options.filter(\n      (menuItem) => !menuItem.props.isDisabled\n    );\n    const [firstMenuItem] = enabledMenuItems;\n    const focusedItem = focusedItemIndex\n      ? enabledMenuItems[focusedItemIndex]\n      : firstMenuItem;\n\n    switch (event.key) {\n      // Select the first available option\n      case 'Enter':\n        if (!isOpen) {\n          setIsOpen((prevIsOpen) => !prevIsOpen);\n        } else if (isOpen && focusedItem.props.value !== 'no results') {\n          onSelect(focusedItem.props.value);\n        }\n        break;\n      case 'Tab':\n      case 'Escape':\n        setIsOpen(false);\n        setActiveItem(null);\n        break;\n      case 'ArrowUp':\n      case 'ArrowDown':\n        event.preventDefault();\n        handleMenuArrowKeys(event.key);\n        break;\n    }\n  };\n\n  const onToggleClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const onTextInputChange = (\n    event: React.FormEvent<HTMLInputElement>,\n    value: string\n  ) => {\n    setInputValue(value);\n\n    const search = event.currentTarget.value?.trim();\n    if (search === '') {\n      dispatchers.useDefaults();\n    } else {\n      dispatchers.loadFilterValue(search);\n    }\n  };\n\n  const onSelect = (value: RecipientOption) => {\n    if (value) {\n      onSelected(value);\n      setIsOpen(false);\n    }\n\n    setInputValue(value.toString());\n  };\n\n  const toggle = (toggleRef: React.Ref<MenuToggleElement>) => (\n    <MenuToggle\n      variant=\"typeahead\"\n      onClick={onToggleClick}\n      innerRef={toggleRef}\n      isExpanded={isOpen}\n      isFullWidth\n      data-ouia-component-type=\"PF5/typeahead\"\n    >\n      <TextInputGroup isPlain isDisabled={isDisabled}>\n        <TextInputGroupMain\n          value={inputValue}\n          onClick={onToggleClick}\n          onChange={onTextInputChange}\n          onKeyDown={onInputKeyDown}\n          id=\"multi-typeahead-select-checkbox-input\"\n          autoComplete=\"off\"\n          innerRef={textInputRef}\n          placeholder={chooseText}\n          {...(activeItem && { 'aria-activedescendant': activeItem })}\n          role=\"combobox\"\n          isExpanded={isOpen}\n          aria-controls=\"select-multi-typeahead-checkbox-listbox\"\n        />\n      </TextInputGroup>\n    </MenuToggle>\n  );\n\n  return (\n    <Select\n      role=\"menu\"\n      id=\"multi-typeahead-checkbox-select\"\n      isOpen={isOpen}\n      selected={selection}\n      onSelect={(_ev, selection) => {\n        if (isRecipientOption(selection)) {\n          onSelect(selection as RecipientOption);\n        }\n      }}\n      onOpenChange={() => setIsOpen(false)}\n      toggle={toggle}\n    >\n      <SelectList id=\"select-multi-typeahead-checkbox-listbox\">\n        {options}\n      </SelectList>\n    </Select>\n  );\n};\n","import { Skeleton } from '@patternfly/react-core';\nimport { SelectOption } from '@patternfly/react-core/deprecated';\nimport assertNever from 'assert-never';\nimport * as React from 'react';\n\nimport { Recipient } from '../../../types/Recipient';\nimport { ReducerState } from './useTypeaheadReducer';\n\ntype Mapper<R> = (recipients: ReadonlyArray<R>) => React.ReactElement[];\ntype LoadingMapper = () => React.ReactElement[];\n\nconst getOptions = <R extends Recipient>(\n  values: ReadonlyArray<R>,\n  mapper: Mapper<R>,\n  isLoading: boolean,\n  loadingMapper?: LoadingMapper\n) => {\n  if (isLoading) {\n    return loadingMapper\n      ? loadingMapper()\n      : [\n          <SelectOption key=\"loading-option\" isNoResultsOption={true}>\n            <Skeleton width=\"100%\" />\n          </SelectOption>,\n        ];\n  }\n\n  return mapper(values);\n};\n\nexport const useRecipientOptionMemo = <R extends Recipient>(\n  state: ReducerState<R>,\n  mapper: Mapper<R>,\n  loadingMapper?: LoadingMapper\n) => {\n  return React.useMemo(() => {\n    if (state.show === 'default') {\n      return getOptions(\n        state.defaultValues,\n        mapper,\n        state.loadingDefault,\n        loadingMapper\n      );\n    } else if (state.show === 'filter') {\n      return getOptions(\n        state.filterValues,\n        mapper,\n        state.loadingFilter,\n        loadingMapper\n      );\n    }\n\n    assertNever(state.show);\n  }, [state, mapper, loadingMapper]);\n};\n","import { Chip, ChipGroup, Skeleton } from '@patternfly/react-core';\nimport {\n  Select,\n  SelectGroup,\n  SelectOption,\n  SelectOptionObject,\n  SelectVariant,\n} from '@patternfly/react-core/deprecated';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { usePrevious } from 'react-use';\n\nimport {\n  BaseNotificationRecipient,\n  NotificationRbacGroupRecipient,\n  NotificationUserRecipient,\n} from '../../../types/Recipient';\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { GroupNotFound } from '../Rbac/GroupNotFound';\nimport { useRecipientContext } from '../RecipientContext';\nimport { RecipientOption } from './RecipientOption';\nimport { useRecipientOptionMemo } from './useRecipientOptionMemo';\nimport { useTypeaheadReducer } from './useTypeaheadReducer';\n\nexport interface RecipientTypeaheadProps extends OuiaComponentProps {\n  selected: ReadonlyArray<BaseNotificationRecipient>;\n  onSelected: (value: RecipientOption) => void;\n  isDisabled?: boolean;\n  onClear: () => void;\n  onOpenChange?: (isOpen: boolean) => void;\n  error?: boolean;\n}\n\nconst rbacGroupKey = 'groups';\nconst rbacGroupLabel = 'User Access Groups';\n\nconst renderSelectGroup = (\n  key: string,\n  label: string,\n  options: ReadonlyArray<BaseNotificationRecipient>\n) =>\n  options.length > 0 ? (\n    <SelectGroup key={key} label={label}>\n      {options.map((r) => {\n        if (r instanceof NotificationRbacGroupRecipient && r.isLoading) {\n          return (\n            <SelectOption key={r.getKey()} isNoResultsOption>\n              <Skeleton width=\"100%\" />\n            </SelectOption>\n          );\n        }\n\n        return (\n          <SelectOption\n            key={r.getKey()}\n            value={new RecipientOption(r)}\n            description={r.description}\n          />\n        );\n      })}\n    </SelectGroup>\n  ) : (\n    <React.Fragment key={key} />\n  );\n\nconst recipientMapper = (\n  recipients: ReadonlyArray<BaseNotificationRecipient>\n) => {\n  return [renderSelectGroup(rbacGroupKey, rbacGroupLabel, recipients)];\n};\n\nconst loadingMapper = () => {\n  return [\n    <SelectGroup key={rbacGroupKey} label={rbacGroupLabel}>\n      <SelectOption key=\"loading-group\" isNoResultsOption={true}>\n        <Skeleton width=\"100%\" />\n      </SelectOption>\n    </SelectGroup>,\n  ];\n};\n\nconst userOptions = [\n  renderSelectGroup('users', 'Users', [\n    new NotificationUserRecipient(undefined, false, false),\n    new NotificationUserRecipient(undefined, true, false),\n  ]),\n];\n\nexport const RecipientTypeahead: React.FunctionComponent<\n  RecipientTypeaheadProps\n> = (props) => {\n  const [isOpen, setOpen] = React.useState(false);\n  const [state, dispatchers] = useTypeaheadReducer<BaseNotificationRecipient>();\n  const prevOpen = usePrevious(isOpen);\n  const { getNotificationRecipients } = useRecipientContext();\n\n  React.useEffect(() => {\n    getNotificationRecipients().then((recipients) =>\n      dispatchers.setDefaults(recipients)\n    );\n  }, [getNotificationRecipients, dispatchers]);\n\n  React.useEffect(() => {\n    if (state.loadingFilter) {\n      getNotificationRecipients().then((recipients) =>\n        dispatchers.setFilterValue(state.lastSearch, recipients)\n      );\n    }\n  }, [\n    getNotificationRecipients,\n    state.loadingFilter,\n    state.lastSearch,\n    dispatchers,\n  ]);\n\n  const toggle = React.useCallback(\n    (isOpen: boolean) => {\n      setOpen(isOpen);\n    },\n    [setOpen]\n  );\n\n  React.useEffect(() => {\n    const onOpenChange = props.onOpenChange;\n    if (prevOpen !== undefined && prevOpen !== isOpen) {\n      onOpenChange && onOpenChange(isOpen);\n    }\n  }, [prevOpen, isOpen, props.onOpenChange]);\n\n  // We probably need to augment these.\n  // Change to use this  mapper only for the groups and prepend the Users\n  const rbacOptions = useRecipientOptionMemo(\n    state,\n    recipientMapper,\n    loadingMapper\n  );\n  // augment rbacOptions\n  const options = React.useMemo(\n    () => [...userOptions, ...rbacOptions],\n    [rbacOptions]\n  );\n\n  const selection = React.useMemo(() => {\n    const sel = props.selected;\n    if (sel === undefined) {\n      return undefined;\n    }\n\n    return (sel as ReadonlyArray<NotificationUserRecipient>).map(\n      (s) => new RecipientOption(s)\n    );\n  }, [props.selected]);\n\n  const onSelect = React.useCallback(\n    (_event, value: string | SelectOptionObject) => {\n      const onSelected = props.onSelected;\n      if (value instanceof RecipientOption) {\n        onSelected(value);\n      }\n    },\n    [props.onSelected]\n  );\n\n  const selectContent = React.useMemo(() => {\n    return selection?.map((value) => {\n      const unselect =\n        (element: RecipientOption) => (evt: React.MouseEvent) => {\n          evt.stopPropagation();\n          onSelect(evt, element);\n        };\n\n      const key = value.recipient.getKey();\n\n      if (value.recipient instanceof NotificationRbacGroupRecipient) {\n        if (value.recipient.isLoading) {\n          return (\n            <Chip key={key} onClick={unselect(value)}>\n              <Skeleton data-testid=\"loading-group\" width=\"40px\" />\n            </Chip>\n          );\n        } else if (value.recipient.hasError) {\n          return <GroupNotFound key={key} onClose={unselect(value)} />;\n        }\n      }\n\n      return (\n        <Chip onClick={unselect(value)} key={key}>\n          {value.recipient.displayName}\n        </Chip>\n      );\n    });\n  }, [selection, onSelect]);\n\n  return (\n    <div {...getOuiaProps('RecipientTypeahead', props)}>\n      <Select\n        maxHeight={400}\n        variant={SelectVariant.checkbox}\n        selections={selection}\n        onSelect={onSelect}\n        onToggle={(_e, val) => toggle(val)}\n        isOpen={isOpen}\n        menuAppendTo={document.body}\n        isDisabled={props.isDisabled}\n        onClear={props.onClear}\n        validated={props.error ? 'error' : undefined}\n        isGrouped\n        isCheckboxSelectionBadgeHidden\n        // hasInlineFilter // Disabled filter. see: https://github.com/patternfly/patternfly-react/issues/7134\n        isInputValuePersisted\n        placeholderText={<ChipGroup>{selectContent}</ChipGroup>}\n      >\n        {options}\n      </Select>\n    </div>\n  );\n};\n","import { FormHelperText } from '@patternfly/react-core';\nimport { Select, SelectVariant } from '@patternfly/react-core/deprecated';\nimport * as React from 'react';\n\nimport { IntegrationType } from '../../../types/Integration';\nimport { Action, NotificationType } from '../../../types/Notification';\nimport { UseBehaviorGroupActionHandlers } from '../BehaviorGroup/useBehaviorGroupActionHandlers';\nimport { IntegrationRecipientTypeahead } from '../Form/IntegrationRecipientTypeahead';\nimport { RecipientTypeahead } from '../Form/RecipientTypeahead';\n\ninterface RecipientFormProps {\n  action?: Action;\n  integrationSelected: ReturnType<\n    UseBehaviorGroupActionHandlers['handleIntegrationSelected']\n  >;\n  recipientSelected: ReturnType<\n    UseBehaviorGroupActionHandlers['handleRecipientSelected']\n  >;\n  recipientOnClear: ReturnType<\n    UseBehaviorGroupActionHandlers['handleRecipientOnClear']\n  >;\n  onOpenChange?: (isOpen: boolean) => void;\n  error?: string;\n}\n\nconst dummyOnToggle = () => false;\n\nexport const RecipientForm: React.FunctionComponent<RecipientFormProps> = (\n  props\n) => {\n  let recipient: React.ReactNode;\n\n  if (!props.action) {\n    recipient = (\n      <div>\n        <Select\n          variant={SelectVariant.typeahead}\n          isDisabled\n          onToggle={dummyOnToggle}\n          isOpen={false}\n        />\n      </div>\n    );\n  } else if (props.action.type === NotificationType.INTEGRATION) {\n    recipient = (\n      <IntegrationRecipientTypeahead\n        onSelected={props.integrationSelected}\n        integrationType={\n          props.action.integration?.type ?? IntegrationType.WEBHOOK\n        }\n        selected={props.action.integration}\n        onOpenChange={props.onOpenChange}\n        error={!!props.error}\n      />\n    );\n  } else {\n    recipient = (\n      <RecipientTypeahead\n        onSelected={props.recipientSelected}\n        selected={props.action.recipient}\n        onClear={props.recipientOnClear}\n        onOpenChange={props.onOpenChange}\n        error={!!props.error}\n      />\n    );\n  }\n\n  return (\n    <>\n      {' '}\n      {recipient}\n      {props.error && <FormHelperText>{props.error}</FormHelperText>}\n    </>\n  );\n};\n","import { SelectOptionObject } from '@patternfly/react-core/deprecated';\n\nimport Config from '../../../config/Config';\nimport { UserIntegrationType } from '../../../types/Integration';\nimport { NotificationType } from '../../../types/Notification';\n\ntype ActionTypeOrIntegration =\n  | {\n      kind: 'integration';\n      type: UserIntegrationType;\n    }\n  | {\n      kind: 'notification';\n      type: NotificationType;\n    };\n\nexport class ActionOption implements SelectOptionObject {\n  readonly integrationType: UserIntegrationType | undefined;\n  readonly notificationType: NotificationType;\n\n  constructor(type: ActionTypeOrIntegration) {\n    if (type.kind === 'integration') {\n      this.notificationType = NotificationType.INTEGRATION;\n      this.integrationType = type.type;\n    } else {\n      this.notificationType = type.type;\n      this.integrationType = undefined;\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  compareTo(selectOption: any): boolean {\n    if (selectOption instanceof ActionOption) {\n      return (\n        selectOption.notificationType === this.notificationType &&\n        selectOption.integrationType === this.integrationType\n      );\n    }\n\n    return false;\n  }\n\n  toString(): string {\n    const actionName = Config.notifications.types[this.notificationType].name;\n    if (this.integrationType) {\n      const integrationName =\n        Config.integrations.types[this.integrationType].name;\n      return `${actionName}: ${integrationName}`;\n    }\n\n    return actionName;\n  }\n}\n","import {\n  Select,\n  SelectOption,\n  SelectOptionObject,\n  SelectVariant,\n} from '@patternfly/react-core/deprecated/';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport produce from 'immer';\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useIntegrations } from '../../../hooks/useIntegrations';\nimport { useNotifications } from '../../../hooks/useNotifications';\nimport { linkTo } from '../../../Routes';\nimport {\n  UserIntegrationType,\n  isUserIntegrationType,\n} from '../../../types/Integration';\nimport { Action, NotificationType } from '../../../types/Notification';\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { useRecipientContext } from '../RecipientContext';\nimport { ActionOption } from './ActionOption';\n\nconst getSelectOptions = (\n  availableNotificationTypes: ReadonlyArray<NotificationType>,\n  availableIntegrationTypes: ReadonlyArray<UserIntegrationType>,\n  selectedNotifications: ReadonlyArray<NotificationType>\n) => [\n  ...availableNotificationTypes\n    .filter((type) => !selectedNotifications.includes(type))\n    .map(\n      (type) =>\n        new ActionOption({\n          kind: 'notification',\n          type,\n        })\n    ),\n  ...availableIntegrationTypes.map(\n    (type) =>\n      new ActionOption({\n        kind: 'integration',\n        type,\n      })\n  ),\n];\n\ntype NoIntegrationConfigured = {\n  Comp?: React.ComponentType<unknown>;\n  testNoIntegrationRenderWithoutRelAndTarget?: boolean;\n};\n\nconst NoIntegrationConfigured: React.FunctionComponent<\n  NoIntegrationConfigured\n> = (props) => (\n  <>\n    <div>You have no integration configured.</div>\n    {props.Comp && <props.Comp />}\n    <div>\n      Go to Settings {'>'}{' '}\n      <Link\n        style={{ pointerEvents: 'all' }}\n        rel={\n          props.testNoIntegrationRenderWithoutRelAndTarget\n            ? undefined\n            : 'noopener noreferrer'\n        }\n        target={\n          props.testNoIntegrationRenderWithoutRelAndTarget\n            ? undefined\n            : '_blank'\n        }\n        to={linkTo.integrations()}\n      >\n        Integrations\n      </Link>{' '}\n      to configure.\n    </div>\n  </>\n);\n\nexport interface ActionTypeaheadProps extends OuiaComponentProps {\n  selectedNotifications: ReadonlyArray<NotificationType>;\n  action?: Action;\n  isDisabled?: boolean;\n  onSelected: (actionOption: ActionOption) => void;\n  testNoIntegrationRenderWithoutRelAndTarget?: boolean;\n}\n\nexport const ActionTypeahead: React.FunctionComponent<ActionTypeaheadProps> = (\n  props\n) => {\n  const [isOpen, setOpen] = React.useState(false);\n  const { getIntegrations } = useRecipientContext();\n  const [hasIntegrations, setHasIntegrations] = React.useState<\n    Record<UserIntegrationType, boolean>\n  >(\n    Object.values(UserIntegrationType).reduce((types, type) => {\n      types[type] = true;\n      return types;\n    }, {} as Record<UserIntegrationType, boolean>)\n  );\n\n  React.useEffect(() => {\n    Object.values(UserIntegrationType).forEach(async (type) => {\n      const values = await getIntegrations(type);\n      setHasIntegrations(\n        produce((draft) => {\n          draft[type] = values.length > 0;\n        })\n      );\n    });\n  }, [getIntegrations]);\n\n  const toggle = React.useCallback(\n    (isExpanded: boolean) => {\n      setOpen(isExpanded);\n    },\n    [setOpen]\n  );\n\n  const onSelect = React.useCallback(\n    (_event, value: string | SelectOptionObject) => {\n      const actionSelected = props.onSelected;\n      if (value instanceof ActionOption) {\n        actionSelected(value);\n        setOpen(false);\n      }\n    },\n    [props.onSelected, setOpen]\n  );\n\n  const selectedOption = React.useMemo(() => {\n    if (!props.action) {\n      return undefined;\n    }\n\n    if (props.action.type === NotificationType.INTEGRATION) {\n      return new ActionOption({\n        kind: 'integration',\n        type: props.action.integration.type,\n      });\n    }\n\n    return new ActionOption({\n      kind: 'notification',\n      type: props.action.type,\n    });\n  }, [props.action]);\n\n  const integrationTypes = useIntegrations();\n  const notificationTypes = useNotifications();\n\n  const selectableOptions = React.useMemo(() => {\n    return getSelectOptions(\n      notificationTypes,\n      integrationTypes,\n      props.selectedNotifications\n    ).map((o) => {\n      const isDisabled =\n        isUserIntegrationType(o.integrationType) &&\n        !hasIntegrations[o.integrationType];\n      return (\n        <SelectOption\n          isDisabled={isDisabled}\n          key={o.toString()}\n          value={o}\n          description={\n            isDisabled && (\n              <NoIntegrationConfigured\n                testNoIntegrationRenderWithoutRelAndTarget={\n                  props.testNoIntegrationRenderWithoutRelAndTarget\n                }\n              />\n            )\n          }\n        />\n      );\n    });\n  }, [\n    notificationTypes,\n    integrationTypes,\n    props.selectedNotifications,\n    hasIntegrations,\n    props.testNoIntegrationRenderWithoutRelAndTarget,\n  ]);\n\n  return (\n    <div {...getOuiaProps('ActionTypeahead', props)}>\n      <Select\n        maxHeight={400}\n        variant={SelectVariant.single}\n        aria-label=\"Select action\"\n        placeholderText=\"Select action\"\n        selections={selectedOption}\n        onToggle={(_e, val) => toggle(val)}\n        isOpen={isOpen}\n        onSelect={onSelect}\n        menuAppendTo={document.body}\n        isDisabled={props.isDisabled}\n      >\n        {selectableOptions}\n      </Select>\n    </div>\n  );\n};\n","import { Button, ButtonVariant, GridItem } from '@patternfly/react-core';\nimport { MinusCircleIcon, PlusCircleIcon } from '@patternfly/react-icons';\nimport {\n  IActions,\n  ICell,\n  IRow,\n  IRowData,\n  TableVariant,\n  cellWidth,\n} from '@patternfly/react-table';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n} from '@patternfly/react-table/deprecated';\nimport { important } from 'csx';\nimport { FieldArrayRenderProps, FormikProps } from 'formik';\nimport produce, { Draft, castDraft } from 'immer';\nimport * as React from 'react';\nimport { DeepPartial } from 'ts-essentials';\nimport { cssRaw, style } from 'typestyle';\n\nimport {\n  Action,\n  BehaviorGroup,\n  NewBehaviorGroup,\n  NotificationType,\n} from '../../../types/Notification';\nimport { RecipientForm } from '../EditableActionRow/RecipientForm';\nimport { ActionTypeahead } from '../Form/ActionTypeahead';\nimport {\n  SetActionUpdater,\n  UseBehaviorGroupActionHandlers,\n  useBehaviorGroupActionHandlers,\n} from './useBehaviorGroupActionHandlers';\n\ncssRaw(`\n    @media only screen and (max-width: 768px) {\n        .pf-c-select .pf-c-select__toggle-typeahead {\n            --pf-c-select__toggle-typeahead--FlexBasis: 0;\n        }\n    }\n`);\n\nexport type BehaviorGroupFormTableProps = FieldArrayRenderProps & {\n  form: FormikProps<FormType>;\n};\n\ntype FormType = DeepPartial<BehaviorGroup | NewBehaviorGroup>;\n\nconst tableHeaderClassName = style({\n  $nest: {\n    '& tr': {\n      borderBottom: important(0),\n    },\n    '& th:first-child': {\n      paddingLeft: important(0),\n    },\n    '& th:last-child, & td:last-child': {\n      paddingRight: important(0),\n    },\n  },\n});\n\nconst tableBodyClassName = style({\n  $nest: {\n    '& td:first-child': {\n      paddingLeft: important(0),\n    },\n    '& td:last-child': {\n      paddingRight: important(0),\n    },\n    '& td': {\n      verticalAlign: important('top'),\n    },\n  },\n});\n\nconst alignLeftClassName = style({\n  textAlign: 'left',\n  paddingLeft: 0,\n});\n\nconst cells: Array<ICell> = [\n  {\n    title: 'Actions',\n    transforms: [cellWidth(50)],\n  },\n  {\n    title: 'Recipient',\n  },\n];\n\nconst toTableRows = (\n  actions: ReadonlyArray<Action | undefined>,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  errors: any,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  touched: any,\n  selectedNotifications: ReadonlyArray<NotificationType>,\n  rowHandlers: UseBehaviorGroupActionHandlers,\n  setFieldTouched: (\n    field: string,\n    isTouched?: boolean,\n    shouldValidate?: boolean\n  ) => void\n): Array<IRow> => {\n  return actions.map((action, index) => {\n    let error: string | undefined = undefined;\n    let isTouched = false;\n    let path;\n\n    if (action?.type === NotificationType.INTEGRATION) {\n      path = `actions.${index}.integration`;\n    } else {\n      path = `actions.${index}.recipient`;\n    }\n\n    if (action?.type === NotificationType.INTEGRATION) {\n      if (touched[index]?.integration) {\n        isTouched = true;\n      }\n\n      if (isTouched && errors[index]?.integration) {\n        error = 'Select a recipient for this integration.';\n      }\n    }\n\n    if (!error && isTouched) {\n      setFieldTouched(path, false, false);\n    }\n\n    return {\n      id: index,\n      key: index,\n      cells: [\n        {\n          title: (\n            <ActionTypeahead\n              selectedNotifications={selectedNotifications}\n              action={action}\n              onSelected={rowHandlers.handleActionSelected(index)}\n            />\n          ),\n        },\n        {\n          title: (\n            <RecipientForm\n              action={action}\n              integrationSelected={rowHandlers.handleIntegrationSelected(index)}\n              recipientSelected={rowHandlers.handleRecipientSelected(index)}\n              recipientOnClear={rowHandlers.handleRecipientOnClear(index)}\n              error={error}\n              onOpenChange={(isOpen) => {\n                if (!isOpen) {\n                  setFieldTouched(path, true, false);\n                }\n              }}\n            />\n          ),\n        },\n      ],\n    };\n  });\n};\n\nconst emptySpan = () => <span />;\n\nexport const BehaviorGroupFormActionsTable: React.FunctionComponent<\n  BehaviorGroupFormTableProps\n> = (props) => {\n  const { values, setValues, errors, touched, setFieldTouched } = props.form;\n  const actions = React.useMemo<ReadonlyArray<Action | undefined>>(\n    () => values.actions ?? ([] as ReadonlyArray<Action>),\n    [values]\n  );\n  const touchedActions = React.useMemo(() => touched?.actions ?? [], [touched]);\n  const errorActions = React.useMemo(() => errors?.actions ?? [], [errors]);\n\n  const selectedNotifications = React.useMemo(\n    () =>\n      new Array(\n        ...new Set<NotificationType>(\n          (actions.filter((a) => a) as ReadonlyArray<Action>).map((a) => a.type)\n        )\n      ) as ReadonlyArray<NotificationType>,\n    [actions]\n  );\n\n  const setValueDispatch = React.useCallback(\n    (updater: SetActionUpdater) => {\n      setValues(\n        produce((prev) => {\n          const form = prev as Draft<FormType>;\n          if (updater instanceof Function) {\n            form.actions = castDraft(\n              updater(form.actions as ReadonlyArray<DeepPartial<Action>>)\n            );\n          } else {\n            form.actions = castDraft(updater);\n          }\n        }),\n        false\n      );\n    },\n    [setValues]\n  );\n\n  const addAction = React.useCallback(() => {\n    const push = props.push;\n    push(undefined);\n  }, [props.push]);\n\n  React.useEffect(() => {\n    if (actions.length === 0) {\n      addAction();\n    }\n  }, [actions, addAction]);\n\n  const rowHandlers = useBehaviorGroupActionHandlers(setValueDispatch);\n\n  const rows = React.useMemo(\n    () =>\n      toTableRows(\n        actions,\n        errorActions,\n        touchedActions,\n        selectedNotifications,\n        rowHandlers,\n        setFieldTouched\n      ),\n    [\n      actions,\n      errorActions,\n      touchedActions,\n      selectedNotifications,\n      rowHandlers,\n      setFieldTouched,\n    ]\n  );\n\n  const actionResolver = React.useCallback(\n    (rowData: IRowData): IActions => {\n      const handleRemove = props.handleRemove;\n      if (rows.length > 1) {\n        return [\n          {\n            key: 'delete',\n            title: (\n              <Button aria-label=\"delete-action\" variant={ButtonVariant.plain}>\n                <MinusCircleIcon />\n              </Button>\n            ),\n            isOutsideDropdown: true,\n            onClick: handleRemove(rowData.id),\n          },\n        ];\n      }\n\n      return [];\n    },\n    [rows, props.handleRemove]\n  );\n\n  return (\n    <>\n      <Table\n        aria-label=\"behavior-group-actions-form\"\n        rows={rows}\n        cells={cells}\n        actionResolver={actionResolver}\n        actionsToggle={\n          emptySpan as any /* eslint-disable-line @typescript-eslint/no-explicit-any */\n        }\n        borders={false}\n        variant={TableVariant.compact}\n        isStickyHeader={true}\n      >\n        <TableHeader className={tableHeaderClassName} />\n        <TableBody className={tableBodyClassName} />\n      </Table>\n      <GridItem span={12}>\n        <Button\n          className={alignLeftClassName}\n          variant={ButtonVariant.link}\n          icon={<PlusCircleIcon />}\n          onClick={addAction}\n        >\n          Add action\n        </Button>\n      </GridItem>\n    </>\n  );\n};\n","import produce, { Draft, castDraft, original } from 'immer';\nimport { SetStateAction, useCallback } from 'react';\nimport { DeepPartial } from 'ts-essentials';\n\nimport {\n  Action,\n  ActionIntegration,\n  ActionNotify,\n  NotificationType,\n} from '../../../types/Notification';\nimport {\n  BaseNotificationRecipient,\n  IntegrationRecipient,\n  NotificationUserRecipient,\n} from '../../../types/Recipient';\nimport { ActionOption } from '../Form/ActionOption';\nimport { RecipientOption } from '../Form/RecipientOption';\n\nexport interface UseBehaviorGroupActionHandlers {\n  handleActionSelected: (index: number) => (value: ActionOption) => void;\n  handleIntegrationSelected: (\n    index: number\n  ) => (value: RecipientOption) => void;\n  handleRecipientSelected: (index: number) => (value: RecipientOption) => void;\n  handleRecipientOnClear: (index: number) => () => void;\n}\n\nexport type SetActionUpdater = SetStateAction<\n  ReadonlyArray<DeepPartial<Action>>\n>;\n\nexport const useBehaviorGroupActionHandlers = (\n  setActions: (updater: SetActionUpdater) => void\n): UseBehaviorGroupActionHandlers => {\n  const handleActionSelected = useCallback(\n    (index: number) => (value: ActionOption) => {\n      setActions(\n        produce((prev) => {\n          if (!prev[index]) {\n            prev[index] = {};\n          }\n\n          const row = prev[index];\n          row.type = value.notificationType;\n          if (value.integrationType) {\n            const rowAsIntegration = row as Draft<\n              DeepPartial<ActionIntegration>\n            >;\n            rowAsIntegration.integration = {\n              type: value.integrationType,\n            };\n          } else {\n            const rowAsNotification = row as Draft<ActionNotify>;\n            rowAsNotification.recipient = [];\n          }\n        })\n      );\n    },\n    [setActions]\n  );\n\n  const handleIntegrationSelected = useCallback(\n    (index: number) => (value: RecipientOption) => {\n      setActions(\n        produce((prev) => {\n          if (value.recipient instanceof IntegrationRecipient) {\n            const rowAsIntegration = prev[index] as Draft<ActionIntegration>;\n            rowAsIntegration.integration = value.recipient.integration;\n          }\n        })\n      );\n    },\n    [setActions]\n  );\n\n  const handleRecipientSelected = useCallback(\n    (index: number) => (value: RecipientOption) => {\n      setActions(\n        produce((prev) => {\n          const row = prev[index];\n          if (row.type !== NotificationType.INTEGRATION) {\n            const rowAsNotification = row as Draft<ActionNotify>;\n            const originalRecipient = original(rowAsNotification.recipient);\n            if (originalRecipient) {\n              const index = originalRecipient.findIndex((r) =>\n                value.recipient.equals(r as NotificationUserRecipient)\n              );\n              if (index === -1) {\n                rowAsNotification.recipient.push(\n                  castDraft(value.recipient as BaseNotificationRecipient)\n                );\n              } else {\n                rowAsNotification.recipient.splice(index, 1);\n              }\n            }\n          }\n        })\n      );\n    },\n    [setActions]\n  );\n\n  const handleRecipientOnClear = useCallback(\n    (index: number) => () => {\n      setActions(\n        produce((prev) => {\n          const row = prev[index];\n          if (row.type !== NotificationType.INTEGRATION) {\n            const rowAsNotification = row as Draft<ActionNotify>;\n            rowAsNotification.recipient = [];\n          }\n        })\n      );\n    },\n    [setActions]\n  );\n\n  return {\n    handleActionSelected,\n    handleIntegrationSelected,\n    handleRecipientSelected,\n    handleRecipientOnClear,\n  };\n};\n","import { Grid } from '@patternfly/react-core';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport { FieldArray } from 'formik';\nimport * as React from 'react';\n\nimport { BehaviorGroup } from '../../../types/Notification';\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { BehaviorGroupFormActionsTable } from './BehaviorGroupFormActionsTable';\n\nexport interface EditBehaviorGroupProps extends OuiaComponentProps {\n  behaviorGroup?: Partial<BehaviorGroup>;\n}\n\nexport const EditBehaviorGroupForm: React.FunctionComponent<\n  EditBehaviorGroupProps\n> = (props) => {\n  return (\n    <div {...getOuiaProps('Notifications/BehaviorGroupForm', props)}>\n      <Grid hasGutter>\n        <FieldArray name=\"actions\">\n          {(helpers) => (\n            <>\n              <BehaviorGroupFormActionsTable {...helpers} />\n            </>\n          )}\n        </FieldArray>\n      </Grid>\n    </div>\n  );\n};\n","import * as Yup from 'yup';\n\nimport { NotificationType } from '../../types/Notification';\n\nconst ActionIntegration = Yup.object({\n  type: Yup.mixed().oneOf([NotificationType.INTEGRATION]).required(),\n  integration: Yup.object({\n    id: Yup.string().required(),\n  }).required(),\n  integrationId: Yup.string().min(1),\n});\n\nconst ActionNotify = Yup.object({\n  type: Yup.mixed()\n    .oneOf([NotificationType.EMAIL_SUBSCRIPTION, NotificationType.DRAWER])\n    .required(),\n  recipient: Yup.array(Yup.object()).min(1),\n  integrationId: Yup.string().min(0),\n});\n\ntype ActionsType =\n  | Yup.TypeOf<typeof ActionIntegration>\n  | Yup.TypeOf<typeof ActionNotify>;\n\nexport const ActionsArray = Yup.array(\n  Yup.lazy((obj) => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, no-prototype-builtins\n    if (obj && (obj as any).hasOwnProperty('type')) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if ((obj as any).type === NotificationType.INTEGRATION) {\n        return ActionIntegration;\n      }\n    }\n\n    return ActionNotify;\n  })\n).test(\n  'no-repeated',\n  \"${path} can't contain repeated actions\",\n  (value: Array<ActionsType> | undefined, context) => {\n    const errors: Array<ReturnType<Yup.TestContext['createError']>> = [];\n\n    let foundEmail = false;\n    const integrationIds: Array<string> = [];\n\n    if (!value) {\n      return true;\n    }\n\n    for (let i = 0; i < value.length; ++i) {\n      const action = value[i];\n      const integrationId = action.integrationId;\n      if (action.type === NotificationType.EMAIL_SUBSCRIPTION) {\n        if (foundEmail) {\n          errors.push(\n            context.createError({\n              message: 'Only 1 send email action is allowed',\n              path: `actions.${i}`,\n            })\n          );\n        }\n\n        foundEmail = true;\n      } else if (integrationId) {\n        if (integrationIds.includes(integrationId)) {\n          errors.push(\n            context.createError({\n              message:\n                'Integration already used in the group, please select other',\n              path: `actions.${i}`,\n            })\n          );\n        } else {\n          integrationIds.push(integrationId);\n        }\n      }\n    }\n\n    if (errors.length === 0) {\n      return true;\n    }\n\n    return {\n      ...context.createError(),\n      inner: errors,\n    };\n  }\n);\n\nexport const WithActions = Yup.object({\n  actions: ActionsArray,\n});\n\nexport const BehaviorGroupSchema = Yup.object({\n  displayName: Yup.string().required(\n    'You must specify a name for the behavior group'\n  ),\n  actions: ActionsArray,\n});\n","import { Text, TextContent, Title } from '@patternfly/react-core';\nimport { Form } from '@redhat-cloud-services/insights-common-typescript';\nimport { useFormikContext } from 'formik';\nimport * as React from 'react';\nimport * as Yup from 'yup';\n\nimport { EditBehaviorGroupForm } from '../../../../components/Notifications/BehaviorGroup/BehaviorGroupForm';\nimport { IntegrationWizardStep } from '../../../../components/Notifications/BehaviorGroup/Wizard/ExtendedWizardStep';\nimport { ActionsArray } from '../../../../schemas/Integrations/Notifications';\nimport { CreateBehaviorGroup } from '../../../../types/CreateBehaviorGroup';\n\nconst title = 'Actions and recipients';\n\nconst ActionAndRecipientsStep: React.FunctionComponent = () => {\n  const { values } = useFormikContext<CreateBehaviorGroup>();\n\n  return (\n    <Form>\n      <div>\n        <Title headingLevel=\"h4\" size=\"xl\">\n          {title}\n        </Title>\n        <TextContent className=\"pf-v5-u-pt-sm\">\n          <Text>\n            Select action and recipient pairs to assign to your notification\n            events.\n          </Text>\n        </TextContent>\n        <EditBehaviorGroupForm behaviorGroup={values} />\n      </div>\n    </Form>\n  );\n};\n\nconst schema = Yup.object({\n  actions: ActionsArray,\n});\n\nexport const useActionAndRecipientStep: IntegrationWizardStep = () => {\n  return React.useMemo(\n    () => ({\n      name: title,\n      component: <ActionAndRecipientsStep />,\n      schema,\n    }),\n    []\n  );\n};\n","import { Title } from '@patternfly/react-core';\nimport {\n  Form,\n  FormTextInput,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport * as Yup from 'yup';\n\nimport { IntegrationWizardStep } from '../../../../components/Notifications/BehaviorGroup/Wizard/ExtendedWizardStep';\n\nconst title = 'Name';\n\nconst BasicInformationStep: React.FunctionComponent = () => {\n  return (\n    <Form ouiaId=\"basic-information-step\">\n      <Title headingLevel=\"h4\" size=\"xl\">\n        {title}\n      </Title>\n      <FormTextInput\n        ouiaId=\"name\"\n        id=\"name\"\n        name=\"displayName\"\n        label=\"Behavior group name\"\n        isRequired\n      />\n    </Form>\n  );\n};\n\nexport const schema = Yup.object({\n  displayName: Yup.string()\n    .min(1)\n    .max(150, 'Must be 150 characters or less')\n    .required('Behavior group name is required'),\n});\n\nexport const useBasicInformationStep: IntegrationWizardStep = () => {\n  return React.useMemo(\n    () => ({\n      name: title,\n      component: <BasicInformationStep />,\n      schema,\n    }),\n    []\n  );\n};\n","import {\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Grid,\n  GridItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Title,\n} from '@patternfly/react-core';\nimport { Form } from '@redhat-cloud-services/insights-common-typescript';\nimport { useFormikContext } from 'formik';\nimport * as React from 'react';\n\nimport { BehaviorGroupActionsSummary } from '../../../../components/Notifications/BehaviorGroup/BehaviorGroupActionsSummary';\nimport { IntegrationWizardStep } from '../../../../components/Notifications/BehaviorGroup/Wizard/ExtendedWizardStep';\nimport { CreateBehaviorGroup } from '../../../../types/CreateBehaviorGroup';\nimport { EventType } from '../../../../types/Notification';\n\nconst title = 'Review';\n\ninterface EventTypeReviewTableProps {\n  events: ReadonlyArray<EventType>;\n}\n\nconst EventTypeTable: React.FunctionComponent<EventTypeReviewTableProps> = (\n  props\n) => {\n  return (\n    <Grid>\n      <GridItem span={6}>\n        <TextContent>\n          <Text component={TextVariants.h6}>Event type</Text>\n        </TextContent>\n      </GridItem>\n      <GridItem span={6}>\n        <TextContent>\n          <Text component={TextVariants.h6}>Application</Text>\n        </TextContent>\n      </GridItem>\n      {props.events.map((event) => (\n        <React.Fragment key={event.id}>\n          <GridItem span={6}>{event.eventTypeDisplayName}</GridItem>\n          <GridItem span={6}>{event.applicationDisplayName}</GridItem>\n        </React.Fragment>\n      ))}\n    </Grid>\n  );\n};\n\nconst ReviewStep: React.FunctionComponent = () => {\n  const { values } = useFormikContext<CreateBehaviorGroup>();\n\n  return (\n    <Form ouiaId=\"review-step\">\n      <Title headingLevel=\"h2\" size=\"xl\">\n        {title}\n      </Title>\n      <DescriptionList isHorizontal>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Name</DescriptionListTerm>\n          <DescriptionListDescription>\n            {' '}\n            {values.displayName}\n          </DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm> Actions and recipients</DescriptionListTerm>\n          <DescriptionListDescription>\n            <BehaviorGroupActionsSummary actions={values.actions} />\n          </DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Associate event types</DescriptionListTerm>\n          <DescriptionListDescription>\n            <EventTypeTable events={values.events} />\n          </DescriptionListDescription>\n        </DescriptionListGroup>\n      </DescriptionList>\n    </Form>\n  );\n};\n\nexport const createReviewStep: IntegrationWizardStep = () => ({\n  name: title,\n  component: <ReviewStep />,\n  nextButtonText: 'Finish',\n});\n","import { Formik, useFormikContext } from 'formik';\nimport * as React from 'react';\nimport * as Yup from 'yup';\n\nimport { BehaviorGroupWizard } from '../../../components/Notifications/BehaviorGroup/Wizard/BehaviorGroupWizard';\nimport { RecipientContextProvider } from '../../../components/Notifications/RecipientContext';\nimport { useGetIntegrations } from '../../../components/Notifications/useGetIntegrations';\nimport { useGetRecipients } from '../../../components/Notifications/useGetRecipients';\nimport { CreateBehaviorGroup } from '../../../types/CreateBehaviorGroup';\nimport { Facet } from '../../../types/Notification';\nimport { useNotification } from '../../../utils/AlertUtils';\nimport {\n  SaveBehaviorGroupOperation,\n  useSaveBehaviorGroup,\n} from './useSaveBehaviorGroup';\nimport { useSteps } from './useSteps';\n\ninterface BehaviorGroupWizardProps {\n  bundle: Facet;\n  applications: ReadonlyArray<Facet>;\n  behaviorGroup?: Partial<CreateBehaviorGroup>;\n  onClose: (saved: boolean) => void;\n}\n\ninterface BehaviorGroupWizardInternalProps extends BehaviorGroupWizardProps {\n  validationSchema?: Yup.AnySchema;\n  setValidationSchema: (schema?: Yup.AnySchema) => void;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noOp = () => {};\n\nconst InternalBehaviorGroupWizardPage: React.FunctionComponent<\n  BehaviorGroupWizardInternalProps\n> = (props) => {\n  const [currentStep, setCurrentStep] = React.useState(0);\n  const { isValid, validateForm } = useFormikContext<CreateBehaviorGroup>();\n  const saving = useSaveBehaviorGroup(props.behaviorGroup);\n  const { values } = useFormikContext<CreateBehaviorGroup>();\n  const { addDangerNotification, addSuccessNotification } = useNotification();\n\n  const associateEventTypeStepProps = {\n    bundle: props.bundle,\n    applications: props.applications,\n  };\n\n  const steps = useSteps(\n    associateEventTypeStepProps,\n    currentStep,\n    isValid,\n    saving.isSaving\n  );\n\n  const currentStepModel = steps[currentStep] as\n    | (typeof steps)[number]\n    | undefined;\n  const stepValidationSchema = currentStepModel?.schema;\n\n  React.useEffect(() => {\n    props.setValidationSchema(stepValidationSchema);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentStep]);\n\n  React.useEffect(() => {\n    validateForm();\n  }, [props.validationSchema, validateForm]);\n\n  const onSave = React.useCallback(async () => {\n    const onClose = props.onClose;\n    const save = saving.save;\n    const behaviorGroup = {\n      ...values,\n      bundleId: props.bundle.id,\n    };\n\n    const result = await save(behaviorGroup);\n\n    if (result.status) {\n      if (result.operation === SaveBehaviorGroupOperation.CREATE) {\n        addSuccessNotification(\n          'New behavior group created',\n          <>\n            Group <b> {behaviorGroup.displayName} </b> created successfully.\n          </>\n        );\n      } else {\n        addSuccessNotification(\n          'Behavior group saved',\n          <>\n            Group <b> {behaviorGroup.displayName} </b> was saved successfully.\n          </>\n        );\n      }\n\n      onClose(true);\n    } else {\n      if (result.operation === SaveBehaviorGroupOperation.CREATE) {\n        addDangerNotification(\n          'Behavior group failed to be created',\n          <>\n            Failed to create group <b> {behaviorGroup.displayName}</b>.\n            <br />\n            Please try again.\n          </>\n        );\n      } else {\n        addDangerNotification(\n          'Behavior group failed to save',\n          <>\n            Failed to save group <b> {behaviorGroup.displayName}</b>.\n            <br />\n            Please try again.\n          </>\n        );\n      }\n    }\n  }, [\n    values,\n    saving.save,\n    props.bundle,\n    props.onClose,\n    addDangerNotification,\n    addSuccessNotification,\n  ]);\n\n  const onNext = async (goNext) => {\n    let shouldGoNext = true;\n\n    if (currentStepModel?.isValid) {\n      shouldGoNext = await currentStepModel.isValid();\n    }\n\n    if (shouldGoNext) {\n      setCurrentStep((prev) => Math.min(prev + 1, steps.length));\n      goNext();\n    }\n  };\n\n  const onBack = async (goBack) => {\n    setCurrentStep((prev) => prev - 1);\n    goBack();\n  };\n\n  const onClose = () => {\n    props.onClose(false);\n  };\n\n  return (\n    <BehaviorGroupWizard\n      steps={steps}\n      onNext={onNext}\n      onBack={onBack}\n      onGoToStep={setCurrentStep}\n      loading={saving.isSaving}\n      onClose={onClose}\n      onSave={onSave}\n    />\n  );\n};\n\nexport const BehaviorGroupWizardPage: React.FunctionComponent<\n  BehaviorGroupWizardProps\n> = (props) => {\n  const getRecipients = useGetRecipients();\n  const getIntegrations = useGetIntegrations();\n  const actionsContextValue = React.useMemo(\n    () => ({\n      getIntegrations,\n      getNotificationRecipients: getRecipients,\n    }),\n    [getIntegrations, getRecipients]\n  );\n\n  const [validationSchema, setValidationSchema] =\n    React.useState<Yup.AnySchema>();\n\n  return (\n    <RecipientContextProvider value={actionsContextValue}>\n      <Formik<Partial<CreateBehaviorGroup>>\n        validateOnMount\n        onSubmit={noOp}\n        initialValues={\n          props.behaviorGroup ?? {\n            actions: [],\n            events: [],\n            displayName: undefined,\n          }\n        }\n        validationSchema={validationSchema}\n        validateOnBlur\n        validateOnChange\n      >\n        <InternalBehaviorGroupWizardPage\n          {...props}\n          validationSchema={validationSchema}\n          setValidationSchema={setValidationSchema}\n        />\n      </Formik>\n    </RecipientContextProvider>\n  );\n};\n","import assertNever from 'assert-never';\n\nimport { Operations } from '../../generated/OpenapiIntegrations';\nimport {\n  SystemProperties,\n  isDrawerSystemProperties,\n  isEmailSystemProperties,\n} from '../../types/Notification';\n\nexport const getDefaultSystemEndpointAction = (\n  systemProperties: SystemProperties\n) => {\n  if (isEmailSystemProperties(systemProperties)) {\n    return Operations.EndpointResourceGetOrCreateEmailSubscriptionEndpoint.actionCreator(\n      {\n        body: {\n          only_admins: systemProperties.props.onlyAdmins,\n          group_id: systemProperties.props.groupId,\n        },\n      }\n    );\n  } else if (isDrawerSystemProperties(systemProperties)) {\n    return Operations.EndpointResourceGetOrCreateDrawerSubscriptionEndpoint.actionCreator(\n      {\n        body: {\n          only_admins: systemProperties.props.onlyAdmins,\n          group_id: systemProperties.props.groupId,\n        },\n      }\n    );\n  }\n\n  assertNever(systemProperties);\n};\n","import produce from 'immer';\nimport { useEffect, useMemo, useState } from 'react';\n\nimport { ExtendedWizardStep } from '../../../components/Notifications/BehaviorGroup/Wizard/ExtendedWizardStep';\nimport { useActionAndRecipientStep } from './Steps/ActionAndRecipientsStep';\nimport {\n  AssociateEventTypesStepProps,\n  useAssociateEventTypesStep,\n} from './Steps/AssociateEventTypesStep';\nimport { useBasicInformationStep } from './Steps/BasicInformationStep';\nimport { createReviewStep } from './Steps/ReviewStep';\n\nexport const useSteps = (\n  associateEventTypeStep: AssociateEventTypesStepProps,\n  currentStep: number,\n  isValid: boolean,\n  isSaving: boolean\n): Array<ExtendedWizardStep> => {\n  const basicInformationStep = useBasicInformationStep();\n  const associateEventTypesStep = useAssociateEventTypesStep(\n    associateEventTypeStep\n  );\n  const actionAndRecipientStep = useActionAndRecipientStep();\n\n  const [maxStep, setMaxStep] = useState<number>(0);\n  const [invalidSteps, setInvalidSteps] = useState<Set<number>>(\n    () => new Set<number>()\n  );\n\n  useEffect(() => {\n    setMaxStep((prev) => Math.max(currentStep, prev));\n  }, [currentStep]);\n\n  useEffect(() => {\n    setInvalidSteps(\n      produce((draft) => {\n        if (isValid) {\n          draft.delete(currentStep);\n        } else {\n          draft.add(currentStep);\n        }\n      })\n    );\n  }, [currentStep, isValid]);\n\n  const lastAvailableStep =\n    invalidSteps.size === 0 ? maxStep : Math.min(...Array.from(invalidSteps));\n\n  return useMemo(() => {\n    return [\n      basicInformationStep,\n      actionAndRecipientStep,\n      associateEventTypesStep,\n      createReviewStep(),\n    ].map((step, index) => ({\n      ...step,\n      id: index,\n      canJumpTo: !isSaving && index <= lastAvailableStep,\n      hideCancelButton: false,\n      enableNext: isValid,\n    }));\n  }, [\n    basicInformationStep,\n    actionAndRecipientStep,\n    isValid,\n    lastAvailableStep,\n    isSaving,\n    associateEventTypesStep,\n  ]);\n};\n","import { useCallback } from 'react';\n\nimport { useRbacGroups } from '../../app/rbac/RbacGroupContext';\nimport { NotificationRbacGroupRecipient } from '../../types/Recipient';\nimport { GetNotificationRecipients } from './RecipientContext';\n\nexport const useGetRecipients = (): GetNotificationRecipients => {\n  const rbacGroups = useRbacGroups();\n  return useCallback(async () => {\n    return rbacGroups.groups.map(\n      (r) => new NotificationRbacGroupRecipient(undefined, r.id, r.name)\n    );\n  }, [rbacGroups]);\n};\n","import {\n  Filter,\n  Operator,\n  Page,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { ClientContext } from 'react-fetching-library';\n\nimport {\n  listIntegrationIntegrationDecoder,\n  listIntegrationsActionCreator,\n} from '../../services/useListIntegrations';\nimport { UserIntegrationType } from '../../types/Integration';\nimport { IntegrationRef } from '../../types/Notification';\nimport { GetIntegrations } from './RecipientContext';\n\nexport const useGetIntegrations = (): GetIntegrations => {\n  const { query } = useContext(ClientContext);\n\n  return React.useCallback(\n    async (type: UserIntegrationType, search?: string) => {\n      return query(\n        listIntegrationsActionCreator(\n          Page.of(\n            1,\n            20,\n            new Filter()\n              .and('type', Operator.EQUAL, [type])\n              .and('name', Operator.EQUAL, search ?? '')\n          )\n        )\n      ).then((response) => {\n        let integrations: ReadonlyArray<IntegrationRef> = [];\n        const payload = response.payload\n          ? listIntegrationIntegrationDecoder(response.payload)\n          : undefined;\n\n        if (payload?.type === 'IntegrationPage') {\n          integrations = payload.value.data;\n        }\n\n        return integrations;\n      });\n    },\n    [query]\n  );\n};\n","import { useCallback } from 'react';\n\nimport { OnDelete } from '../types/Callbacks';\n\nexport const useOnDeleteWrapper = <T>(onDelete: OnDelete<T>, toDelete: T) => {\n  return useCallback(() => {\n    return onDelete(toDelete);\n  }, [onDelete, toDelete]);\n};\n","import {\n  ButtonVariant,\n  Checkbox,\n  ExpandableSection,\n  List,\n  ListItem,\n  Skeleton,\n  Stack,\n  StackItem,\n} from '@patternfly/react-core';\nimport {\n  ActionModalProps,\n  DeleteModal,\n  DeleteModalProps,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { useOnDeleteWrapper } from '../../../hooks/useOnDeleteWrapper';\nimport { OnDelete } from '../../../types/Callbacks';\nimport { BehaviorGroup, Notification } from '../../../types/Notification';\n\ntype UsedProps = 'isOpen' | 'title' | 'content' | 'onDelete';\n\ninterface BehaviorGroupDeleteModalProps\n  extends Omit<DeleteModalProps, UsedProps> {\n  behaviorGroup: BehaviorGroup;\n  onDelete: OnDelete<BehaviorGroup>;\n  conflictingNotifications: Array<Notification>;\n}\n\ntype BehaviorGroupDeleteModalSkeletonProps = Pick<ActionModalProps, 'onClose'>;\n\nexport const BehaviorGroupDeleteModal: React.FunctionComponent<\n  BehaviorGroupDeleteModalProps\n> = (props) => {\n  const onDelete = useOnDeleteWrapper(props.onDelete, props.behaviorGroup);\n\n  const cancelButtonTitle = React.useMemo(\n    () => (props.conflictingNotifications.length === 0 ? 'Cancel' : 'Close'),\n    [props.conflictingNotifications]\n  );\n\n  const cancelButtonVariant = React.useMemo(\n    () =>\n      props.conflictingNotifications.length === 0\n        ? ButtonVariant.link\n        : ButtonVariant.secondary,\n    [props.conflictingNotifications]\n  );\n\n  const [ackDelete, setAckDelete] = React.useState(false);\n\n  const content = React.useMemo(() => {\n    if (props.conflictingNotifications.length === 0) {\n      return (\n        <Stack hasGutter>\n          <StackItem>\n            Action and recipient pairings assigned in{' '}\n            <b>{props.behaviorGroup.displayName}</b> will lost. You will no\n            longer be able to assign this behavior group to events.\n          </StackItem>\n          <StackItem>\n            <Checkbox\n              id=\"checkbox-delete-i-acknowledge\"\n              label=\"I acknowledge that this action cannot be undone\"\n              onChange={(_e, checked) => setAckDelete(checked)}\n              isChecked={ackDelete}\n            />\n          </StackItem>\n        </Stack>\n      );\n    } else {\n      const events = props.conflictingNotifications;\n\n      return (\n        <Stack hasGutter>\n          <StackItem>\n            You will no longer be able to assign{' '}\n            <b>{props.behaviorGroup.displayName}</b> to events, and existing\n            associations to events listed below will be removed.\n          </StackItem>\n          <StackItem>\n            <ExpandableSection\n              toggleText={`View ${events.length} event${\n                events.length === 0 ? '' : 's'\n              }`}\n            >\n              <List>\n                {events.map((event) => (\n                  <ListItem\n                    key={event.id}\n                  >{`${event.applicationDisplayName} - ${event.eventTypeDisplayName}`}</ListItem>\n                ))}\n              </List>\n            </ExpandableSection>\n          </StackItem>\n          <StackItem>\n            <Checkbox\n              id=\"checkbox-delete-i-acknowledge\"\n              label=\"I acknowledge that this action cannot be undone\"\n              onChange={(_e, checked) => setAckDelete(checked)}\n              isChecked={ackDelete}\n            />\n          </StackItem>\n        </Stack>\n      );\n    }\n  }, [\n    props.conflictingNotifications,\n    props.behaviorGroup,\n    ackDelete,\n    setAckDelete,\n  ]);\n\n  return (\n    <DeleteModal\n      variant=\"default\"\n      isOpen={true}\n      isDeleting={props.isDeleting}\n      title=\"Delete behavior group\"\n      content={content}\n      onClose={props.onClose}\n      onDelete={onDelete}\n      error={props.error}\n      titleIconVariant=\"warning\"\n      actionButtonDisabled={!ackDelete}\n      cancelButtonTitle={cancelButtonTitle}\n      cancelButtonVariant={cancelButtonVariant}\n    />\n  );\n};\n\nconst onDelete = () => false;\n\nexport const BehaviorGroupDeleteModalSkeleton: React.FunctionComponent<\n  BehaviorGroupDeleteModalSkeletonProps\n> = (props) => {\n  return (\n    <DeleteModal\n      variant=\"default\"\n      isOpen={true}\n      title=\"Delete behavior group\"\n      actionButtonDisabled={true}\n      titleIconVariant=\"warning\"\n      content={\n        <Stack hasGutter>\n          <StackItem>\n            <Skeleton width=\"500px\" />\n          </StackItem>\n          <StackItem>\n            <Skeleton width=\"500px\" />\n          </StackItem>\n        </Stack>\n      }\n      onClose={props.onClose}\n      isDeleting={false}\n      onDelete={onDelete}\n    />\n  );\n};\n","import { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { UUID } from '../../types/Notification';\n\nconst deleteBehaviorGroupAction = (id: UUID) => {\n  return Operations.NotificationResourceDeleteBehaviorGroup.actionCreator({\n    id,\n  });\n};\n\nexport const useDeleteBehaviorGroupMutation = () =>\n  useMutation(deleteBehaviorGroupAction);\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { toNotifications } from '../../types/adapters/NotificationAdapter';\nimport { UUID } from '../../types/Notification';\n\nconst getAffectedNotificationsByBehaviorGroupAction = (id: UUID) => {\n  return Operations.NotificationResourceGetEventTypesAffectedByRemovalOfBehaviorGroup.actionCreator(\n    {\n      behaviorGroupId: id,\n    }\n  );\n};\n\nconst defaultNotificationsDecoder = validationResponseTransformer(\n  (\n    payload: Operations.NotificationResourceGetEventTypesAffectedByRemovalOfBehaviorGroup.Payload\n  ) => {\n    if (payload.status === 200) {\n      return validatedResponse(\n        'Notifications',\n        200,\n        toNotifications(payload.value),\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useGetAffectedNotificationsByBehaviorGroupQuery = (id: UUID) =>\n  useTransformQueryResponse(\n    useQuery(getAffectedNotificationsByBehaviorGroupAction(id)),\n    defaultNotificationsDecoder\n  );\n","import * as React from 'react';\nimport { useEffect } from 'react';\n\nimport {\n  BehaviorGroupDeleteModal,\n  BehaviorGroupDeleteModalSkeleton,\n} from '../../../components/Notifications/BehaviorGroup/BehaviorGroupDeleteModal';\nimport { useDeleteBehaviorGroupMutation } from '../../../services/Notifications/DeleteBehaviorGroup';\nimport { useGetAffectedNotificationsByBehaviorGroupQuery } from '../../../services/Notifications/GetAffectedNotificationsByBehaviorGroup';\nimport { BehaviorGroup } from '../../../types/Notification';\nimport { useNotification } from '../../../utils/AlertUtils';\n\nexport interface DeleteBehaviorGroupPageProps {\n  behaviorGroup: BehaviorGroup;\n  onClose: (deleted: boolean) => void;\n}\n\nexport const DeleteBehaviorGroupPage: React.FunctionComponent<\n  DeleteBehaviorGroupPageProps\n> = (props) => {\n  const deleteBehaviorGroup = useDeleteBehaviorGroupMutation();\n  const affected = useGetAffectedNotificationsByBehaviorGroupQuery(\n    props.behaviorGroup.id\n  );\n  const { addDangerNotification, addSuccessNotification } = useNotification();\n\n  const onDelete = React.useCallback(\n    async (behaviorGroup: BehaviorGroup) => {\n      const mutate = deleteBehaviorGroup.mutate;\n      const response = await mutate(behaviorGroup.id);\n\n      if (response.payload?.status === 200) {\n        addSuccessNotification(\n          'Behavior group deleted',\n          <>\n            Group <b>{behaviorGroup.displayName}</b> deleted successfully.\n          </>\n        );\n        return true;\n      }\n\n      addDangerNotification(\n        'Behavior group failed to be deleted',\n        <>\n          Failed to delete group <b> {behaviorGroup.displayName}</b>.\n          <br />\n          Please try again.\n        </>\n      );\n\n      return false;\n    },\n    [deleteBehaviorGroup.mutate, addDangerNotification, addSuccessNotification]\n  );\n\n  useEffect(() => {\n    const payload = affected.payload;\n    const onClose = props.onClose;\n    if (payload && payload.status !== 200) {\n      addDangerNotification(\n        'Associated events failed to load ',\n        <>\n          Failed to load associated events for group{' '}\n          <b> {props.behaviorGroup.displayName}</b>.\n          <br />\n          Please try again.\n        </>\n      );\n\n      onClose(false);\n    }\n  }, [\n    addDangerNotification,\n    affected.payload,\n    props.behaviorGroup,\n    props.onClose,\n  ]);\n\n  if (affected.loading) {\n    return <BehaviorGroupDeleteModalSkeleton onClose={props.onClose} />;\n  }\n\n  if (affected.payload?.status !== 200) {\n    return null;\n  }\n\n  return (\n    <BehaviorGroupDeleteModal\n      onDelete={onDelete}\n      isDeleting={deleteBehaviorGroup.loading}\n      onClose={props.onClose}\n      behaviorGroup={props.behaviorGroup}\n      conflictingNotifications={affected.payload.value}\n    />\n  );\n};\n","import {\n  Button,\n  ButtonProps,\n  ButtonVariant,\n  SearchInput,\n  Split,\n  SplitItem,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport * as React from 'react';\n\nimport { useAppContext } from '../../../app/AppContext';\nimport { BehaviorGroupCardList } from '../../../components/Notifications/BehaviorGroup/BehaviorGroupCardList';\nimport { useDeleteModalReducer } from '../../../hooks/useDeleteModalReducer';\nimport { useFormModalReducer } from '../../../hooks/useFormModalReducer';\nimport { CreateBehaviorGroup } from '../../../types/CreateBehaviorGroup';\nimport { BehaviorGroup, Facet } from '../../../types/Notification';\nimport { emptyImmutableArray } from '../../../utils/Immutable';\nimport { BehaviorGroupWizardPage } from '../BehaviorGroupWizard/BehaviorGroupWizardPage';\nimport { DeleteBehaviorGroupPage } from '../Form/DeleteBehaviorGroupPage';\nimport { BehaviorGroupContent } from './useBehaviorGroupContent';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\ninterface BehaviorGroupSectionProps {\n  bundle: Facet;\n  applications: ReadonlyArray<Facet>;\n  behaviorGroupContent: BehaviorGroupContent;\n}\n\ntype BehaviorGroupAddButtonProps = Pick<\n  ButtonProps,\n  'className' | 'onClick' | 'isDisabled' | 'component'\n>;\n\nconst BehaviorGroupAddButton: React.FunctionComponent<\n  BehaviorGroupAddButtonProps\n> = (props) => {\n  const { isDisabled, ...buttonProps } = props;\n  const [isOrgAdmin, setIsOrgAdmin] = React.useState<boolean | undefined>();\n  const { auth } = useChrome();\n\n  React.useEffect(() => {\n    const getUserInfo = () =>\n      auth.getUser().then((user) => {\n        setIsOrgAdmin(user?.identity?.user?.is_org_admin);\n      });\n    getUserInfo();\n  }, []);\n\n  const button = (\n    <Button\n      {...buttonProps}\n      isAriaDisabled={isDisabled}\n      variant={ButtonVariant.primary}\n    >\n      Create new group\n    </Button>\n  );\n\n  if (isDisabled) {\n    const content = isOrgAdmin\n      ? 'You need the Notifications administrator role to perform this action'\n      : 'You do not have permissions to perform this action. Contact your org admin for more information';\n    return <Tooltip content={content}>{button}</Tooltip>;\n  }\n\n  return button;\n};\n\nexport const BehaviorGroupsSection: React.FunctionComponent<\n  BehaviorGroupSectionProps\n> = (props) => {\n  const [filter, setFilter] = React.useState<string>('');\n  const { rbac } = useAppContext();\n\n  const filteredBehaviors = React.useMemo(() => {\n    if (\n      !props.behaviorGroupContent.isLoading &&\n      !props.behaviorGroupContent.hasError\n    ) {\n      const lowerCaseFilter = filter.toLowerCase();\n      return props.behaviorGroupContent.content.filter((bg) =>\n        bg.displayName.toLowerCase().includes(lowerCaseFilter)\n      );\n    }\n\n    return emptyImmutableArray;\n  }, [filter, props.behaviorGroupContent]);\n\n  const [editModalState, editModalActions] =\n    useFormModalReducer<CreateBehaviorGroup>();\n  const [deleteModalState, deleteModalActions] =\n    useDeleteModalReducer<BehaviorGroup>();\n\n  const createGroup = React.useCallback(\n    (event) => {\n      event.stopPropagation();\n      editModalActions.create({\n        events: [],\n        actions: [],\n        displayName: '',\n      });\n    },\n    [editModalActions]\n  );\n\n  const onCloseModal = React.useCallback(\n    (saved: boolean) => {\n      const reload = props.behaviorGroupContent.reload;\n      if (saved) {\n        reload();\n      }\n\n      editModalActions.reset();\n    },\n    [editModalActions, props.behaviorGroupContent.reload]\n  );\n\n  const onEdit = React.useCallback(\n    (behaviorGroup: BehaviorGroup) => {\n      editModalActions.edit({\n        id: behaviorGroup.id,\n        events: behaviorGroup.events,\n        actions: behaviorGroup.actions,\n        displayName: behaviorGroup.displayName,\n      });\n    },\n    [editModalActions]\n  );\n\n  const onDelete = React.useCallback(\n    (behaviorGroup: BehaviorGroup) => {\n      deleteModalActions.delete(behaviorGroup);\n    },\n    [deleteModalActions]\n  );\n\n  const onCloseDelete = React.useCallback(\n    (deleted: boolean) => {\n      const reload = props.behaviorGroupContent.reload;\n      if (deleted) {\n        reload();\n      }\n\n      deleteModalActions.reset();\n    },\n    [deleteModalActions, props.behaviorGroupContent.reload]\n  );\n\n  const onClearFilter = React.useCallback(() => {\n    setFilter('');\n  }, [setFilter]);\n\n  return (\n    <>\n      <div className=\"pf-v5-u-background-color-100 pf-v5-u-pt-lg pf-v5-u-px-lg\">\n        <Split className=\"pf-v5-u-mb-md\" hasGutter>\n          <SplitItem>\n            <TextContent>\n              <Text component={TextVariants.p}>\n                <b>Behavior groups</b> are made up of action/recipient pairings\n                that allow you to configure which notification actions different\n                users will be able to receive. Once you&apos;ve created a\n                behavior group, you can assign it to an event using the Events\n                table below.\n                <br></br>\n                <Text component={TextVariants.p}>\n                  You may also prevent users from changing assigned actions by\n                  locking action/recipient pairings when creating or editing\n                  behavior groups.\n                </Text>\n              </Text>\n            </TextContent>\n          </SplitItem>\n        </Split>\n        <Stack hasGutter>\n          <StackItem>\n            <Split hasGutter className=\"pf-v5-u-mb-md\">\n              <SplitItem>\n                <SearchInput\n                  value={filter}\n                  onChange={(_e, val) => setFilter(val)}\n                  onClear={onClearFilter}\n                  type=\"text\"\n                  aria-label=\"Search by name\"\n                  placeholder=\"Search by name\"\n                  isDisabled={props.behaviorGroupContent.isLoading}\n                />\n              </SplitItem>\n              <SplitItem>\n                <BehaviorGroupAddButton\n                  component=\"a\"\n                  isDisabled={\n                    props.behaviorGroupContent.isLoading ||\n                    !rbac.canWriteNotifications\n                  }\n                  onClick={createGroup}\n                />\n              </SplitItem>\n            </Split>\n          </StackItem>\n        </Stack>\n        <Stack hasGutter>\n          {(props.behaviorGroupContent.isLoading ||\n            props.behaviorGroupContent.hasError ||\n            props.behaviorGroupContent.content.length > 0) && (\n            <>\n              <StackItem>\n                {props.behaviorGroupContent.isLoading ? (\n                  <BehaviorGroupCardList />\n                ) : props.behaviorGroupContent.hasError ? (\n                  <div>Error loading behavior groups</div>\n                ) : (\n                  <BehaviorGroupCardList\n                    onEdit={rbac.canWriteNotifications ? onEdit : undefined}\n                    onDelete={rbac.canWriteNotifications ? onDelete : undefined}\n                    behaviorGroups={filteredBehaviors}\n                  />\n                )}\n              </StackItem>\n            </>\n          )}\n        </Stack>\n      </div>\n      {editModalState.isOpen && (\n        <BehaviorGroupWizardPage\n          bundle={props.bundle}\n          applications={props.applications}\n          behaviorGroup={editModalState.template}\n          onClose={onCloseModal}\n        />\n      )}\n      {deleteModalState.isOpen && (\n        <DeleteBehaviorGroupPage\n          behaviorGroup={deleteModalState.data}\n          onClose={onCloseDelete}\n        />\n      )}\n    </>\n  );\n};\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { toBehaviorGroup } from '../../types/adapters/BehaviorGroupAdapter';\nimport { UUID } from '../../types/Notification';\n\nconst behaviorGroupDecoder = validationResponseTransformer(\n  (\n    payload: Operations.NotificationResourceFindBehaviorGroupsByBundleId.Payload\n  ) => {\n    if (payload.status === 200) {\n      return validatedResponse(\n        'BehaviorGroups',\n        200,\n        payload.value.map(toBehaviorGroup),\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useGetBehaviorGroups = (bundleId: UUID) => {\n  return useTransformQueryResponse(\n    useQuery(\n      Operations.NotificationResourceFindBehaviorGroupsByBundleId.actionCreator(\n        {\n          bundleId,\n        }\n      )\n    ),\n    behaviorGroupDecoder\n  );\n};\n","import { addDangerNotification } from '@redhat-cloud-services/insights-common-typescript';\nimport produce, { castDraft } from 'immer';\nimport * as React from 'react';\nimport { ClientContext } from 'react-fetching-library';\nimport { usePrevious } from 'react-use';\n\nimport { linkBehaviorGroupAction } from '../../../services/Notifications/LinkBehaviorGroup';\nimport {\n  BehaviorGroup,\n  Notification,\n  NotificationBehaviorGroup,\n  UUID,\n} from '../../../types/Notification';\nimport { findById } from '../../../utils/Find';\n\nexport type BehaviorGroupNotificationRow = NotificationBehaviorGroup & {\n  readonly loadingActionStatus: 'loading' | 'done' | 'error';\n  readonly behaviors: ReadonlyArray<BehaviorGroup>;\n} & (\n    | {\n        readonly isEditMode: false;\n      }\n    | {\n        readonly isEditMode: true;\n        readonly oldBehaviors: ReadonlyArray<BehaviorGroup>;\n      }\n  );\n\nclass NotificationNotFound extends Error {}\n\nconst getNotification = <T extends ReadonlyArray<BehaviorGroupNotificationRow>>(\n  rows: T,\n  notificationId: UUID\n): T[number] => {\n  // eslint-disable-next-line testing-library/await-async-queries\n  const notification = rows.find(findById(notificationId));\n  if (!notification) {\n    throw new NotificationNotFound('Notification not found in rows');\n  }\n\n  return notification;\n};\n\nexport const useBehaviorGroupNotificationRows = (\n  notifications: Array<Notification>,\n  behaviorGroups: ReadonlyArray<BehaviorGroup> | undefined\n) => {\n  const [notificationRows, setNotificationRows] = React.useState<\n    Array<BehaviorGroupNotificationRow>\n  >([]);\n  const prevNotificationInput = usePrevious(notifications);\n  const { query } = React.useContext(ClientContext);\n\n  const removeBehaviorGroup = React.useCallback(\n    (notificationId: UUID, behaviorGroupId: UUID) => {\n      setNotificationRows(\n        produce((draft) => {\n          const notification = getNotification(draft, notificationId);\n          const index = notification.behaviors.findIndex(\n            // eslint-disable-next-line testing-library/await-async-queries\n            findById(behaviorGroupId)\n          );\n          if (index === -1) {\n            throw new Error('Behavior group not found in rows');\n          }\n\n          notification.behaviors.splice(index, 1);\n        })\n      );\n    },\n    [setNotificationRows]\n  );\n\n  const updateBehaviorGroups = React.useCallback(\n    (behaviorGroups: ReadonlyArray<BehaviorGroup>) => {\n      setNotificationRows(\n        produce((draft) => {\n          for (const content of draft) {\n            // content.behaviors = castDraft(content.behaviors.map(ob => behaviorGroups.find(nb => nb.id === ob.id) || ob));\n            // Find if there are new behaviors for this type.\n            content.behaviors = [];\n            behaviorGroups.forEach((behaviorGroup) => {\n              if (behaviorGroup.events.find((e) => e.id === content.id)) {\n                content.behaviors.push(castDraft(behaviorGroup));\n              }\n            });\n          }\n        })\n      );\n    },\n    [setNotificationRows]\n  );\n\n  const updateBehaviorGroupLink = React.useCallback(\n    (\n      notificationId: UUID,\n      behaviorGroup: BehaviorGroup,\n      linkBehavior: boolean\n    ) => {\n      if (linkBehavior) {\n        setNotificationRows(\n          produce((draft) => {\n            const notification = getNotification(draft, notificationId);\n            notification.behaviors.push({\n              ...castDraft(behaviorGroup),\n            });\n          })\n        );\n      } else {\n        removeBehaviorGroup(notificationId, behaviorGroup.id);\n      }\n    },\n    [removeBehaviorGroup, setNotificationRows]\n  );\n\n  const setEditMode = React.useCallback(\n    async (notificationId: UUID, command: 'edit' | 'finish' | 'cancel') => {\n      if (command === 'finish') {\n        const notification = getNotification(notificationRows, notificationId);\n        if (notification.isEditMode) {\n          setNotificationRows(\n            produce((draft) => {\n              const draftNotification = getNotification(draft, notificationId);\n              draftNotification.loadingActionStatus = 'loading';\n            })\n          );\n\n          const response = await query(\n            linkBehaviorGroupAction(\n              notificationId,\n              notification.behaviors.map((b) => b.id)\n            )\n          );\n          if (response.payload?.status === 200) {\n            setNotificationRows(\n              produce((draft) => {\n                const draftNotification = getNotification(\n                  draft,\n                  notificationId\n                );\n                draftNotification.isEditMode = false;\n                draftNotification.loadingActionStatus = 'done';\n              })\n            );\n          } else {\n            addDangerNotification(\n              'Saving behavior',\n              <>\n                There was an error saving the behavior of{' '}\n                <b>\n                  {notification.applicationDisplayName} -{' '}\n                  {notification.eventTypeDisplayName}\n                </b>\n                .\n              </>\n            );\n            setNotificationRows(\n              produce((draft) => {\n                const draftNotification = getNotification(\n                  draft,\n                  notificationId\n                );\n                draftNotification.isEditMode = true;\n                draftNotification.loadingActionStatus = 'done';\n              })\n            );\n          }\n        }\n      } else {\n        setNotificationRows(\n          produce((draft) => {\n            const notification = getNotification(draft, notificationId);\n\n            if (notification.isEditMode && command === 'cancel') {\n              notification.behaviors = notification.oldBehaviors;\n            }\n\n            notification.isEditMode = command === 'edit';\n            if (notification.isEditMode) {\n              notification.oldBehaviors = notification.behaviors;\n            }\n          })\n        );\n      }\n    },\n    [setNotificationRows, notificationRows, query]\n  );\n\n  const startEditMode = React.useCallback(\n    (notificationId: UUID) => {\n      setEditMode(notificationId, 'edit');\n    },\n    [setEditMode]\n  );\n\n  const finishEditMode = React.useCallback(\n    (notificationId: UUID) => {\n      setEditMode(notificationId, 'finish');\n    },\n    [setEditMode]\n  );\n\n  const cancelEditMode = React.useCallback(\n    (notificationId: UUID) => {\n      setEditMode(notificationId, 'cancel');\n    },\n    [setEditMode]\n  );\n\n  React.useEffect(() => {\n    if (notifications !== prevNotificationInput) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      setNotificationRows((_prev) =>\n        notifications.map((notification) => ({\n          ...notification,\n          loadingActionStatus: 'done',\n          behaviors: [],\n          isEditMode: false,\n        }))\n      );\n\n      if (behaviorGroups) {\n        updateBehaviorGroups(behaviorGroups);\n      }\n    }\n  }, [\n    behaviorGroups,\n    notifications,\n    prevNotificationInput,\n    setNotificationRows,\n    updateBehaviorGroups,\n  ]);\n\n  return {\n    rows: notificationRows,\n    updateBehaviorGroupLink,\n    updateBehaviorGroups,\n    startEditMode,\n    finishEditMode,\n    cancelEditMode,\n  };\n};\n","import { Tab, TabTitleText, Tabs } from '@patternfly/react-core';\nimport { ExporterType } from '@redhat-cloud-services/insights-common-typescript';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport React, { useCallback, useEffect, useMemo } from 'react';\n\nimport { useAppContext } from '../../../app/AppContext';\nimport { NotificationsBehaviorGroupTable } from '../../../components/Notifications/NotificationsBehaviorGroupTable';\nimport { NotificationsToolbar } from '../../../components/Notifications/Toolbar';\nimport { useListNotifications } from '../../../services/useListNotifications';\nimport {\n  BehaviorGroup,\n  Facet,\n  NotificationBehaviorGroup,\n  UUID,\n} from '../../../types/Notification';\nimport { useEventTypesPage } from '../hooks/useEventTypesPage';\nimport { BehaviorGroupsSection } from './BehaviorGroupsSection';\nimport { useBehaviorGroupContent } from './useBehaviorGroupContent';\nimport { useBehaviorGroupNotificationRows } from './useBehaviorGroupNotificationRows';\n\ninterface BundlePageBehaviorGroupContentProps {\n  applications: Array<Facet>;\n  bundle: Facet;\n}\n\nconst tabMapping = {\n  configuration: 0,\n  behaviorGroups: 1,\n};\n\nconst noEvents = [];\n\nexport const BundlePageBehaviorGroupContent: React.FunctionComponent<\n  React.PropsWithChildren<BundlePageBehaviorGroupContentProps>\n> = (props) => {\n  const behaviorGroupContent = useBehaviorGroupContent(props.bundle.id);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const tab = useMemo(\n    () => new URLSearchParams(location.search).get('tab') ?? 'configuration',\n    [location.search]\n  );\n\n  const { rbac } = useAppContext();\n\n  const onExport = useCallback((type: ExporterType) => {\n    console.log('Export to', type);\n  }, []);\n\n  const eventTypePage = useEventTypesPage(\n    props.bundle,\n    props.applications,\n    true\n  );\n\n  const useNotifications = useListNotifications(\n    eventTypePage.pageController.page\n  );\n\n  const count = useMemo(() => {\n    const payload = useNotifications.payload;\n    if (payload?.status === 200) {\n      return payload.value.meta.count;\n    }\n\n    return 0;\n  }, [useNotifications.payload]);\n\n  const behaviorGroups =\n    !behaviorGroupContent.isLoading && !behaviorGroupContent.hasError\n      ? behaviorGroupContent.content\n      : undefined;\n\n  const {\n    rows: notificationRows,\n    updateBehaviorGroupLink,\n    startEditMode,\n    finishEditMode,\n    cancelEditMode,\n    updateBehaviorGroups,\n  } = useBehaviorGroupNotificationRows(\n    !useNotifications.loading &&\n      useNotifications.payload?.type === 'eventTypesArray'\n      ? useNotifications.payload.value.data\n      : noEvents,\n    behaviorGroups\n  );\n\n  useEffect(() => {\n    if (behaviorGroups) {\n      updateBehaviorGroups(behaviorGroups);\n    }\n  }, [behaviorGroups, updateBehaviorGroups]);\n\n  const onBehaviorGroupLinkUpdated = useCallback(\n    (\n      notification: NotificationBehaviorGroup,\n      behaviorGroup: BehaviorGroup,\n      isLinked: boolean\n    ) => {\n      if (behaviorGroup) {\n        updateBehaviorGroupLink(notification.id, behaviorGroup, isLinked);\n      }\n    },\n    [updateBehaviorGroupLink]\n  );\n\n  const onStartEditing = useCallback(\n    (notificationId: UUID) => {\n      startEditMode(notificationId);\n    },\n    [startEditMode]\n  );\n\n  const onFinishEditing = useCallback(\n    (notificationId: UUID) => {\n      finishEditMode(notificationId);\n    },\n    [finishEditMode]\n  );\n\n  const onCancelEditing = useCallback(\n    (notificationId: UUID) => {\n      cancelEditMode(notificationId);\n    },\n    [cancelEditMode]\n  );\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    if (!searchParams.has('tab')) {\n      searchParams.set('tab', 'configuration');\n      navigate(`${location.pathname}?${searchParams.toString()}`, {\n        replace: true,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search, navigate]);\n\n  return (\n    <Tabs\n      className=\"pf-v5-u-background-color-100 pf-v5-u-pl-lg\"\n      activeKey={tabMapping[tab]}\n      onSelect={(event, tabIndex) => {\n        const newSearchParams = new URLSearchParams(location.search);\n        const selectedTab =\n          Object.keys(tabMapping).find((key) => tabMapping[key] === tabIndex) ??\n          'configuration';\n        newSearchParams.set('tab', selectedTab);\n        navigate(`${location.pathname}?${newSearchParams.toString()}`, {\n          replace: true,\n        });\n      }}\n    >\n      <Tab eventKey={0} title={<TabTitleText>Configuration</TabTitleText>}>\n        <NotificationsToolbar\n          filters={eventTypePage.filters}\n          setFilters={eventTypePage.setFilters}\n          clearFilter={eventTypePage.clearFilters}\n          appFilterOptions={props.applications}\n          onExport={onExport}\n          count={count}\n          pageAdapter={eventTypePage.pageController}\n        >\n          <NotificationsBehaviorGroupTable\n            notifications={notificationRows}\n            behaviorGroupContent={behaviorGroupContent}\n            onBehaviorGroupLinkUpdated={onBehaviorGroupLinkUpdated}\n            onStartEditing={\n              rbac.canWriteNotifications ? onStartEditing : undefined\n            }\n            onFinishEditing={\n              rbac.canWriteNotifications ? onFinishEditing : undefined\n            }\n            onCancelEditing={\n              rbac.canWriteNotifications ? onCancelEditing : undefined\n            }\n            onSort={eventTypePage.onSort}\n            sortBy={eventTypePage.sortBy}\n            sortDirection={eventTypePage.sortDirection}\n          />\n        </NotificationsToolbar>\n      </Tab>\n      <Tab eventKey={1} title={<TabTitleText>Behavior Groups</TabTitleText>}>\n        <div className=\"pf-v5-u-mb-xl\">\n          <BehaviorGroupsSection\n            bundle={props.bundle}\n            applications={props.applications}\n            behaviorGroupContent={behaviorGroupContent}\n          />\n        </div>\n      </Tab>\n    </Tabs>\n  );\n};\n","import produce, { Draft, original } from 'immer';\nimport * as React from 'react';\nimport { useMemo } from 'react';\n\nimport { useRbacGroups } from '../../../app/rbac/RbacGroupContext';\nimport { useGetBehaviorGroups } from '../../../services/Notifications/GetBehaviorGroups';\nimport {\n  ActionNotify,\n  BehaviorGroup,\n  UUID,\n  isActionNotify,\n} from '../../../types/Notification';\nimport { NotificationRbacGroupRecipient } from '../../../types/Recipient';\n\nexport type BehaviorGroupContent =\n  | {\n      isLoading: true;\n      reload: () => void;\n    }\n  | {\n      isLoading: false;\n      hasError: true;\n      error: string;\n      reload: () => void;\n    }\n  | {\n      isLoading: false;\n      hasError: false;\n      content: ReadonlyArray<BehaviorGroup>;\n      reload: () => void;\n    };\n\nexport const useBehaviorGroupContent = (bundleId: UUID) => {\n  const behaviorGroups = useGetBehaviorGroups(bundleId);\n  const { groups, isLoading: isLoadingGroups } = useRbacGroups();\n\n  const result = React.useMemo<BehaviorGroupContent>(() => {\n    const payload = behaviorGroups.payload;\n    const error = behaviorGroups.errorObject;\n    const loading = behaviorGroups.loading;\n    const reload = behaviorGroups.query;\n\n    if (loading) {\n      return {\n        isLoading: true,\n        reload,\n      };\n    }\n\n    if (payload?.status === 200) {\n      return {\n        isLoading: false,\n        hasError: false,\n        content: payload.value,\n        reload,\n      };\n    }\n\n    return {\n      isLoading: false,\n      hasError: true,\n      error: error.toString(),\n      reload,\n    };\n  }, [\n    behaviorGroups.payload,\n    behaviorGroups.loading,\n    behaviorGroups.errorObject,\n    behaviorGroups.query,\n  ]);\n\n  return useMemo(() => {\n    if (!result.isLoading && !result.hasError) {\n      return produce(result, (draft) => {\n        const originalValues = original(draft);\n        if (originalValues) {\n          originalValues.content.forEach((bg, bgIndex) =>\n            bg.actions.forEach((a, aIndex) => {\n              if (isActionNotify(a)) {\n                a.recipient.forEach((recipient, recipientIndex) => {\n                  if (\n                    recipient instanceof NotificationRbacGroupRecipient &&\n                    recipient.isLoading\n                  ) {\n                    const recipients = (\n                      draft.content[bgIndex].actions[\n                        aIndex\n                      ] as Draft<ActionNotify>\n                    ).recipient;\n                    const rbacRecipient = recipients[\n                      recipientIndex\n                    ] as NotificationRbacGroupRecipient;\n                    recipients[recipientIndex] =\n                      new NotificationRbacGroupRecipient(\n                        rbacRecipient.integrationId,\n                        rbacRecipient.groupId,\n                        groups.find((g) => g.id === rbacRecipient.groupId)\n                          ?.name || isLoadingGroups\n                      );\n                  }\n                });\n              }\n            })\n          );\n        }\n      });\n    }\n\n    return result;\n  }, [result, groups, isLoadingGroups]);\n};\n","import {\n  ButtonVariant,\n  Flex,\n  FlexItem,\n  Tab,\n  TabTitleText,\n  Tabs,\n} from '@patternfly/react-core';\nimport { global_spacer_lg } from '@patternfly/react-tokens';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport { default as React, useEffect, useMemo } from 'react';\nimport { style } from 'typestyle';\n\nimport { useAppContext } from '../../../app/AppContext';\nimport { ButtonLink } from '../../../components/ButtonLink';\nimport { TabComponent } from '../../../components/Notifications/TabComponent';\nimport { TimeConfigComponent } from '../../../components/Notifications/TimeConfig';\nimport { PageHeader } from '../../../components/PageHeader';\nimport { Messages } from '../../../properties/Messages';\nimport { linkTo } from '../../../Routes';\nimport { useGetApplicationsLazy } from '../../../services/Notifications/GetApplications';\nimport { Facet } from '../../../types/Notification';\nimport { BundlePageBehaviorGroupContent } from './BundlePageBehaviorGroupContent';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\ninterface NotificationListBundlePageProps {\n  bundle: Facet;\n  bundleTabs: Facet[];\n  applications: Array<Facet>;\n}\n\nconst bundleMapping = {\n  rhel: 0,\n  console: 1,\n  openshift: 2,\n};\n\nexport const NotificationListBundlePage: React.FunctionComponent<\n  React.PropsWithChildren<NotificationListBundlePageProps>\n> = (props) => {\n  const { updateDocumentTitle, isFedramp } = useChrome();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const bundle = useMemo(\n    () => new URLSearchParams(location.search).get('bundle') ?? 'rhel',\n    [location.search]\n  );\n\n  updateDocumentTitle?.(`${props.bundle.displayName} - Notifications`);\n\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n\n  const { rbac } = useAppContext();\n  const eventLogPageUrl = React.useMemo(\n    () => linkTo.eventLog(props.bundle.name),\n    [props.bundle.name]\n  );\n  const getApplications = useGetApplicationsLazy();\n\n  const mainPage = (\n    <Main>\n      <BundlePageBehaviorGroupContent\n        applications={props.applications}\n        bundle={props.bundle}\n      />\n    </Main>\n  );\n\n  const paddingLeftClassName = style({\n    paddingLeft: global_spacer_lg.value,\n  });\n\n  const eventLogButton = () => {\n    return notificationsOverhaul ? null : (\n      <ButtonLink\n        isDisabled={!rbac.canReadEvents}\n        to={eventLogPageUrl}\n        variant={ButtonVariant.secondary}\n      >\n        {Messages.pages.notifications.list.viewHistory}\n      </ButtonLink>\n    );\n  };\n\n  const pageTitle = () => {\n    if (notificationsOverhaul) {\n      return `Configure Events`;\n    } else {\n      return `${Messages.pages.notifications.list.title} | ${props.bundle.displayName}`;\n    }\n  };\n\n  const timeConfigPage = (\n    <Main>\n      <TimeConfigComponent />\n    </Main>\n  );\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    if (!searchParams.has('bundle')) {\n      searchParams.set('bundle', 'rhel');\n      navigate(`${location.pathname}?${searchParams.toString()}`, {\n        replace: true,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search, navigate]);\n\n  useEffect(() => {\n    if (notificationsOverhaul) {\n      const query = getApplications.query;\n      query(props.bundleTabs[bundleMapping[bundle]].name);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bundle]);\n\n  const getInitialApplications = useMemo(() => {\n    if (getApplications.payload) {\n      return getApplications.payload.value as Facet[];\n    } else {\n      return [];\n    }\n  }, [getApplications.payload]);\n\n  if (notificationsOverhaul) {\n    return (\n      <>\n        <PageHeader\n          title={pageTitle()}\n          subtitle={\n            <span>\n              Configure which event notifications different users within your\n              organization are entitled to receive.\n            </span>\n          }\n          action={eventLogButton()}\n        />\n        <Flex direction={{ default: 'column' }}>\n          <FlexItem>\n            <Tabs\n              activeKey={bundleMapping[bundle]}\n              onSelect={(event, tabIndex) => {\n                const newSearchParams = new URLSearchParams(location.search);\n                const selectedBundle = Object.keys(bundleMapping).find(\n                  (key) => bundleMapping[key] === tabIndex\n                );\n                newSearchParams.set('bundle', selectedBundle ?? 'rhel');\n                navigate(`${location.pathname}?${newSearchParams.toString()}`, {\n                  replace: true,\n                });\n              }}\n              className={paddingLeftClassName}\n            >\n              {isFedramp ? null : (\n                <Tab\n                  eventKey={2}\n                  title={<TabTitleText>OpenShift</TabTitleText>}\n                >\n                  <Main>\n                    <BundlePageBehaviorGroupContent\n                      applications={getInitialApplications}\n                      bundle={props.bundleTabs[2]}\n                    />\n                  </Main>\n                </Tab>\n              )}\n              <Tab\n                eventKey={0}\n                title={<TabTitleText>Red Hat Enterprise Linux</TabTitleText>}\n              >\n                <Main>\n                  <BundlePageBehaviorGroupContent\n                    applications={getInitialApplications}\n                    bundle={props.bundleTabs[0]}\n                  />\n                </Main>\n              </Tab>\n              <Tab eventKey={1} title={<TabTitleText>Console</TabTitleText>}>\n                <Main>\n                  <BundlePageBehaviorGroupContent\n                    applications={getInitialApplications}\n                    bundle={props.bundleTabs[1]}\n                  />\n                </Main>\n              </Tab>\n            </Tabs>\n          </FlexItem>\n        </Flex>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <PageHeader\n          title={`${Messages.pages.notifications.list.title} | ${props.bundle.displayName}`}\n          subtitle={\n            <span>\n              Configure which event notifications different users within your\n              organization are entitled to receive.\n            </span>\n          }\n          action={eventLogButton()}\n        />\n\n        <TabComponent configuration={props.children} settings={props.children}>\n          <Tab eventKey={0} title={<TabTitleText>Configuration</TabTitleText>}>\n            {mainPage}\n          </Tab>\n          <Tab eventKey={1} title={<TabTitleText>Settings</TabTitleText>}>\n            {timeConfigPage}\n          </Tab>\n        </TabComponent>\n      </>\n    );\n  }\n};\n","import { useFlag } from '@unleash/proxy-client-react';\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nimport { AppSkeleton } from '../../../app/AppSkeleton';\nimport { useGetApplicationsLazy } from '../../../services/Notifications/GetApplications';\nimport { useGetBundles } from '../../../services/Notifications/GetBundles';\nimport { Facet } from '../../../types/Notification';\nimport { NotificationListBundlePage } from './BundlePage';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nenum BundleStatus {\n  LOADING,\n  NOT_FOUND,\n  FAILED_TO_LOAD,\n}\n\nconst isBundleStatus = (bundle: Facet | BundleStatus): bundle is BundleStatus =>\n  typeof bundle === 'number';\n\nexport const NotificationsListPage: React.FunctionComponent = () => {\n  const navigate = useNavigate();\n  const { isFedramp } = useChrome();\n  const params = useParams<Record<string, string | undefined>>();\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n  const bundleList = ['rhel', 'console'];\n\n  if (!isFedramp) {\n    bundleList.push('openshift');\n  }\n\n  const bundleName = useMemo(\n    () => (notificationsOverhaul ? 'rhel' : params.bundleName),\n    [notificationsOverhaul, params.bundleName]\n  );\n\n  const getBundles = useGetBundles();\n  const getApplications = useGetApplicationsLazy();\n\n  const bundle: Facet | BundleStatus = useMemo(() => {\n    if (getBundles.payload?.status === 200) {\n      return (\n        getBundles.payload.value.find((b) => b.name === bundleName) ??\n        BundleStatus.NOT_FOUND\n      );\n    } else if (getBundles.payload) {\n      return BundleStatus.FAILED_TO_LOAD;\n    }\n\n    return BundleStatus.LOADING;\n  }, [getBundles.payload, bundleName]);\n\n  const bundleTabs: Facet[] | BundleStatus = [];\n\n  const getbundleTabs = () => {\n    if (getBundles.payload?.status === 200) {\n      bundleList.forEach((bundle) => {\n        if (getBundles.payload?.value) {\n          bundleTabs.push(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (getBundles.payload.value as any).find((b) => b.name === bundle) ??\n              BundleStatus.NOT_FOUND\n          );\n        }\n      });\n    } else if (getBundles.payload) {\n      throw new Error('Unable to load bundle information');\n    } else {\n      return <AppSkeleton />;\n    }\n  };\n\n  if (notificationsOverhaul) {\n    getbundleTabs();\n  }\n\n  React.useEffect(() => {\n    const query = getApplications.query;\n    if (!isBundleStatus(bundle)) {\n      query(bundle.name);\n    }\n  }, [bundle, getApplications.query]);\n\n  const applications: Array<Facet> | null | undefined = useMemo(() => {\n    if (getApplications.payload) {\n      return getApplications.payload.status === 200\n        ? getApplications.payload.value\n        : null;\n    }\n\n    return undefined;\n  }, [getApplications.payload]);\n\n  if (bundle === BundleStatus.NOT_FOUND) {\n    if (bundleName === '/rhel') {\n      throw new Error('Default bundle information not found');\n    }\n\n    navigate('/notifications/rhel');\n    return <React.Fragment />;\n  }\n\n  if (bundle === BundleStatus.FAILED_TO_LOAD) {\n    throw new Error('Unable to load bundle information');\n  }\n\n  if (applications === null) {\n    throw new Error('Unable to load application facets');\n  }\n\n  if (bundle === BundleStatus.LOADING || !applications) {\n    return <AppSkeleton />;\n  }\n\n  return (\n    <NotificationListBundlePage\n      bundleTabs={bundleTabs}\n      bundle={bundle}\n      applications={applications}\n    />\n  );\n};\n","import {\n  DatePicker,\n  DatePickerRef,\n  Split,\n  SplitItem,\n  TextInputProps,\n} from '@patternfly/react-core';\nimport {\n  Select,\n  SelectOption,\n  SelectOptionObject,\n  SelectVariant,\n} from '@patternfly/react-core/deprecated';\nimport { important } from 'csx';\nimport { add, format, isAfter, isBefore, min, parseISO } from 'date-fns';\nimport produce from 'immer';\nimport React, { useMemo, useState } from 'react';\nimport { Dispatch, useRef } from 'react';\nimport { SetStateAction } from 'react';\nimport { style } from 'typestyle';\n\nimport { EventPeriod } from '../../../types/Event';\n\nexport enum NotificationsLogDateFilterValue {\n  TODAY = 'today',\n  YESTERDAY = 'yesterday',\n  LAST_7 = 'last_7',\n  LAST_14 = 'last_14',\n  CUSTOM = 'custom',\n}\n\nconst labels: Record<NotificationsLogDateFilterValue, string> = {\n  [NotificationsLogDateFilterValue.TODAY]: 'Today',\n  [NotificationsLogDateFilterValue.YESTERDAY]: 'Yesterday',\n  [NotificationsLogDateFilterValue.LAST_7]: 'Last 7 days',\n  [NotificationsLogDateFilterValue.LAST_14]: 'Last 14 days',\n  [NotificationsLogDateFilterValue.CUSTOM]: 'Custom',\n};\n\nconst datePickerClassName = style({\n  backgroundColor: important('var(-pf-v5-global--BackgroundColor--100)'),\n  cursor: 'pointer',\n  $nest: {\n    '&::placeholder': {\n      color: important('var(--pf-v5-global--palette--black-1000)'),\n    },\n    '&:hover': {\n      borderBottomColor: 'var(--pf-v5-global--active-color--100)',\n    },\n  },\n});\n\nclass EventLogSelectObject implements SelectOptionObject {\n  readonly value: NotificationsLogDateFilterValue;\n\n  constructor(value: NotificationsLogDateFilterValue) {\n    this.value = value;\n  }\n\n  toString(): string {\n    return labels[this.value];\n  }\n  compareTo(selectOption: unknown): boolean {\n    if (selectOption instanceof EventLogSelectObject) {\n      return selectOption.value === this.value;\n    }\n\n    return false;\n  }\n}\n\nconst dateInputProps: TextInputProps = {\n  readOnly: true,\n  className: datePickerClassName,\n};\n\ninterface CustomDateFilterProps {\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n}\n\nconst startRangeValidators = (minDate, maxDate, period) => [\n  (date) => {\n    if (isBefore(date, minDate)) {\n      return 'Date is before the retention policy';\n    } else if (isAfter(date, maxDate)) {\n      return 'Date is after today';\n    } else if (period[1] && isAfter(date, period[1])) {\n      return 'Start date must be before end date';\n    }\n\n    return '';\n  },\n];\n\nconst endRangeValidators = (minDate, maxDate, period) => [\n  (date) => {\n    if (isBefore(date, minDate)) {\n      return 'Date is before the retention policy';\n    } else if (isAfter(date, maxDate)) {\n      return 'Date is after today';\n    } else if (period[0] && isBefore(date, period[0])) {\n      return 'End date must be after start date';\n    }\n\n    return '';\n  },\n];\n\nconst CustomDateFilter: React.FunctionComponent<CustomDateFilterProps> = ({\n  period,\n  setPeriod,\n}) => {\n  const maxDate = useMemo(() => new Date(), []);\n  const minDate = useMemo(\n    () =>\n      add(maxDate, {\n        days: -14,\n      }),\n    [maxDate]\n  );\n\n  const formatPeriod = (period: Date | undefined) =>\n    period ? format(period, 'yyyy-MM-dd') : undefined;\n\n  const startValue: string | undefined = formatPeriod(period[0]);\n  const endValue: string | undefined = formatPeriod(period[1]);\n\n  const startDateRef = useRef<DatePickerRef>(null);\n  const endDateRef = useRef<DatePickerRef>(null);\n\n  return (\n    <Split>\n      <SplitItem>\n        <DatePicker\n          placeholder=\"Start\"\n          inputProps={{\n            ...dateInputProps,\n            onClick: () => startDateRef.current?.setCalendarOpen(true),\n          }}\n          validators={startRangeValidators(minDate, maxDate, period)}\n          onChange={(_e, start: string) => {\n            const startDate = parseISO(start);\n            setPeriod(\n              produce((draft) => {\n                draft[0] = startDate;\n                if (!draft[1]) {\n                  draft[1] = min([add(startDate, { days: 1 }), maxDate]);\n                }\n              })\n            );\n          }}\n          value={startValue}\n          ref={startDateRef}\n        />\n      </SplitItem>\n      <SplitItem className=\"pf-v5-u-align-self-center pf-v5-u-px-sm pf-v5-u-color-300\">\n        to\n      </SplitItem>\n      <SplitItem>\n        <DatePicker\n          placeholder=\"End\"\n          inputProps={{\n            ...dateInputProps,\n            onClick: () => endDateRef.current?.setCalendarOpen(true),\n          }}\n          validators={endRangeValidators(minDate, maxDate, period)}\n          onChange={(_e, end: string) => {\n            setPeriod(\n              produce((draft) => {\n                draft[1] = parseISO(end);\n              })\n            );\n          }}\n          value={endValue}\n          ref={endDateRef}\n        />\n      </SplitItem>\n    </Split>\n  );\n};\n\nexport interface NotificationsLogDateFilterProps {\n  value: NotificationsLogDateFilterValue;\n  setValue: (value: NotificationsLogDateFilterValue) => void;\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n}\n\nexport const NotificationsLogDateFilter: React.FunctionComponent<\n  NotificationsLogDateFilterProps\n> = ({ value, setValue, period, setPeriod, retentionDays }) => {\n  const [isOpen, setOpen] = useState(false);\n  const val = useMemo(() => new EventLogSelectObject(value), [value]);\n\n  return (\n    <Split>\n      <SplitItem>\n        <Select\n          isOpen={isOpen}\n          variant={SelectVariant.single}\n          onToggle={() => setOpen((prev) => !prev)}\n          selections={val}\n          onSelect={(\n            _e: unknown,\n            selectObject: SelectOptionObject | string\n          ) => {\n            if (selectObject instanceof EventLogSelectObject) {\n              setValue(selectObject.value);\n              setOpen(false);\n            }\n          }}\n        >\n          {Object.values(NotificationsLogDateFilterValue).map((v) => (\n            <SelectOption key={v} value={new EventLogSelectObject(v)} />\n          ))}\n        </Select>\n      </SplitItem>\n      {value === NotificationsLogDateFilterValue.CUSTOM && (\n        <SplitItem>\n          <CustomDateFilter\n            period={period}\n            setPeriod={setPeriod}\n            retentionDays={retentionDays}\n          />\n        </SplitItem>\n      )}\n    </Split>\n  );\n};\n","import {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateFooter,\n  EmptyStateHeader,\n  EmptyStateIcon,\n  EmptyStateVariant,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport React from 'react';\n\nconst NotificationsLogEmptyState = () => {\n  return (\n    <Bullseye>\n      <EmptyState variant={EmptyStateVariant.sm}>\n        <EmptyStateHeader\n          titleText=\"No results found\"\n          icon={<EmptyStateIcon icon={SearchIcon} />}\n          headingLevel=\"h2\"\n        />\n        <EmptyStateBody>Clear all filters and try again.</EmptyStateBody>\n        <EmptyStateFooter>\n          <Button variant=\"link\">Clear all filters</Button>\n        </EmptyStateFooter>\n      </EmptyState>\n    </Bullseye>\n  );\n};\n\nexport default NotificationsLogEmptyState;\n","import { Pagination } from '@patternfly/react-core';\nimport {\n  Table as TableComposable,\n  Tbody,\n  Td,\n  Th,\n  ThProps,\n  Thead,\n  Tr,\n} from '@patternfly/react-table/dist/dynamic/components/Table';\nimport React from 'react';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\n\nimport NotificationsLogEmptyState from './NotificationsLogEmptyState';\n\nexport type DirectionType = 'asc' | 'desc';\n\nexport type OnSort = (index: number, direction: DirectionType) => void;\n\nexport type SortType = {\n  columnIndex: number;\n  direction: DirectionType;\n};\n\nexport type PaginationType = {\n  limit: number;\n  offset: number;\n  count: number;\n};\n\nexport type OnPagination = (pagnation: Omit<PaginationType, 'count'>) => void;\n\nexport type DrawerType = {\n  id: string;\n  description: string;\n  title: string;\n  created: string;\n  read: boolean;\n  source: string;\n}[];\n\nconst NotificationsLogTable = ({\n  isEmptyState,\n  onSort,\n  sort,\n  drawer,\n  onPagination,\n  pagination,\n}: {\n  isEmptyState: boolean;\n  onSort: OnSort;\n  sort: SortType;\n  drawer: DrawerType;\n  onPagination: OnPagination;\n  pagination: PaginationType;\n}) => {\n  const getSortParams = (columnIndex: number): ThProps['sort'] => ({\n    sortBy: {\n      index: sort.columnIndex,\n      direction: sort.direction,\n      defaultDirection: 'asc',\n    },\n    onSort: (_event, index, direction) => {\n      onSort(index, direction);\n    },\n    columnIndex,\n  });\n\n  return (\n    <React.Fragment>\n      <TableComposable>\n        <Thead>\n          <Tr>\n            <Th sort={getSortParams(0)}>Event type</Th>\n            <Th>Service</Th>\n            <Th sort={getSortParams(2)}>Timestamp</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {isEmptyState ? (\n            <Tr>\n              <Td colSpan={8}>\n                <NotificationsLogEmptyState />\n              </Td>\n            </Tr>\n          ) : (\n            <React.Fragment>\n              {drawer.map((data) => (\n                <Tr key={data.id}>\n                  <Td>{data.title}</Td>\n                  <Td>{data.source}</Td>\n                  <Td>\n                    <DateFormat date={data.created} />\n                  </Td>\n                </Tr>\n              ))}\n            </React.Fragment>\n          )}\n        </Tbody>\n      </TableComposable>\n      <Pagination\n        itemCount={pagination.count}\n        perPage={pagination.limit}\n        page={pagination.offset / pagination.limit + 1}\n        onSetPage={(_ev, newPage, perPage) => {\n          onPagination({\n            limit: perPage ?? pagination.limit,\n            offset: (newPage - 1) * (perPage ?? pagination.limit),\n          });\n        }}\n        widgetId=\"pagination-id\"\n        onPerPageSelect={(_ev, perPage) => {\n          onPagination({\n            limit: perPage ?? pagination.limit,\n            offset: 0,\n          });\n        }}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default NotificationsLogTable;\n","import {\n  Divider,\n  Icon,\n  MenuToggle,\n  Toolbar,\n  ToolbarContent,\n  ToolbarItem,\n} from '@patternfly/react-core';\nimport { Pagination } from '@patternfly/react-core';\nimport { FilterIcon } from '@patternfly/react-icons';\nimport React, { Dispatch, SetStateAction } from 'react';\n\nimport { EventPeriod } from '../../../types/Event';\nimport {\n  NotificationsLogDateFilter,\n  NotificationsLogDateFilterValue,\n} from './NotificationsLogDateFilter';\n\nconst NotificationsLogToolbar: React.FC<{\n  retentionDays: number;\n  period: EventPeriod;\n  setPeriod: Dispatch<SetStateAction<EventPeriod>>;\n  onPagination: (pagination: { limit: number; offset: number }) => void;\n  pagination: { limit: number; offset: number; count: number };\n  dateFilter: NotificationsLogDateFilterValue;\n  setDateFilter: (value: NotificationsLogDateFilterValue) => void;\n}> = ({ onPagination, pagination, ...props }) => {\n  return (\n    <React.Fragment>\n      <Toolbar>\n        <ToolbarContent>\n          <ToolbarItem>\n            <MenuToggle\n              icon={\n                <Icon>\n                  <FilterIcon />\n                </Icon>\n              }\n            >\n              Event\n            </MenuToggle>\n          </ToolbarItem>\n        </ToolbarContent>\n      </Toolbar>\n      <Divider />\n      <Toolbar>\n        <ToolbarContent>\n          <ToolbarItem>\n            <NotificationsLogDateFilter\n              value={props.dateFilter}\n              setValue={props.setDateFilter}\n              retentionDays={props.retentionDays}\n              setPeriod={props.setPeriod}\n              period={props.period}\n            />\n          </ToolbarItem>\n          <ToolbarItem className=\"pf-u-ml-auto\">\n            <Pagination\n              itemCount={pagination.count}\n              perPage={pagination.limit}\n              page={pagination.offset / pagination.limit + 1}\n              onSetPage={(_ev, newPage, perPage) => {\n                onPagination({\n                  limit: perPage ?? pagination.limit,\n                  offset: (newPage - 1) * (perPage ?? pagination.limit),\n                });\n              }}\n              widgetId=\"pagination-id\"\n              onPerPageSelect={(_ev, perPage) => {\n                onPagination({\n                  limit: perPage ?? pagination.limit,\n                  offset: 0,\n                });\n              }}\n              isCompact\n            />\n          </ToolbarItem>\n        </ToolbarContent>\n      </Toolbar>\n    </React.Fragment>\n  );\n};\n\nexport default NotificationsLogToolbar;\n","import { Card } from '@patternfly/react-core';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  Filter,\n  Operator,\n  toUtc,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { format, sub, toDate } from 'date-fns';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { NotificationsLogDateFilterValue } from '../../../components/Notifications/NotificationsLog/NotificationsLogDateFilter';\nimport NotificationsLogTable, {\n  DrawerType,\n  PaginationType,\n} from '../../../components/Notifications/NotificationsLog/NotificationsLogTable';\nimport NotificationsLogToolbar from '../../../components/Notifications/NotificationsLog/NotificationsLogToolbar';\nimport { PageHeader } from '../../../components/PageHeader';\nimport { Messages } from '../../../properties/Messages';\n\nexport type NotificationsPeriod = [Date | undefined, Date | undefined];\n\nconst sortMapper = {\n  0: 'title',\n  2: 'created',\n};\n\nconst RETENTION_DAYS = 14;\n\nconst filterPeriodMapper = (dateFilter) => {\n  const today = toUtc(new Date());\n  const yesterday = sub(toDate(today), {\n    days: 1,\n  });\n  return {\n    [NotificationsLogDateFilterValue.LAST_14]: [\n      sub(toDate(today), {\n        days: 14,\n      }),\n      today,\n    ],\n    [NotificationsLogDateFilterValue.LAST_7]: [\n      sub(toDate(today), {\n        days: 7,\n      }),\n      today,\n    ],\n    [NotificationsLogDateFilterValue.TODAY]: [today, today],\n    [NotificationsLogDateFilterValue.YESTERDAY]: [yesterday, yesterday],\n  }[dateFilter];\n};\n\nconst createFilter = (dateFilter, period) => {\n  const filterPeriod = [undefined, undefined] as [\n    Date | undefined,\n    Date | undefined\n  ];\n  const DATE_FORMAT = 'yyyy-MM-dd';\n  const filter = new Filter();\n\n  filterPeriodMapper(dateFilter) || period;\n\n  if (filterPeriod[0] && filterPeriod[1]) {\n    filter.and('start', Operator.EQUAL, format(filterPeriod[0], DATE_FORMAT));\n    filter.and('end', Operator.EQUAL, format(filterPeriod[1], DATE_FORMAT));\n  }\n\n  return {\n    startDate: filterPeriod[0]\n      ? format(filterPeriod[0], DATE_FORMAT)\n      : undefined,\n    endDate: filterPeriod[1] ? format(filterPeriod[1], DATE_FORMAT) : undefined,\n  };\n};\n\nexport const NotificationsLogPage: React.FunctionComponent = () => {\n  const [data, setData] = useState<DrawerType>([]);\n  const [period, setPeriod] = useState<NotificationsPeriod>([\n    undefined,\n    undefined,\n  ]);\n  const [dateFilter, setDateFilter] = useState<NotificationsLogDateFilterValue>(\n    NotificationsLogDateFilterValue.LAST_14\n  );\n  const [pagination, setPagination] = useState<PaginationType>({\n    offset: 0,\n    limit: 20,\n    count: 0,\n  });\n  const [sort, setSort] = useState<{\n    columnIndex: number;\n    direction: 'asc' | 'desc';\n  }>({\n    columnIndex: 2,\n    direction: 'desc',\n  });\n\n  const filterBuilder = useMemo(\n    () => createFilter(dateFilter, period),\n    [dateFilter, period[0]?.toString(), period[1]?.toString()]\n  );\n\n  //TODO: use new JS client instead of directly calling fetch\n  const callApi = useCallback((pagination, sort, filterBuilder) => {\n    const search = new URLSearchParams({\n      offset: `${pagination.offset}`,\n      limit: `${pagination.limit}`,\n      sort_by: `${sortMapper[sort.columnIndex]}:${sort.direction}`,\n    });\n\n    if (filterBuilder.startDate) {\n      search.append('startDate', filterBuilder.startDate + 'T00:00:00');\n    }\n\n    if (filterBuilder.endDate) {\n      search.append('endDate', filterBuilder.endDate + 'T23:59:59');\n    }\n\n    fetch(`/api/notifications/v1/notifications/drawer?${search.toString()}`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n\n        return response.json();\n      })\n      .then((response) => {\n        setData(response.data);\n        setPagination((prevState) => ({\n          ...prevState,\n          count: response.meta.count,\n        }));\n      })\n      .catch((error) => {\n        console.error('Error while fetching data: ', error);\n      });\n  }, []);\n\n  useEffect(() => {\n    callApi(pagination, sort, filterBuilder);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dateFilter, period[0]?.toString(), period[1]?.toString()]);\n\n  return (\n    <React.Fragment>\n      <PageHeader\n        title={Messages.pages.notifications.notificationsLog.title}\n        subtitle={Messages.pages.notifications.notificationsLog.subtitle}\n      />\n      <Main>\n        <Card>\n          <NotificationsLogToolbar\n            pagination={pagination}\n            onPagination={({ limit, offset }) => {\n              setPagination((prevState) => ({ ...prevState, offset, limit }));\n              callApi({ limit, offset }, sort, filterBuilder);\n            }}\n            dateFilter={dateFilter}\n            setDateFilter={setDateFilter}\n            retentionDays={RETENTION_DAYS}\n            period={period}\n            setPeriod={setPeriod}\n          />\n          <NotificationsLogTable\n            isEmptyState={data.length === 0}\n            sort={sort}\n            onSort={(index, direction) => {\n              setSort({\n                columnIndex: index,\n                direction,\n              });\n              callApi(\n                pagination,\n                {\n                  columnIndex: index,\n                  direction,\n                },\n                filterBuilder\n              );\n            }}\n            drawer={data}\n            pagination={pagination}\n            onPagination={({ limit, offset }) => {\n              setPagination((prevState) => ({ ...prevState, offset, limit }));\n              callApi({ limit, offset }, sort, filterBuilder);\n            }}\n          />\n        </Card>\n      </Main>\n    </React.Fragment>\n  );\n};\n","import {\n  Button,\n  DataListAction,\n  DataListCell,\n  DataListContent,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  DataListToggle,\n  Divider,\n  Flex,\n  FlexItem,\n  Icon,\n  Title,\n} from '@patternfly/react-core';\nimport {\n  BellIcon,\n  IntegrationIcon,\n  RunningIcon,\n  UserIcon,\n  UsersIcon,\n} from '@patternfly/react-icons';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nexport enum IconName {\n  USER = 'user',\n  RUNNING = 'running',\n  INTEGRATION = 'integration',\n  USERS = 'users',\n  BELL = 'bell',\n}\n\ninterface CustomDataListItemProps {\n  icon: IconName;\n  heading: string;\n  linkTitle?: string;\n  linkTarget?: string;\n  expandableContent: React.ReactNode;\n  isRedirect?: boolean;\n  isExpanded?: boolean;\n}\n\nconst CustomDataListItem: React.FC<CustomDataListItemProps> = ({\n  icon,\n  heading,\n  linkTitle,\n  linkTarget,\n  expandableContent,\n  isRedirect,\n  isExpanded,\n}) => {\n  const navigate = useNavigate();\n  let iconElement: React.ReactNode = null;\n  const [expanded, setExpanded] = React.useState(isExpanded || false);\n\n  switch (icon) {\n    case IconName.USER:\n      iconElement = <UserIcon className=\"pf-u-primary-color-100\" />;\n      break;\n    case IconName.RUNNING:\n      iconElement = <RunningIcon className=\"pf-u-primary-color-100\" />;\n      break;\n    case IconName.INTEGRATION:\n      iconElement = <IntegrationIcon className=\"pf-u-primary-color-100\" />;\n      break;\n    case IconName.USERS:\n      iconElement = <UsersIcon className=\"pf-u-primary-color-100\" />;\n      break;\n    case IconName.BELL:\n      iconElement = <BellIcon className=\"pf-u-primary-color-100\" />;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <React.Fragment>\n      <DataListItem aria-labelledby=\"item1\" isExpanded={expanded}>\n        <DataListItemRow className=\"pf-u-align-items-center\">\n          <DataListToggle\n            isExpanded={expanded}\n            id=\"toggle1\"\n            aria-controls=\"expand1\"\n            onClick={() => setExpanded(!expanded)}\n          />\n          <DataListItemCells\n            dataListCells={[\n              <DataListCell key={'cell-' + icon.toString().toLowerCase()}>\n                <div>\n                  <Flex className=\"pf-u-flex-nowrap\">\n                    <FlexItem className=\"pf-u-align-self-center\">\n                      <Icon size=\"lg\">{iconElement}</Icon>\n                    </FlexItem>\n                    <Divider\n                      orientation={{\n                        default: 'vertical',\n                      }}\n                    />\n                    <FlexItem className=\"pf-u-align-self-center\">\n                      <Title headingLevel=\"h4\">{heading}</Title>\n                    </FlexItem>\n                  </Flex>\n                </div>\n              </DataListCell>,\n            ]}\n          />\n          {linkTitle && linkTarget && (\n            <DataListAction\n              aria-labelledby=\"item1 action1\"\n              id=\"action1\"\n              aria-label=\"Actions\"\n              isPlainButtonAction\n            >\n              <Button\n                component=\"a\"\n                href={linkTarget}\n                variant=\"link\"\n                onClick={(e) => {\n                  if (!isRedirect) {\n                    e.preventDefault();\n                    navigate(linkTarget.replace('/preview', ''));\n                  }\n                }}\n              >\n                {linkTitle}\n              </Button>\n            </DataListAction>\n          )}\n        </DataListItemRow>\n        <DataListContent\n          aria-label={heading + ' - Detailed Explanation'}\n          id=\"expand1\"\n          isHidden={!expanded}\n        >\n          <p>{expandableContent}</p>\n        </DataListContent>\n      </DataListItem>\n    </React.Fragment>\n  );\n};\n\nexport default CustomDataListItem;\n","import {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  DataList,\n  Divider,\n  Flex,\n  FlexItem,\n  Grid,\n  GridItem,\n  Icon,\n  Label,\n  Title,\n} from '@patternfly/react-core';\nimport {\n  ArrowRightIcon,\n  ExternalLinkAltIcon,\n  RunningIcon,\n  UserIcon,\n} from '@patternfly/react-icons';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader/PageHeader';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport notificationsProductIcon from '../../../assets/icons/notifications-product-icon.svg';\nimport CustomDataListItem, { IconName } from './CustomDataListItem';\nimport { Table, Tbody, Td, Tr } from '@patternfly/react-table';\n\n// eslint-disable-next-line max-len\nconst LEARN_MORE =\n  'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/1-latest/html-single/configuring_notifications_on_the_red_hat_hybrid_cloud_console/index';\n// eslint-disable-next-line max-len\nconst CONFIGURE_INTEGRATIONS =\n  'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/1-latest/html-single/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/index#doc-wrapper';\n// eslint-disable-next-line max-len\nconst CONFIGURE_SOURCES =\n  'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/configuring_sources_for_red_hat_services/index';\n\nexport const NotificationsOverviewPage: React.FunctionComponent = () => {\n  const navigate = useNavigate();\n  const isSourcesIntegrations = useFlag('platform.sources.integrations');\n  const [isOrgAdmin, setIsOrgAdmin] = React.useState(null);\n  const { auth, isBeta, getBundle } = useChrome();\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n  React.useEffect(() => {\n    const getUser = async () => {\n      const {\n        identity: { user },\n      }: // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      any = await auth.getUser();\n      setIsOrgAdmin(user.is_org_admin);\n    };\n\n    if (auth) {\n      getUser();\n    }\n  }, [auth]);\n\n  return (\n    <React.Fragment>\n      <PageHeader>\n        <Flex className=\"pf-u-flex-nowrap\">\n          <FlexItem>\n            <img src={notificationsProductIcon} />\n          </FlexItem>\n          <Divider\n            orientation={{\n              default: 'vertical',\n            }}\n          />\n          <FlexItem className=\"pf-u-align-self-flex-start\">\n            <PageHeaderTitle title=\"Notifications\" className=\"pf-u-mb-sm\" />\n            <p className=\"pf-u-mb-sm\">\n              Receive notifications about events that occur in your console\n              services. You can choose to receive notifications by email, in\n              third-party applications, or from a combination of these methods.\n            </p>\n          </FlexItem>\n        </Flex>\n      </PageHeader>\n      <Main>\n        {isOrgAdmin ? (\n          <React.Fragment>\n            <Card className=\"pf-u-mb-lg\">\n              <Grid hasGutter>\n                <GridItem sm={12} md={6} lg={8}>\n                  <CardTitle>\n                    <Title headingLevel=\"h2\">\n                      Manage events for your organization\n                    </Title>\n                  </CardTitle>\n                  <CardBody>\n                    <p>\n                      Control which notifications different users within your\n                      organization can receive by creating behavior groups and\n                      associating them with specific events. Users can then\n                      select the event notifications they want to receive and\n                      how to be notified in their{' '}\n                      <a\n                        href={`${\n                          isBeta() ? '/preview' : ''\n                        }/${getBundle()}/notifications/user-preferences`}\n                        onClick={(e) => {\n                          e.preventDefault();\n                          navigate(\n                            `/${getBundle()}/notifications/user-preferences`\n                          );\n                        }}\n                      >\n                        Notification Preferences\n                      </a>\n                      .\n                    </p>\n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      variant=\"primary\"\n                      component=\"a\"\n                      href={`${\n                        isBeta() ? '/preview' : ''\n                      }/${getBundle()}/notifications/configure-events`}\n                      size=\"lg\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        navigate(\n                          `/${getBundle()}/notifications/configure-events`\n                        );\n                      }}\n                    >\n                      Configure events\n                    </Button>\n                  </CardFooter>\n                </GridItem>\n                <GridItem\n                  md={6}\n                  lg={4}\n                  className=\"pf-u-display-none pf-u-display-block-on-md pf-c-card__cover-image\"\n                ></GridItem>\n              </Grid>\n            </Card>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Title headingLevel=\"h2\" className=\"pf-u-mb-md\">\n              Get started with Notifications on the Hybrid Cloud Console\n            </Title>\n            <Grid hasGutter className=\"pf-u-mb-lg\">\n              <GridItem sm={12} md={6}>\n                <Card className=\"pf-u-h-100\">\n                  <CardTitle>\n                    <Flex className=\"pf-u-flex-nowrap\">\n                      <FlexItem>\n                        <Icon size=\"lg\">\n                          <UserIcon className=\"pf-u-primary-color-100\" />\n                        </Icon>\n                      </FlexItem>\n                      <FlexItem>\n                        <Title headingLevel=\"h2\">\n                          Manage your own notifications with Notification\n                          Preferences\n                        </Title>\n                      </FlexItem>\n                    </Flex>\n                  </CardTitle>\n                  <CardBody>\n                    <p>\n                      This service allows you to opt-in and out of receiving\n                      notifications. Your Organization Administrator has\n                      configured which notifications you can or can not receive\n                      in their Settings.\n                    </p>\n                  </CardBody>\n                  <CardFooter>\n                    <Button\n                      variant=\"primary\"\n                      size=\"lg\"\n                      component=\"a\"\n                      href={`${\n                        isBeta() ? '/preview' : ''\n                      }/${getBundle()}/notifications/user-preferences`}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        navigate(\n                          `/${getBundle()}/notifications/user-preferences`\n                        );\n                      }}\n                    >\n                      Go to Notification Preferences\n                    </Button>\n                  </CardFooter>\n                </Card>\n              </GridItem>\n              <GridItem sm={12} md={6}>\n                <Card className=\"pf-u-h-100\">\n                  <CardTitle>\n                    <Flex className=\"pf-u-flex-nowrap\">\n                      <FlexItem>\n                        <Icon size=\"lg\">\n                          <RunningIcon className=\"pf-u-primary-color-100\" />\n                        </Icon>\n                      </FlexItem>\n                      <FlexItem>\n                        <Title headingLevel=\"h2\">\n                          Monitor all fired events with the Event log\n                        </Title>\n                      </FlexItem>\n                    </Flex>\n                  </CardTitle>\n                  <CardBody>\n                    <p>\n                      See all the events affecting your organization and view\n                      details around the events fired.\n                    </p>\n                  </CardBody>\n                  <CardFooter>\n                    {!notificationsOverhaul && (\n                      <Button\n                        variant=\"secondary\"\n                        size=\"lg\"\n                        component=\"a\"\n                        href={`${\n                          isBeta() ? '/preview' : ''\n                        }/${getBundle()}/notifications/user-preferences`}\n                        onClick={(e) => {\n                          e.preventDefault();\n                          navigate(`/${getBundle()}/notifications/eventlog`);\n                        }}\n                      >\n                        View Event log\n                      </Button>\n                    )}\n                  </CardFooter>\n                </Card>\n              </GridItem>\n            </Grid>\n          </React.Fragment>\n        )}\n\n        {isOrgAdmin ? (\n          <React.Fragment>\n            <Title headingLevel=\"h2\" className=\"pf-u-mb-md\">\n              Supporting features\n            </Title>\n\n            <DataList\n              aria-label=\"Supporting features list\"\n              className=\"pf-u-mb-lg\"\n            >\n              <CustomDataListItem\n                icon={IconName.USER}\n                isExpanded\n                heading=\"Manage your own notifications with Notification Preferences\"\n                linkTitle=\"Go to Notification Preferences\"\n                linkTarget={`${\n                  isBeta() ? '/preview' : ''\n                }/${getBundle()}/notifications/user-preferences`}\n                expandableContent=\"Select the events you want to be notified about, and how to receive notifications. Your Organization Administrator has configured which notifications you can or can’t receive in their Settings.\"\n              />\n              <CustomDataListItem\n                icon={IconName.RUNNING}\n                heading=\"Monitor all fired events with the Event log\"\n                linkTitle=\"View Event log\"\n                linkTarget={`${\n                  isBeta() ? '/preview' : ''\n                }/${getBundle()}/notifications/eventlog `}\n                expandableContent=\"See all the events occurring in your organization and view details about the triggered events.\"\n              />\n              <CustomDataListItem\n                icon={IconName.INTEGRATION}\n                heading=\"Set up Integrations to customize your notifications\"\n                linkTitle=\"Set up Integrations\"\n                {...(isSourcesIntegrations && { isRedirect: true })}\n                linkTarget={\n                  isSourcesIntegrations\n                    ? `${\n                        isBeta() ? '/preview' : ''\n                      }/settings/sources?category=Integrations`\n                    : `${\n                        isBeta() ? '/preview' : ''\n                      }/${getBundle()}/notifications/integrations`\n                }\n                expandableContent={\n                  <span>\n                    The notifications and integrations services work together to\n                    transmit messages to third-party applications, such as\n                    instant messaging platforms and external ticketing systems,\n                    when events occur. Integrations include Splunk, Slack,\n                    ServiceNow,{' '}\n                    <a\n                      href={\n                        'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/index'\n                      }\n                    >\n                      and more\n                    </a>\n                    .\n                  </span>\n                }\n              />\n              <CustomDataListItem\n                icon={IconName.USERS}\n                heading=\"Create behavior groups to easily notify the right users\"\n                linkTitle=\"Create new behavior group\"\n                linkTarget={`${\n                  isBeta() ? '/preview' : ''\n                }/${getBundle()}/notifications/configure-events?activeTab=behaviorGroups`}\n                expandableContent=\"Configure which notifications different users in your organization can receive, and how to notify groups of users when selected events occur.\"\n              />\n            </DataList>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <DataList\n              aria-label=\"Supporting features list\"\n              className=\"pf-u-mb-lg\"\n            >\n              <CustomDataListItem\n                icon={IconName.BELL}\n                heading=\"About Notifications\"\n                expandableContent=\"Notifications are a way for users to be alerted of important events that occur in the Hybrid Cloud\n                            Console. You can receive notifications through email and\n                            third-party integrations, such as Slack or ServiceNow.\"\n              />\n            </DataList>\n          </React.Fragment>\n        )}\n\n        <Title headingLevel=\"h2\" className=\"pf-u-mb-md\">\n          Recommended content\n        </Title>\n\n        {isOrgAdmin ? (\n          <React.Fragment>\n            <Table aria-label=\"Recommended content\" className=\"pf-u-mb-lg\">\n              <Tbody>\n                <Tr className=\"noti-c-table-border-top\">\n                  <Td>Configuring Notifications</Td>\n                  <Td>\n                    <Label color=\"orange\">Documentation</Label>\n                  </Td>\n                  <Td className=\"pf-v5-u-text-align-right\">\n                    <a\n                      href={LEARN_MORE}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        window.open(LEARN_MORE, '_blank');\n                      }}\n                    >\n                      View documentation <ExternalLinkAltIcon />\n                    </a>\n                  </Td>\n                </Tr>\n                <Tr>\n                  <Td>Configuring Integrations</Td>\n                  <Td>\n                    <Label color=\"orange\">Documentation</Label>\n                  </Td>\n                  <Td className=\"pf-v5-u-text-align-right\">\n                    <a\n                      href={CONFIGURE_INTEGRATIONS}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        window.open(CONFIGURE_INTEGRATIONS, '_blank');\n                      }}\n                    >\n                      View documentation <ExternalLinkAltIcon />\n                    </a>\n                  </Td>\n                </Tr>\n                <Tr>\n                  <Td>Restricting access to a service to a team</Td>\n                  <Td>\n                    <Label color=\"green\">Quick start</Label>\n                  </Td>\n                  <Td className=\"pf-v5-u-text-align-right\">\n                    <a\n                      href={`${\n                        isBeta() ? '/preview' : ''\n                      }/iam/my-user-access?bundle=rhel&quickstart=rbac-admin-vuln-permissions`}\n                    >\n                      Begin Quick start <ArrowRightIcon />\n                    </a>\n                  </Td>\n                </Tr>\n              </Tbody>\n            </Table>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Table aria-label=\"Recommended content\" className=\"pf-u-mb-lg\">\n              <Tbody>\n                <Tr className=\"noti-c-table-border-top\">\n                  <Td>Configuring notifications and integrations</Td>\n                  <Td>\n                    <Label color=\"orange\">Documentation</Label>\n                  </Td>\n                  <Td className=\"pf-v5-u-text-align-right\">\n                    <a\n                      href={CONFIGURE_INTEGRATIONS}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        window.open(CONFIGURE_INTEGRATIONS, '_blank');\n                      }}\n                    >\n                      View documentation <ExternalLinkAltIcon />\n                    </a>\n                  </Td>\n                </Tr>\n                <Tr>\n                  <Td>Configuring integrations for Red Hat services</Td>\n                  <Td>\n                    <Label color=\"orange\">Documentation</Label>\n                  </Td>\n                  <Td className=\"pf-v5-u-text-align-right\">\n                    <a\n                      href={CONFIGURE_SOURCES}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        window.open(CONFIGURE_SOURCES, '_blank');\n                      }}\n                    >\n                      View documentation <ExternalLinkAltIcon />\n                    </a>\n                  </Td>\n                </Tr>\n              </Tbody>\n            </Table>\n          </React.Fragment>\n        )}\n        <a\n          href={`${isBeta() ? '/preview' : ''}/settings/learning-resources`}\n          className=\"pf-u-mb-lg\"\n        >\n          View all Settings Learning Resources\n        </a>\n      </Main>\n    </React.Fragment>\n  );\n};\n","import useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport * as React from 'react';\nimport { Routes as DomRoutes, Navigate, Route } from 'react-router-dom';\n\nimport { CheckReadPermissions } from './components/CheckReadPermissions';\nimport { IntegrationsListPage } from './pages/Integrations/List/Page';\nimport { SplunkSetupPage } from './pages/Integrations/SplunkSetup/SplunkSetupPage';\nimport { EventLogPage } from './pages/Notifications/EventLog/EventLogPage';\nimport { NotificationsListPage } from './pages/Notifications/List/Page';\nimport { NotificationsLogPage } from './pages/Notifications/NotificationsLog/Page';\nimport { NotificationsOverviewPage } from './pages/Notifications/Overview/Page';\n\ninterface Path {\n  path: string;\n  component: React.ComponentType;\n}\n\nexport const linkTo = {\n  overview: () => '/',\n  configureEvents: () => '/configure-events',\n  integrations: () => '/settings/integrations',\n  notifications: (bundle: string) => `/${bundle}`,\n  eventLog: (bundle?: string) =>\n    `/eventlog${bundle ? `?bundle=${bundle}` : ''}`,\n  notificationsLog: () => '/notificationslog',\n  splunk: () => '/integrations/splunk-setup',\n};\n\nconst EmptyPage: React.FunctionComponent = () => {\n  const { getApp } = useChrome();\n  if (getApp() === 'integrations') {\n    return <IntegrationsListPage />;\n  }\n\n  return null;\n};\n\nconst legacyRoutes: Path[] = [\n  {\n    path: '/',\n    component: EmptyPage,\n  },\n  {\n    path: linkTo.integrations(),\n    component: IntegrationsListPage,\n  },\n  {\n    path: linkTo.eventLog(),\n    component: EventLogPage,\n  },\n  {\n    path: linkTo.notifications(':bundleName'),\n    component: NotificationsListPage,\n  },\n  {\n    path: linkTo.splunk(),\n    component: SplunkSetupPage,\n  },\n  {\n    path: linkTo.notificationsLog(),\n    component: NotificationsLogPage,\n  },\n];\n\nconst routesOverhaul: Path[] = [\n  {\n    path: linkTo.overview(),\n    component: NotificationsOverviewPage,\n  },\n  {\n    path: linkTo.integrations(),\n    component: IntegrationsListPage,\n  },\n  {\n    path: linkTo.configureEvents(),\n    component: NotificationsListPage,\n  },\n  {\n    path: linkTo.eventLog(),\n    component: EventLogPage,\n  },\n  {\n    path: linkTo.notificationsLog(),\n    component: NotificationsLogPage,\n  },\n];\n\nexport const Routes: React.FunctionComponent = () => {\n  const notificationsOverhaul = useFlag('platform.notifications.overhaul');\n  const { getApp } = useChrome();\n\n  const pathRoutes = React.useMemo(\n    () => (notificationsOverhaul ? routesOverhaul : legacyRoutes),\n    [notificationsOverhaul]\n  );\n\n  // FIXUP: notifications overhaul removed splunk setup page, but customers require it\n  if (notificationsOverhaul && getApp() === 'integrations') {\n    pathRoutes.unshift({\n      path: '/',\n      component: SplunkSetupPage,\n    });\n  }\n\n  return (\n    <DomRoutes>\n      {pathRoutes.map((pathRoute) => (\n        <Route\n          key={pathRoute.path}\n          path={pathRoute.path}\n          element={\n            <CheckReadPermissions>\n              <pathRoute.component />\n            </CheckReadPermissions>\n          }\n        />\n      ))}\n      {!notificationsOverhaul && (\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      )}\n    </DomRoutes>\n  );\n};\n","import * as React from 'react';\nimport { useContext } from 'react';\n\nimport { Server, ServerStatus } from '../types/Server';\n\nexport interface AppContext {\n  rbac: {\n    canWriteIntegrationsEndpoints: boolean;\n    canReadIntegrationsEndpoints: boolean;\n    canWriteNotifications: boolean;\n    canReadNotifications: boolean;\n    canReadEvents: boolean;\n  };\n  isOrgAdmin: boolean;\n  server: Server;\n}\n\nexport const AppContext = React.createContext<AppContext>({\n  rbac: {\n    canReadIntegrationsEndpoints: false,\n    canReadNotifications: false,\n    canWriteIntegrationsEndpoints: false,\n    canWriteNotifications: false,\n    canReadEvents: false,\n  },\n  isOrgAdmin: false,\n  server: {\n    status: ServerStatus.RUNNING,\n  },\n});\n\nexport const useAppContext = () => useContext(AppContext);\n","import { Bullseye } from '@patternfly/react-core';\nimport PageHeader from '@redhat-cloud-services/frontend-components/PageHeader';\nimport PageHeaderTitle from '@redhat-cloud-services/frontend-components/PageHeader/PageHeaderTitle';\nimport Section from '@redhat-cloud-services/frontend-components/Section';\nimport Skeleton from '@redhat-cloud-services/frontend-components/Skeleton';\nimport Spinner from '@redhat-cloud-services/frontend-components/Spinner';\nimport useOuia from '@redhat-cloud-services/frontend-components/Ouia/useOuia';\nimport * as React from 'react';\n\nexport const AppSkeleton: React.FunctionComponent = () => {\n  const ouia = useOuia({\n    type: 'AppSkeleton',\n  });\n\n  return (\n    <div {...ouia}>\n      <PageHeader>\n        <div className=\"pf-c-content\">\n          <PageHeaderTitle title={<Skeleton size=\"sm\" />} />\n        </div>\n      </PageHeader>\n      <Section>\n        <Bullseye>\n          <Spinner centered />\n        </Bullseye>\n      </Section>\n    </div>\n  );\n};\n","import { createContext, useContext } from 'react';\n\nexport interface RbacGroup {\n  id: string;\n  name: string;\n}\n\nexport interface RbacGroupContext {\n  groups: ReadonlyArray<RbacGroup>;\n  isLoading: boolean;\n}\n\nexport const RbacGroupContext = createContext<RbacGroupContext>({\n  groups: [],\n  isLoading: true,\n});\n\nexport const useRbacGroups = () => {\n  return useContext(RbacGroupContext);\n};\n","/* eslint-disable */\n/**\n * Generated code, DO NOT modify directly.\n */\nimport { ValidatedResponse } from 'openapi2typescript';\nimport { ValidateRule } from 'openapi2typescript';\nimport {\n    actionBuilder,\n    ActionValidatableConfig\n} from 'openapi2typescript/react-fetching-library';\nimport { Action } from 'react-fetching-library';\nimport * as z from 'zod';\n\nexport namespace Schemas {\n  export const Access = zodSchemaAccess();\n  export type Access = {\n    permission: string;\n    resourceDefinitions: Array<ResourceDefinition>;\n  };\n\n  export const AccessPagination = zodSchemaAccessPagination();\n  export type AccessPagination = ListPagination & {\n    data: Array<Access>;\n  };\n\n  export const AdditionalGroup = zodSchemaAdditionalGroup();\n  export type AdditionalGroup = {\n    description?: string | undefined | null;\n    name?: string | undefined | null;\n    uuid?: string | undefined | null;\n  };\n\n  export const CrossAccountRequest = zodSchemaCrossAccountRequest();\n  export type CrossAccountRequest = {\n    created?: string | undefined | null;\n    end_date?: unknown | undefined | null;\n    request_id?: string | undefined | null;\n    start_date?: unknown | undefined | null;\n    status?: string | undefined | null;\n    target_account?: string | undefined | null;\n  };\n\n  export const CrossAccountRequestByAccount =\n    zodSchemaCrossAccountRequestByAccount();\n  export type CrossAccountRequestByAccount = CrossAccountRequest & {\n    email?: string | undefined | null;\n    first_name?: string | undefined | null;\n    last_name?: string | undefined | null;\n  };\n\n  export const CrossAccountRequestByUserId =\n    zodSchemaCrossAccountRequestByUserId();\n  export type CrossAccountRequestByUserId = CrossAccountRequest & {\n    user_id?: string | undefined | null;\n  };\n\n  export const CrossAccountRequestDetail = zodSchemaCrossAccountRequestDetail();\n  export type CrossAccountRequestDetail =\n    | CrossAccountRequestDetailByAccount\n    | CrossAccountRequestDetailByUseId;\n\n  export const CrossAccountRequestDetailByAccount =\n    zodSchemaCrossAccountRequestDetailByAccount();\n  export type CrossAccountRequestDetailByAccount =\n    CrossAccountRequestWithRoles & {\n      email?: unknown | undefined | null;\n      first_name?: unknown | undefined | null;\n      last_name?: unknown | undefined | null;\n    };\n\n  export const CrossAccountRequestDetailByUseId =\n    zodSchemaCrossAccountRequestDetailByUseId();\n  export type CrossAccountRequestDetailByUseId =\n    CrossAccountRequestWithRoles & {\n      user_id?: unknown | undefined | null;\n    };\n\n  export const CrossAccountRequestIn = zodSchemaCrossAccountRequestIn();\n  export type CrossAccountRequestIn = {\n    end_date: string;\n    roles: Array<string>;\n    start_date: string;\n    target_account: string;\n  };\n\n  export const CrossAccountRequestOut = zodSchemaCrossAccountRequestOut();\n  export type CrossAccountRequestOut = CrossAccountRequestWithRoles & {\n    user_id?: string | undefined | null;\n  };\n\n  export const CrossAccountRequestPagination =\n    zodSchemaCrossAccountRequestPagination();\n  export type CrossAccountRequestPagination = ListPagination & {\n    data: Array<CrossAccountRequestByAccount | CrossAccountRequestByUserId>;\n  };\n\n  export const CrossAccountRequestPatch = zodSchemaCrossAccountRequestPatch();\n  export type CrossAccountRequestPatch = {\n    end_date?: string | undefined | null;\n    roles?: Array<string> | undefined | null;\n    start_date?: string | undefined | null;\n    status?:\n      | ('pending' | 'approved' | 'expired' | 'cancelled' | 'denied')\n      | undefined\n      | null;\n  };\n\n  export const CrossAccountRequestUpdateIn =\n    zodSchemaCrossAccountRequestUpdateIn();\n  export type CrossAccountRequestUpdateIn = {\n    end_date: string;\n    roles: Array<string>;\n    start_date: string;\n    status?:\n      | ('pending' | 'approved' | 'expired' | 'cancelled' | 'denied')\n      | undefined\n      | null;\n  };\n\n  export const CrossAccountRequestWithRoles =\n    zodSchemaCrossAccountRequestWithRoles();\n  export type CrossAccountRequestWithRoles = {\n    created?: string | undefined | null;\n    end_date?: string | undefined | null;\n    request_id?: string | undefined | null;\n    roles?:\n      | Array<{\n          description?: string | undefined | null;\n          display_name?: string | undefined | null;\n          permissions?: Array<Permission> | undefined | null;\n        }>\n      | undefined\n      | null;\n    start_date?: string | undefined | null;\n    status?: string | undefined | null;\n    target_account?: string | undefined | null;\n  };\n\n  export const Error = zodSchemaError();\n  export type Error = {\n    errors: Array<{\n      detail?: string | undefined | null;\n      status?: string | undefined | null;\n    }>;\n  };\n\n  export const Error403 = zodSchemaError403();\n  export type Error403 = {\n    errors: Array<{\n      detail?: string | undefined | null;\n      source?: string | undefined | null;\n      status?: string | undefined | null;\n    }>;\n  };\n\n  export const Group = zodSchemaGroup();\n  export type Group = {\n    description?: string | undefined | null;\n    name: string;\n  };\n\n  export const GroupOut = zodSchemaGroupOut();\n  export type GroupOut = Group &\n    UUID &\n    Timestamped & {\n      admin_default?: boolean | undefined | null;\n      platform_default?: boolean | undefined | null;\n      principalCount?: number | undefined | null;\n      roleCount?: number | undefined | null;\n      system?: boolean | undefined | null;\n    };\n\n  export const GroupPagination = zodSchemaGroupPagination();\n  export type GroupPagination = ListPagination & {\n    data: Array<GroupOut>;\n  };\n\n  export const GroupPrincipalIn = zodSchemaGroupPrincipalIn();\n  export type GroupPrincipalIn = {\n    principals: Array<PrincipalIn>;\n  };\n\n  export const GroupRoleIn = zodSchemaGroupRoleIn();\n  export type GroupRoleIn = {\n    roles: Array<string>;\n  };\n\n  export const GroupRolesPagination = zodSchemaGroupRolesPagination();\n  export type GroupRolesPagination = ListPagination & {\n    data: Array<RoleOut>;\n  };\n\n  export const GroupWithPrincipals = zodSchemaGroupWithPrincipals();\n  export type GroupWithPrincipals = Group &\n    UUID &\n    Timestamped & {\n      principals: Array<Principal>;\n    };\n\n  export const GroupWithPrincipalsAndRoles =\n    zodSchemaGroupWithPrincipalsAndRoles();\n  export type GroupWithPrincipalsAndRoles = Group &\n    UUID &\n    Timestamped & {\n      principals: Array<Principal>;\n      roles: Array<RoleOut>;\n    };\n\n  export const ListPagination = zodSchemaListPagination();\n  export type ListPagination = {\n    links?: PaginationLinks | undefined | null;\n    meta?: PaginationMeta | undefined | null;\n  };\n\n  export const PaginationLinks = zodSchemaPaginationLinks();\n  export type PaginationLinks = {\n    first?: string | undefined | null;\n    last?: string | undefined | null;\n    next?: string | undefined | null;\n    previous?: string | undefined | null;\n  };\n\n  export const PaginationMeta = zodSchemaPaginationMeta();\n  export type PaginationMeta = {\n    count?: number | undefined | null;\n  };\n\n  export const Permission = zodSchemaPermission();\n  export type Permission = {\n    application?: string | undefined | null;\n    description?: string | undefined | null;\n    permission?: string | undefined | null;\n    resource_type?: string | undefined | null;\n    verb?: string | undefined | null;\n  };\n\n  export const PermissionOptionsPagination =\n    zodSchemaPermissionOptionsPagination();\n  export type PermissionOptionsPagination = ListPagination & {\n    data: Array<string>;\n  };\n\n  export const PermissionPagination = zodSchemaPermissionPagination();\n  export type PermissionPagination = ListPagination & {\n    data: Array<Permission>;\n  };\n\n  export const Policy = zodSchemaPolicy();\n  export type Policy = {\n    description?: string | undefined | null;\n    name: string;\n  };\n\n  export const PolicyExtended = zodSchemaPolicyExtended();\n  export type PolicyExtended = Policy &\n    UUID &\n    Timestamped & {\n      group: GroupOut;\n      roles: Array<RoleOut>;\n    };\n\n  export const PolicyIn = zodSchemaPolicyIn();\n  export type PolicyIn = Policy & {\n    group: string;\n    roles: Array<string>;\n  };\n\n  export const PolicyPagination = zodSchemaPolicyPagination();\n  export type PolicyPagination = ListPagination & {\n    data: Array<PolicyExtended>;\n  };\n\n  export const Principal = zodSchemaPrincipal();\n  export type Principal = {\n    email: string;\n    first_name?: string | undefined | null;\n    is_active?: boolean | undefined | null;\n    is_org_admin?: boolean | undefined | null;\n    last_name?: string | undefined | null;\n    username: string;\n  };\n\n  export const PrincipalIn = zodSchemaPrincipalIn();\n  export type PrincipalIn = {\n    username: string;\n  };\n\n  export const PrincipalOut = zodSchemaPrincipalOut();\n  export type PrincipalOut = Principal & UUID;\n\n  export const PrincipalPagination = zodSchemaPrincipalPagination();\n  export type PrincipalPagination = ListPagination & {\n    data: Array<Principal>;\n  };\n\n  export const ResourceDefinition = zodSchemaResourceDefinition();\n  export type ResourceDefinition = {\n    attributeFilter: ResourceDefinitionFilter;\n  };\n\n  export const ResourceDefinitionFilter = zodSchemaResourceDefinitionFilter();\n  export type ResourceDefinitionFilter = {\n    key: string;\n    operation: 'equal' | 'in';\n    value: string;\n  };\n\n  export const Role = zodSchemaRole();\n  export type Role = {\n    description?: string | undefined | null;\n    display_name?: string | undefined | null;\n    name: string;\n  };\n\n  export const RoleIn = zodSchemaRoleIn();\n  export type RoleIn = Role & {\n    access: Array<Access>;\n  };\n\n  export const RoleOut = zodSchemaRoleOut();\n  export type RoleOut = Role &\n    UUID &\n    Timestamped & {\n      accessCount?: number | undefined | null;\n      admin_default?: boolean | undefined | null;\n      applications?: Array<string> | undefined | null;\n      platform_default?: boolean | undefined | null;\n      policyCount?: number | undefined | null;\n      system?: boolean | undefined | null;\n    };\n\n  export const RoleOutDynamic = zodSchemaRoleOutDynamic();\n  export type RoleOutDynamic = Role &\n    UUID &\n    Timestamped & {\n      accessCount: number;\n      admin_default: boolean;\n      applications: Array<string>;\n      groups_in?: Array<AdditionalGroup> | undefined | null;\n      groups_in_count?: number | undefined | null;\n      platform_default: boolean;\n      policyCount: number;\n      system: boolean;\n    };\n\n  export const RolePagination = zodSchemaRolePagination();\n  export type RolePagination = ListPagination & {\n    data: Array<RoleOut>;\n  };\n\n  export const RolePaginationDynamic = zodSchemaRolePaginationDynamic();\n  export type RolePaginationDynamic = ListPagination & {\n    data: Array<RoleOutDynamic>;\n  };\n\n  export const RolePatch = zodSchemaRolePatch();\n  export type RolePatch = {\n    description?: string | undefined | null;\n    display_name?: string | undefined | null;\n    name?: string | undefined | null;\n  };\n\n  export const RoleWithAccess = zodSchemaRoleWithAccess();\n  export type RoleWithAccess = RoleOut & {\n    access: Array<Access>;\n  };\n\n  export const Status = zodSchemaStatus();\n  export type Status = {\n    api_version: number;\n    commit?: string | undefined | null;\n  };\n\n  export const Timestamped = zodSchemaTimestamped();\n  export type Timestamped = {\n    created: string;\n    modified: string;\n  };\n\n  export const UUID = zodSchemaUUID();\n  export type UUID = {\n    uuid: string;\n  };\n\n  export const __Empty = zodSchema__Empty();\n  export type __Empty = string | undefined;\n\n  function zodSchemaAccess() {\n      return z\n      .object({\n          permission: z.string(),\n          resourceDefinitions: z.array(zodSchemaResourceDefinition())\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaAccessPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaAccess())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaAdditionalGroup() {\n      return z\n      .object({\n          description: z.string().optional().nullable(),\n          name: z.string().optional().nullable(),\n          uuid: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCrossAccountRequest() {\n      return z\n      .object({\n          created: z.string().optional().nullable(),\n          end_date: z.unknown().optional().nullable(),\n          request_id: z.string().optional().nullable(),\n          start_date: z.unknown().optional().nullable(),\n          status: z.string().optional().nullable(),\n          target_account: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCrossAccountRequestByAccount() {\n      return z.intersection(\n          zodSchemaCrossAccountRequest(),\n          z\n          .object({\n              email: z.string().optional().nullable(),\n              first_name: z.string().optional().nullable(),\n              last_name: z.string().optional().nullable()\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestByUserId() {\n      return z.intersection(\n          zodSchemaCrossAccountRequest(),\n          z\n          .object({\n              user_id: z.string().optional().nullable()\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestDetail() {\n      return z.union([\n          zodSchemaCrossAccountRequestDetailByAccount(),\n          zodSchemaCrossAccountRequestDetailByUseId()\n      ]);\n  }\n\n  function zodSchemaCrossAccountRequestDetailByAccount() {\n      return z.intersection(\n          zodSchemaCrossAccountRequestWithRoles(),\n          z\n          .object({\n              email: z.unknown().optional().nullable(),\n              first_name: z.unknown().optional().nullable(),\n              last_name: z.unknown().optional().nullable()\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestDetailByUseId() {\n      return z.intersection(\n          zodSchemaCrossAccountRequestWithRoles(),\n          z\n          .object({\n              user_id: z.unknown().optional().nullable()\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestIn() {\n      return z\n      .object({\n          end_date: z.string(),\n          roles: z.array(z.string()),\n          start_date: z.string(),\n          target_account: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCrossAccountRequestOut() {\n      return z.intersection(\n          zodSchemaCrossAccountRequestWithRoles(),\n          z\n          .object({\n              user_id: z.string().optional().nullable()\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(\n                  z.union([\n                      zodSchemaCrossAccountRequestByAccount(),\n                      zodSchemaCrossAccountRequestByUserId()\n                  ])\n              )\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaCrossAccountRequestPatch() {\n      return z\n      .object({\n          end_date: z.string().optional().nullable(),\n          roles: z.array(z.string()).optional().nullable(),\n          start_date: z.string().optional().nullable(),\n          status: z\n          .enum([ 'pending', 'approved', 'expired', 'cancelled', 'denied' ])\n          .optional()\n          .nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCrossAccountRequestUpdateIn() {\n      return z\n      .object({\n          end_date: z.string(),\n          roles: z.array(z.string()),\n          start_date: z.string(),\n          status: z\n          .enum([ 'pending', 'approved', 'expired', 'cancelled', 'denied' ])\n          .optional()\n          .nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCrossAccountRequestWithRoles() {\n      return z\n      .object({\n          created: z.string().optional().nullable(),\n          end_date: z.string().optional().nullable(),\n          request_id: z.string().optional().nullable(),\n          roles: z\n          .array(\n              z\n              .object({\n                  description: z.string().optional().nullable(),\n                  display_name: z.string().optional().nullable(),\n                  permissions: z\n                  .array(zodSchemaPermission())\n                  .optional()\n                  .nullable()\n              })\n              .nonstrict()\n          )\n          .optional()\n          .nullable(),\n          start_date: z.string().optional().nullable(),\n          status: z.string().optional().nullable(),\n          target_account: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaError() {\n      return z\n      .object({\n          errors: z.array(\n              z\n              .object({\n                  detail: z.string().optional().nullable(),\n                  status: z.string().optional().nullable()\n              })\n              .nonstrict()\n          )\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaError403() {\n      return z\n      .object({\n          errors: z.array(\n              z\n              .object({\n                  detail: z.string().optional().nullable(),\n                  source: z.string().optional().nullable(),\n                  status: z.string().optional().nullable()\n              })\n              .nonstrict()\n          )\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaGroup() {\n      return z\n      .object({\n          description: z.string().optional().nullable(),\n          name: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaGroupOut() {\n      return z.intersection(\n          zodSchemaGroup(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      admin_default: z.boolean().optional().nullable(),\n                      platform_default: z.boolean().optional().nullable(),\n                      principalCount: z.number().int().optional().nullable(),\n                      roleCount: z.number().int().optional().nullable(),\n                      system: z.boolean().optional().nullable()\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaGroupPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaGroupOut())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaGroupPrincipalIn() {\n      return z\n      .object({\n          principals: z.array(zodSchemaPrincipalIn())\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaGroupRoleIn() {\n      return z\n      .object({\n          roles: z.array(z.string())\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaGroupRolesPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaRoleOut())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaGroupWithPrincipals() {\n      return z.intersection(\n          zodSchemaGroup(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      principals: z.array(zodSchemaPrincipal())\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaGroupWithPrincipalsAndRoles() {\n      return z.intersection(\n          zodSchemaGroup(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      principals: z.array(zodSchemaPrincipal()),\n                      roles: z.array(zodSchemaRoleOut())\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaListPagination() {\n      return z\n      .object({\n          links: zodSchemaPaginationLinks().optional().nullable(),\n          meta: zodSchemaPaginationMeta().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPaginationLinks() {\n      return z\n      .object({\n          first: z.string().optional().nullable(),\n          last: z.string().optional().nullable(),\n          next: z.string().optional().nullable(),\n          previous: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPaginationMeta() {\n      return z\n      .object({\n          count: z.number().int().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPermission() {\n      return z\n      .object({\n          application: z.string().optional().nullable(),\n          description: z.string().optional().nullable(),\n          permission: z.string().optional().nullable(),\n          resource_type: z.string().optional().nullable(),\n          verb: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPermissionOptionsPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(z.string())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaPermissionPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaPermission())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaPolicy() {\n      return z\n      .object({\n          description: z.string().optional().nullable(),\n          name: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPolicyExtended() {\n      return z.intersection(\n          zodSchemaPolicy(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      group: zodSchemaGroupOut(),\n                      roles: z.array(zodSchemaRoleOut())\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaPolicyIn() {\n      return z.intersection(\n          zodSchemaPolicy(),\n          z\n          .object({\n              group: z.string(),\n              roles: z.array(z.string())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaPolicyPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaPolicyExtended())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaPrincipal() {\n      return z\n      .object({\n          email: z.string(),\n          first_name: z.string().optional().nullable(),\n          is_active: z.boolean().optional().nullable(),\n          is_org_admin: z.boolean().optional().nullable(),\n          last_name: z.string().optional().nullable(),\n          username: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPrincipalIn() {\n      return z\n      .object({\n          username: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPrincipalOut() {\n      return z.intersection(zodSchemaPrincipal(), zodSchemaUUID());\n  }\n\n  function zodSchemaPrincipalPagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaPrincipal())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaResourceDefinition() {\n      return z\n      .object({\n          attributeFilter: zodSchemaResourceDefinitionFilter()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaResourceDefinitionFilter() {\n      return z\n      .object({\n          key: z.string(),\n          operation: z.enum([ 'equal', 'in' ]),\n          value: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRole() {\n      return z\n      .object({\n          description: z.string().optional().nullable(),\n          display_name: z.string().optional().nullable(),\n          name: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRoleIn() {\n      return z.intersection(\n          zodSchemaRole(),\n          z\n          .object({\n              access: z.array(zodSchemaAccess())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaRoleOut() {\n      return z.intersection(\n          zodSchemaRole(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      accessCount: z.number().int().optional().nullable(),\n                      admin_default: z.boolean().optional().nullable(),\n                      applications: z.array(z.string()).optional().nullable(),\n                      platform_default: z.boolean().optional().nullable(),\n                      policyCount: z.number().int().optional().nullable(),\n                      system: z.boolean().optional().nullable()\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaRoleOutDynamic() {\n      return z.intersection(\n          zodSchemaRole(),\n          z.intersection(\n              zodSchemaUUID(),\n              z.intersection(\n                  zodSchemaTimestamped(),\n                  z\n                  .object({\n                      accessCount: z.number().int(),\n                      admin_default: z.boolean(),\n                      applications: z.array(z.string()),\n                      groups_in: z\n                      .array(zodSchemaAdditionalGroup())\n                      .optional()\n                      .nullable(),\n                      groups_in_count: z.number().int().optional().nullable(),\n                      platform_default: z.boolean(),\n                      policyCount: z.number().int(),\n                      system: z.boolean()\n                  })\n                  .nonstrict()\n              )\n          )\n      );\n  }\n\n  function zodSchemaRolePagination() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaRoleOut())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaRolePaginationDynamic() {\n      return z.intersection(\n          zodSchemaListPagination(),\n          z\n          .object({\n              data: z.array(zodSchemaRoleOutDynamic())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaRolePatch() {\n      return z\n      .object({\n          description: z.string().optional().nullable(),\n          display_name: z.string().optional().nullable(),\n          name: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRoleWithAccess() {\n      return z.intersection(\n          zodSchemaRoleOut(),\n          z\n          .object({\n              access: z.array(zodSchemaAccess())\n          })\n          .nonstrict()\n      );\n  }\n\n  function zodSchemaStatus() {\n      return z\n      .object({\n          api_version: z.number().int(),\n          commit: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaTimestamped() {\n      return z\n      .object({\n          created: z.string(),\n          modified: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaUUID() {\n      return z\n      .object({\n          uuid: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchema__Empty() {\n      return z.string().max(0).optional();\n  }\n}\n\nexport namespace Operations {\n  // GET /access/\n  // Get the permitted access for a principal in the tenant (defaults to principal from the identity header)\n  export namespace GetPrincipalAccess {\n    const Application = z.string();\n    type Application = string;\n    const Username = z.string();\n    type Username = string;\n    const OrderBy = z.enum([ 'application', 'resource_type', 'verb' ]);\n    type OrderBy = 'application' | 'resource_type' | 'verb';\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    export interface Params {\n      application: Application;\n      username?: Username;\n      orderBy?: OrderBy;\n      limit?: Limit;\n      offset?: Offset;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'AccessPagination', 200, Schemas.AccessPagination>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/access/';\n        const query = {} as Record<string, any>;\n        if (params.application !== undefined) {\n            query.application = params.application;\n        }\n\n        if (params.username !== undefined) {\n            query.username = params.username;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.AccessPagination, 'AccessPagination', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /cross-account-requests/\n  // List the cross account requests for a user or account\n  export namespace ListCrossAccountRequests {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const QueryBy = z.enum([ 'user_id', 'target_account' ]);\n    type QueryBy = 'user_id' | 'target_account';\n    const Account = z.string();\n    type Account = string;\n    const ApprovedOnly = z.enum([ 'true' ]);\n    type ApprovedOnly = 'true';\n    const Status = z.enum([\n        'pending',\n        'approved',\n        'denied',\n        'cancelled',\n        'expired'\n    ]);\n    type Status = 'pending' | 'approved' | 'denied' | 'cancelled' | 'expired';\n    const OrderBy = z.enum([\n        'request_id',\n        'start_date',\n        'end_date',\n        'created',\n        'modified',\n        'status'\n    ]);\n    type OrderBy =\n      | 'request_id'\n      | 'start_date'\n      | 'end_date'\n      | 'created'\n      | 'modified'\n      | 'status';\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      queryBy?: QueryBy;\n      account?: Account;\n      approvedOnly?: ApprovedOnly;\n      status?: Status;\n      orderBy?: OrderBy;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'CrossAccountRequestPagination',\n          200,\n          Schemas.CrossAccountRequestPagination\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/cross-account-requests/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.queryBy !== undefined) {\n            query.query_by = params.queryBy;\n        }\n\n        if (params.account !== undefined) {\n            query.account = params.account;\n        }\n\n        if (params.approvedOnly !== undefined) {\n            query.approved_only = params.approvedOnly;\n        }\n\n        if (params.status !== undefined) {\n            query.status = params.status;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.CrossAccountRequestPagination,\n                    'CrossAccountRequestPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /cross-account-requests/\n  // Create a cross account request\n  export namespace CreateCrossAccountRequests {\n    export interface Params {\n      body: Schemas.CrossAccountRequestIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'CrossAccountRequestOut',\n          201,\n          Schemas.CrossAccountRequestOut\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/cross-account-requests/';\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.CrossAccountRequestOut,\n                    'CrossAccountRequestOut',\n                    201\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /cross-account-requests/{uuid}/\n  // Get a cross account request\n  export namespace GetCrossAccountRequest {\n    const Uuid = z.string();\n    type Uuid = string;\n    const QueryBy = z.enum([ 'user_id', 'target_account' ]);\n    type QueryBy = 'user_id' | 'target_account';\n    const Account = z.string();\n    type Account = string;\n    const ApprovedOnly = z.enum([ 'true' ]);\n    type ApprovedOnly = 'true';\n    export interface Params {\n      uuid: Uuid;\n      queryBy?: QueryBy;\n      account?: Account;\n      approvedOnly?: ApprovedOnly;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'CrossAccountRequestDetail',\n          200,\n          Schemas.CrossAccountRequestDetail\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/cross-account-requests/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.queryBy !== undefined) {\n            query.query_by = params.queryBy;\n        }\n\n        if (params.account !== undefined) {\n            query.account = params.account;\n        }\n\n        if (params.approvedOnly !== undefined) {\n            query.approved_only = params.approvedOnly;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.CrossAccountRequestDetail,\n                    'CrossAccountRequestDetail',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // PUT /cross-account-requests/{uuid}/\n  // Update a cross account request\n  export namespace PutCrossAccountRequest {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.CrossAccountRequestUpdateIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'CrossAccountRequestDetail',\n          200,\n          Schemas.CrossAccountRequestDetail\n        >\n      | ValidatedResponse<\n          'CrossAccountRequestOut',\n          201,\n          Schemas.CrossAccountRequestOut\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/cross-account-requests/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('PUT', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.CrossAccountRequestDetail,\n                    'CrossAccountRequestDetail',\n                    200\n                ),\n                new ValidateRule(\n                    Schemas.CrossAccountRequestOut,\n                    'CrossAccountRequestOut',\n                    201\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /groups/\n  // List the groups for a tenant\n  export namespace ListGroups {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const Name = z.string();\n    type Name = string;\n    const NameMatch = z.enum([ 'partial', 'exact' ]);\n    type NameMatch = 'partial' | 'exact';\n    const Scope = z.enum([ 'account', 'principal' ]);\n    type Scope = 'account' | 'principal';\n    const Username = z.string();\n    type Username = string;\n    const Uuid = z.array(z.string());\n    type Uuid = Array<string>;\n    const RoleNames = z.array(z.string());\n    type RoleNames = Array<string>;\n    const RoleDiscriminator = z.enum([ 'all', 'any' ]);\n    type RoleDiscriminator = 'all' | 'any';\n    const OrderBy = z.enum([\n        'name',\n        'modified',\n        'principalCount',\n        'policyCount'\n    ]);\n    type OrderBy = 'name' | 'modified' | 'principalCount' | 'policyCount';\n    const PlatformDefault = z.boolean();\n    type PlatformDefault = boolean;\n    const AdminDefault = z.boolean();\n    type AdminDefault = boolean;\n    const System = z.boolean();\n    type System = boolean;\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      name?: Name;\n      nameMatch?: NameMatch;\n      scope?: Scope;\n      username?: Username;\n      uuid?: Uuid;\n      roleNames?: RoleNames;\n      roleDiscriminator?: RoleDiscriminator;\n      orderBy?: OrderBy;\n      platformDefault?: PlatformDefault;\n      adminDefault?: AdminDefault;\n      system?: System;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'GroupPagination', 200, Schemas.GroupPagination>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.name !== undefined) {\n            query.name = params.name;\n        }\n\n        if (params.nameMatch !== undefined) {\n            query.name_match = params.nameMatch;\n        }\n\n        if (params.scope !== undefined) {\n            query.scope = params.scope;\n        }\n\n        if (params.username !== undefined) {\n            query.username = params.username;\n        }\n\n        if (params.uuid !== undefined) {\n            query.uuid = params.uuid;\n        }\n\n        if (params.roleNames !== undefined) {\n            query.role_names = params.roleNames;\n        }\n\n        if (params.roleDiscriminator !== undefined) {\n            query.role_discriminator = params.roleDiscriminator;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        if (params.platformDefault !== undefined) {\n            query.platform_default = params.platformDefault;\n        }\n\n        if (params.adminDefault !== undefined) {\n            query.admin_default = params.adminDefault;\n        }\n\n        if (params.system !== undefined) {\n            query.system = params.system;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.GroupPagination, 'GroupPagination', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /groups/\n  // Create a group in a tenant\n  export namespace CreateGroup {\n    export interface Params {\n      body: Schemas.Group;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'GroupOut', 201, Schemas.GroupOut>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/';\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.GroupOut, 'GroupOut', 201),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /groups/{uuid}/\n  // Get a group in the tenant\n  export namespace GetGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'GroupWithPrincipalsAndRoles',\n          200,\n          Schemas.GroupWithPrincipalsAndRoles\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.GroupWithPrincipalsAndRoles,\n                    'GroupWithPrincipalsAndRoles',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // PUT /groups/{uuid}/\n  // Update a group in the tenant\n  export namespace UpdateGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.Group;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'GroupOut', 200, Schemas.GroupOut>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('PUT', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.GroupOut, 'GroupOut', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // DELETE /groups/{uuid}/\n  // Delete a group in the tenant\n  export namespace DeleteGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 204, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('DELETE', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 204),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /groups/{uuid}/principals/\n  // Get a list of principals from a group in the tenant\n  export namespace GetPrincipalsFromGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    const PrincipalUsername = z.string();\n    type PrincipalUsername = string;\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const OrderBy = z.enum([ 'username' ]);\n    type OrderBy = 'username';\n    export interface Params {\n      uuid: Uuid;\n      principalUsername?: PrincipalUsername;\n      limit?: Limit;\n      offset?: Offset;\n      orderBy?: OrderBy;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'PrincipalPagination',\n          200,\n          Schemas.PrincipalPagination\n        >\n      | ValidatedResponse<'__Empty', 400, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/principals/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.principalUsername !== undefined) {\n            query.principal_username = params.principalUsername;\n        }\n\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.PrincipalPagination,\n                    'PrincipalPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 400),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /groups/{uuid}/principals/\n  // Add a principal to a group in the tenant\n  export namespace AddPrincipalToGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.GroupPrincipalIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'GroupWithPrincipalsAndRoles',\n          200,\n          Schemas.GroupWithPrincipalsAndRoles\n        >\n      | ValidatedResponse<'__Empty', 400, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/principals/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.GroupWithPrincipalsAndRoles,\n                    'GroupWithPrincipalsAndRoles',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 400),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // DELETE /groups/{uuid}/principals/\n  // Remove a principal from a group in the tenant\n  export namespace DeletePrincipalFromGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Usernames = z.string();\n    type Usernames = string;\n    export interface Params {\n      uuid: Uuid;\n      usernames: Usernames;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 204, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 400, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/principals/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.usernames !== undefined) {\n            query.usernames = params.usernames;\n        }\n\n        return actionBuilder('DELETE', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 204),\n                new ValidateRule(Schemas.__Empty, '__Empty', 400),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /groups/{uuid}/roles/\n  // List the roles for a group in the tenant\n  export namespace ListRolesForGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Exclude = z.boolean();\n    type Exclude = boolean;\n    const RoleName = z.string();\n    type RoleName = string;\n    const RoleDisplayName = z.string();\n    type RoleDisplayName = string;\n    const RoleDescription = z.string();\n    type RoleDescription = string;\n    const RoleSystem = z.boolean();\n    type RoleSystem = boolean;\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const OrderBy = z.enum([ 'name', 'display_name', 'modified', 'policyCount' ]);\n    type OrderBy = 'name' | 'display_name' | 'modified' | 'policyCount';\n    export interface Params {\n      uuid: Uuid;\n      exclude?: Exclude;\n      roleName?: RoleName;\n      roleDisplayName?: RoleDisplayName;\n      roleDescription?: RoleDescription;\n      roleSystem?: RoleSystem;\n      limit?: Limit;\n      offset?: Offset;\n      orderBy?: OrderBy;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'GroupRolesPagination',\n          200,\n          Schemas.GroupRolesPagination\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/roles/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.exclude !== undefined) {\n            query.exclude = params.exclude;\n        }\n\n        if (params.roleName !== undefined) {\n            query.role_name = params.roleName;\n        }\n\n        if (params.roleDisplayName !== undefined) {\n            query.role_display_name = params.roleDisplayName;\n        }\n\n        if (params.roleDescription !== undefined) {\n            query.role_description = params.roleDescription;\n        }\n\n        if (params.roleSystem !== undefined) {\n            query.role_system = params.roleSystem;\n        }\n\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.GroupRolesPagination,\n                    'GroupRolesPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /groups/{uuid}/roles/\n  // Add a role to a group in the tenant\n  export namespace AddRoleToGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Response200 = z\n    .object({\n        data: z.array(Schemas.RoleOut)\n    })\n    .nonstrict();\n    type Response200 = {\n      data: Array<Schemas.RoleOut>;\n    };\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.GroupRoleIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'unknown', 200, Response200>\n      | ValidatedResponse<'__Empty', 400, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/roles/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Response200, 'unknown', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 400),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // DELETE /groups/{uuid}/roles/\n  // Remove a role from a group in the tenant\n  export namespace DeleteRoleFromGroup {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Roles = z.string();\n    type Roles = string;\n    export interface Params {\n      uuid: Uuid;\n      roles: Roles;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 204, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 400, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/groups/{uuid}/roles/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.roles !== undefined) {\n            query.roles = params.roles;\n        }\n\n        return actionBuilder('DELETE', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 204),\n                new ValidateRule(Schemas.__Empty, '__Empty', 400),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /permissions/\n  // List the permissions for a tenant\n  export namespace ListPermissions {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const OrderBy = z.enum([\n        'application',\n        'resource_type',\n        'verb',\n        'permission'\n    ]);\n    type OrderBy = 'application' | 'resource_type' | 'verb' | 'permission';\n    const Application = z.string();\n    type Application = string;\n    const ResourceType = z.string();\n    type ResourceType = string;\n    const Verb = z.string();\n    type Verb = string;\n    const Permission = z.string();\n    type Permission = string;\n    const ExcludeGlobals = z.enum([ 'true', 'false' ]);\n    type ExcludeGlobals = 'true' | 'false';\n    const ExcludeRoles = z.string();\n    type ExcludeRoles = string;\n    const AllowedOnly = z.enum([ 'true', 'false' ]);\n    type AllowedOnly = 'true' | 'false';\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      orderBy?: OrderBy;\n      application?: Application;\n      resourceType?: ResourceType;\n      verb?: Verb;\n      permission?: Permission;\n      excludeGlobals?: ExcludeGlobals;\n      excludeRoles?: ExcludeRoles;\n      allowedOnly?: AllowedOnly;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'PermissionPagination',\n          200,\n          Schemas.PermissionPagination\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/permissions/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        if (params.application !== undefined) {\n            query.application = params.application;\n        }\n\n        if (params.resourceType !== undefined) {\n            query.resource_type = params.resourceType;\n        }\n\n        if (params.verb !== undefined) {\n            query.verb = params.verb;\n        }\n\n        if (params.permission !== undefined) {\n            query.permission = params.permission;\n        }\n\n        if (params.excludeGlobals !== undefined) {\n            query.exclude_globals = params.excludeGlobals;\n        }\n\n        if (params.excludeRoles !== undefined) {\n            query.exclude_roles = params.excludeRoles;\n        }\n\n        if (params.allowedOnly !== undefined) {\n            query.allowed_only = params.allowedOnly;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.PermissionPagination,\n                    'PermissionPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /permissions/options/\n  // List the available options for fields of permissions for a tenant\n  export namespace ListPermissionOptions {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const Field = z.enum([ 'application', 'resource_type', 'verb' ]);\n    type Field = 'application' | 'resource_type' | 'verb';\n    const Application = z.string();\n    type Application = string;\n    const ResourceType = z.string();\n    type ResourceType = string;\n    const Verb = z.string();\n    type Verb = string;\n    const ExcludeGlobals = z.enum([ 'true', 'false' ]);\n    type ExcludeGlobals = 'true' | 'false';\n    const AllowedOnly = z.enum([ 'true', 'false' ]);\n    type AllowedOnly = 'true' | 'false';\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      field: Field;\n      application?: Application;\n      resourceType?: ResourceType;\n      verb?: Verb;\n      excludeGlobals?: ExcludeGlobals;\n      allowedOnly?: AllowedOnly;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'PermissionOptionsPagination',\n          200,\n          Schemas.PermissionOptionsPagination\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/permissions/options/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.field !== undefined) {\n            query.field = params.field;\n        }\n\n        if (params.application !== undefined) {\n            query.application = params.application;\n        }\n\n        if (params.resourceType !== undefined) {\n            query.resource_type = params.resourceType;\n        }\n\n        if (params.verb !== undefined) {\n            query.verb = params.verb;\n        }\n\n        if (params.excludeGlobals !== undefined) {\n            query.exclude_globals = params.excludeGlobals;\n        }\n\n        if (params.allowedOnly !== undefined) {\n            query.allowed_only = params.allowedOnly;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.PermissionOptionsPagination,\n                    'PermissionOptionsPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /policies/\n  // List the policies in the tenant\n  export namespace ListPolicies {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const Name = z.string();\n    type Name = string;\n    const Scope = z.enum([ 'account', 'principal' ]);\n    type Scope = 'account' | 'principal';\n    const GroupName = z.string();\n    type GroupName = string;\n    const GroupUuid = z.string();\n    type GroupUuid = string;\n    const OrderBy = z.enum([ 'name', 'modified' ]);\n    type OrderBy = 'name' | 'modified';\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      name?: Name;\n      scope?: Scope;\n      groupName?: GroupName;\n      groupUuid?: GroupUuid;\n      orderBy?: OrderBy;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'PolicyPagination', 200, Schemas.PolicyPagination>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/policies/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.name !== undefined) {\n            query.name = params.name;\n        }\n\n        if (params.scope !== undefined) {\n            query.scope = params.scope;\n        }\n\n        if (params.groupName !== undefined) {\n            query.group_name = params.groupName;\n        }\n\n        if (params.groupUuid !== undefined) {\n            query.group_uuid = params.groupUuid;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.PolicyPagination, 'PolicyPagination', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /policies/\n  // Create a policy in a tenant\n  export namespace CreatePolicies {\n    export interface Params {\n      body: Schemas.PolicyIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'PolicyExtended', 201, Schemas.PolicyExtended>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/policies/';\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.PolicyExtended, 'PolicyExtended', 201),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /policies/{uuid}/\n  // Get a policy in the tenant\n  export namespace GetPolicy {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'PolicyExtended', 200, Schemas.PolicyExtended>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/policies/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.PolicyExtended, 'PolicyExtended', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // PUT /policies/{uuid}/\n  // Update a policy in the tenant\n  export namespace UpdatePolicy {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.PolicyIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'PolicyExtended', 200, Schemas.PolicyExtended>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/policies/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('PUT', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.PolicyExtended, 'PolicyExtended', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // DELETE /policies/{uuid}/\n  // Delete a policy in the tenant\n  export namespace DeletePolicy {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 204, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/policies/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('DELETE', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 204),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /principals/\n  // List the principals for a tenant\n  export namespace ListPrincipals {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const MatchCriteria = z.enum([ 'partial', 'exact' ]);\n    type MatchCriteria = 'partial' | 'exact';\n    const Usernames = z.string();\n    type Usernames = string;\n    const SortOrder = z.enum([ 'asc', 'desc' ]);\n    type SortOrder = 'asc' | 'desc';\n    const Email = z.string();\n    type Email = string;\n    const Status = z.enum([ 'enabled', 'disabled', 'all' ]);\n    type Status = 'enabled' | 'disabled' | 'all';\n    const AdminOnly = z.enum([ 'true', 'false' ]);\n    type AdminOnly = 'true' | 'false';\n    const OrderBy = z.enum([ 'username' ]);\n    type OrderBy = 'username';\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      matchCriteria?: MatchCriteria;\n      usernames?: Usernames;\n      sortOrder?: SortOrder;\n      email?: Email;\n      status?: Status;\n      adminOnly?: AdminOnly;\n      orderBy?: OrderBy;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'PrincipalPagination',\n          200,\n          Schemas.PrincipalPagination\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/principals/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.matchCriteria !== undefined) {\n            query.match_criteria = params.matchCriteria;\n        }\n\n        if (params.usernames !== undefined) {\n            query.usernames = params.usernames;\n        }\n\n        if (params.sortOrder !== undefined) {\n            query.sort_order = params.sortOrder;\n        }\n\n        if (params.email !== undefined) {\n            query.email = params.email;\n        }\n\n        if (params.status !== undefined) {\n            query.status = params.status;\n        }\n\n        if (params.adminOnly !== undefined) {\n            query.admin_only = params.adminOnly;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.PrincipalPagination,\n                    'PrincipalPagination',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /roles/\n  // List the roles for a tenant\n  export namespace ListRoles {\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    const Name = z.string();\n    type Name = string;\n    const System = z.boolean();\n    type System = boolean;\n    const DisplayName = z.string();\n    type DisplayName = string;\n    const NameMatch = z.enum([ 'partial', 'exact' ]);\n    type NameMatch = 'partial' | 'exact';\n    const Scope = z.enum([ 'account', 'principal' ]);\n    type Scope = 'account' | 'principal';\n    const OrderBy = z.enum([ 'name', 'display_name', 'modified', 'policyCount' ]);\n    type OrderBy = 'name' | 'display_name' | 'modified' | 'policyCount';\n    const AddFields = z.array(z.enum([ 'groups_in', 'groups_in_count' ]));\n    type AddFields = Array<'groups_in' | 'groups_in_count'>;\n    const Username = z.string();\n    type Username = string;\n    const Application = z.string();\n    type Application = string;\n    const Permission = z.string();\n    type Permission = string;\n    export interface Params {\n      limit?: Limit;\n      offset?: Offset;\n      name?: Name;\n      system?: System;\n      displayName?: DisplayName;\n      nameMatch?: NameMatch;\n      scope?: Scope;\n      orderBy?: OrderBy;\n      addFields?: AddFields;\n      username?: Username;\n      application?: Application;\n      permission?: Permission;\n    }\n\n    export type Payload =\n      | ValidatedResponse<\n          'RolePaginationDynamic',\n          200,\n          Schemas.RolePaginationDynamic\n        >\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/';\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        if (params.name !== undefined) {\n            query.name = params.name;\n        }\n\n        if (params.system !== undefined) {\n            query.system = params.system;\n        }\n\n        if (params.displayName !== undefined) {\n            query.display_name = params.displayName;\n        }\n\n        if (params.nameMatch !== undefined) {\n            query.name_match = params.nameMatch;\n        }\n\n        if (params.scope !== undefined) {\n            query.scope = params.scope;\n        }\n\n        if (params.orderBy !== undefined) {\n            query.order_by = params.orderBy;\n        }\n\n        if (params.addFields !== undefined) {\n            query.add_fields = params.addFields;\n        }\n\n        if (params.username !== undefined) {\n            query.username = params.username;\n        }\n\n        if (params.application !== undefined) {\n            query.application = params.application;\n        }\n\n        if (params.permission !== undefined) {\n            query.permission = params.permission;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(\n                    Schemas.RolePaginationDynamic,\n                    'RolePaginationDynamic',\n                    200\n                ),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // POST /roles/\n  // Create a roles for a tenant\n  export namespace CreateRoles {\n    export interface Params {\n      body: Schemas.RoleIn;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'RoleWithAccess', 201, Schemas.RoleWithAccess>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/';\n        const query = {} as Record<string, any>;\n        return actionBuilder('POST', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.RoleWithAccess, 'RoleWithAccess', 201),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /roles/{uuid}/\n  // Get a role in the tenant\n  export namespace GetRole {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Scope = z.enum([ 'account', 'principal' ]);\n    type Scope = 'account' | 'principal';\n    export interface Params {\n      uuid: Uuid;\n      scope?: Scope;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'RoleWithAccess', 200, Schemas.RoleWithAccess>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.scope !== undefined) {\n            query.scope = params.scope;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.RoleWithAccess, 'RoleWithAccess', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // PUT /roles/{uuid}/\n  // Update a Role in the tenant\n  export namespace UpdateRole {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n      body: Schemas.RoleWithAccess;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 200, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('PUT', path)\n        .queryParams(query)\n        .data(params.body)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // DELETE /roles/{uuid}/\n  // Delete a role in the tenant\n  export namespace DeleteRole {\n    const Uuid = z.string();\n    type Uuid = string;\n    export interface Params {\n      uuid: Uuid;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'__Empty', 204, Schemas.__Empty>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/{uuid}/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        return actionBuilder('DELETE', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.__Empty, '__Empty', 204),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /roles/{uuid}/access/\n  // Get access for a role in the tenant\n  export namespace GetRoleAccess {\n    const Uuid = z.string();\n    type Uuid = string;\n    const Limit = z.number().int();\n    type Limit = number;\n    const Offset = z.number().int();\n    type Offset = number;\n    export interface Params {\n      uuid: Uuid;\n      limit?: Limit;\n      offset?: Offset;\n    }\n\n    export type Payload =\n      | ValidatedResponse<'AccessPagination', 200, Schemas.AccessPagination>\n      | ValidatedResponse<'__Empty', 401, Schemas.__Empty>\n      | ValidatedResponse<'Error403', 403, Schemas.Error403>\n      | ValidatedResponse<'Error', 404, Schemas.Error>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (params: Params): ActionCreator => {\n        const path = '/api/rbac/v1/roles/{uuid}/access/'.replace(\n            '{uuid}',\n            params.uuid.toString()\n        );\n        const query = {} as Record<string, any>;\n        if (params.limit !== undefined) {\n            query.limit = params.limit;\n        }\n\n        if (params.offset !== undefined) {\n            query.offset = params.offset;\n        }\n\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.AccessPagination, 'AccessPagination', 200),\n                new ValidateRule(Schemas.__Empty, '__Empty', 401),\n                new ValidateRule(Schemas.Error403, 'Error403', 403),\n                new ValidateRule(Schemas.Error, 'Error', 404),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n  // GET /status/\n  // Obtain server status\n  export namespace GetStatus {\n    export type Payload =\n      | ValidatedResponse<'Status', 200, Schemas.Status>\n      | ValidatedResponse<'Error', 500, Schemas.Error>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (): ActionCreator => {\n        const path = '/api/rbac/v1/status/';\n        const query = {} as Record<string, any>;\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.Status, 'Status', 200),\n                new ValidateRule(Schemas.Error, 'Error', 500)\n            ]\n        })\n        .build();\n    };\n  }\n}\n","import { useSyncInterval } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { useClient } from 'react-fetching-library';\n\nimport { getRbacGroupsAction } from '../../services/Rbac/GetGroups';\nimport { RbacGroup, RbacGroupContext } from './RbacGroupContext';\n\nconst SYNC_INTERVAL = 2 * 60 * 1000;\nconst LIMIT = 100;\n\nconst getPage = async (\n  query: ReturnType<typeof useClient>['query'],\n  offset: number\n): Promise<[ReadonlyArray<RbacGroup> | undefined, boolean]> => {\n  const groups = await query(\n    getRbacGroupsAction({\n      limit: LIMIT,\n      offset,\n    })\n  );\n\n  if (groups.payload?.type === 'GroupPagination') {\n    const page = groups.payload.value;\n\n    const hasMore =\n      page.data.length > 0 &&\n      (page.meta?.count ? page.meta.count > offset + LIMIT : true);\n\n    return [\n      groups.payload.value.data.map((value) => ({\n        id: value.uuid,\n        name: value.name,\n      })),\n      hasMore,\n    ];\n  }\n\n  return [undefined, false];\n};\n\nexport const RbacGroupContextProvider: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => {\n  const { query } = useClient();\n  const [isLoading, setLoading] = useState(true);\n  const [rbacGroups, setRbacGroups] = useState<ReadonlyArray<RbacGroup>>([]);\n\n  const sync = React.useCallback(async () => {\n    const allGroups: Array<RbacGroup> = [];\n    let offset = 0;\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      const [groups, hasMorePages] = await getPage(query, offset);\n      if (groups === undefined) {\n        return;\n      }\n\n      allGroups.push(...groups);\n      if (!hasMorePages) {\n        break;\n      }\n\n      offset += LIMIT;\n    }\n\n    setRbacGroups(allGroups);\n    setLoading(false);\n  }, [query]);\n\n  useSyncInterval(SYNC_INTERVAL, sync, true);\n\n  const value = React.useMemo(\n    () => ({\n      groups: rbacGroups,\n      isLoading,\n    }),\n    [rbacGroups, isLoading]\n  );\n\n  return (\n    <RbacGroupContext.Provider value={value}>\n      {props.children}\n    </RbacGroupContext.Provider>\n  );\n};\n","import { useParameterizedQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiRbac';\n\ntype GetGroupsParams = {\n  limit: number;\n  offset: number;\n};\n\nexport const getRbacGroupsAction = (params: GetGroupsParams) => {\n  return Operations.ListGroups.actionCreator({\n    limit: params.limit,\n    offset: params.offset,\n    platformDefault: false,\n    adminDefault: false,\n  });\n};\n\nexport const useRbacGroupsQuery = () => {\n  return useParameterizedQuery(getRbacGroupsAction);\n};\n","/* eslint-disable */\n/**\n * Generated code, DO NOT modify directly.\n */\nimport { ValidatedResponse } from 'openapi2typescript';\nimport { ValidateRule } from 'openapi2typescript';\nimport {\n    actionBuilder,\n    ActionValidatableConfig\n} from 'openapi2typescript/react-fetching-library';\nimport { Action } from 'react-fetching-library';\nimport * as z from 'zod';\n\nexport namespace Schemas {\n  export const AddAccessRequest = zodSchemaAddAccessRequest();\n  export type AddAccessRequest = {\n    application_id?: UUID | undefined | null;\n    role?: string | undefined | null;\n  };\n\n  export const AddApplicationRequest = zodSchemaAddApplicationRequest();\n  export type AddApplicationRequest = {\n    bundle_id: UUID;\n    display_name: string;\n    name: string;\n    owner_role?: string | undefined | null;\n  };\n\n  export const AggregationEmailTemplate = zodSchemaAggregationEmailTemplate();\n  export type AggregationEmailTemplate = {\n    application?: Application1 | undefined | null;\n    application_id?: UUID | undefined | null;\n    body_template?: Template | undefined | null;\n    body_template_id: UUID;\n    created?: LocalDateTime | undefined | null;\n    id?: UUID | undefined | null;\n    subject_template?: Template | undefined | null;\n    subject_template_id: UUID;\n    subscription_type: EmailSubscriptionType;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const Application = zodSchemaApplication();\n  export type Application = {\n    display_name: string;\n    id: UUID;\n  };\n\n  export const Application1 = zodSchemaApplication1();\n  export type Application1 = {\n    bundle_id: UUID;\n    created?: LocalDateTime | undefined | null;\n    display_name: string;\n    id?: UUID | undefined | null;\n    name: string;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const BasicAuthentication = zodSchemaBasicAuthentication();\n  export type BasicAuthentication = {\n    password?: string | undefined | null;\n    username?: string | undefined | null;\n  };\n\n  export const BehaviorGroup = zodSchemaBehaviorGroup();\n  export type BehaviorGroup = {\n    actions?: Array<BehaviorGroupAction> | undefined | null;\n    behaviors?: Array<EventTypeBehavior> | undefined | null;\n    bundle?: Bundle | undefined | null;\n    bundle_id: UUID;\n    created?: LocalDateTime | undefined | null;\n    default_behavior?: boolean | undefined | null;\n    display_name: string;\n    id?: UUID | undefined | null;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const BehaviorGroupAction = zodSchemaBehaviorGroupAction();\n  export type BehaviorGroupAction = {\n    created?: LocalDateTime | undefined | null;\n    endpoint?: Endpoint | undefined | null;\n    id?: BehaviorGroupActionId | undefined | null;\n  };\n\n  export const BehaviorGroupActionId = zodSchemaBehaviorGroupActionId();\n  export type BehaviorGroupActionId = {\n    behaviorGroupId: UUID;\n    endpointId: UUID;\n  };\n\n  export const Bundle = zodSchemaBundle();\n  export type Bundle = {\n    created?: LocalDateTime | undefined | null;\n    display_name: string;\n    id?: UUID | undefined | null;\n    name: string;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const CamelProperties = zodSchemaCamelProperties();\n  export type CamelProperties = {\n    basic_authentication?: BasicAuthentication | undefined | null;\n    disable_ssl_verification: boolean;\n    extras?:\n      | {\n          [x: string]: string;\n        }\n      | undefined\n      | null;\n    secret_token?: string | undefined | null;\n    url: string;\n  };\n\n  export const CreateBehaviorGroupRequest =\n    zodSchemaCreateBehaviorGroupRequest();\n  export type CreateBehaviorGroupRequest = {\n    bundle_id: UUID;\n    display_name: string;\n    endpoint_ids?: Array<string> | undefined | null;\n    event_type_ids?: Array<string> | undefined | null;\n  };\n\n  export const CreateBehaviorGroupResponse =\n    zodSchemaCreateBehaviorGroupResponse();\n  export type CreateBehaviorGroupResponse = {\n    bundle_id: UUID;\n    created: LocalDateTime;\n    display_name: string;\n    endpoints: Array<string>;\n    event_types: Array<string>;\n    id: UUID;\n  };\n\n  export const CurrentStatus = zodSchemaCurrentStatus();\n  export type CurrentStatus = {\n    end_time?: LocalDateTime | undefined | null;\n    start_time?: LocalDateTime | undefined | null;\n    status: Status;\n  };\n\n  export const EmailSubscriptionProperties =\n    zodSchemaEmailSubscriptionProperties();\n  export type EmailSubscriptionProperties = {\n    group_id?: UUID | undefined | null;\n    ignore_preferences: boolean;\n    only_admins: boolean;\n  };\n\n  export const EmailSubscriptionType = zodSchemaEmailSubscriptionType();\n  export type EmailSubscriptionType = 'INSTANT' | 'DAILY';\n\n  export const Endpoint = zodSchemaEndpoint();\n  export type Endpoint = {\n    created?: LocalDateTime | undefined | null;\n    description: string;\n    enabled?: boolean | undefined | null;\n    id?: UUID | undefined | null;\n    name: string;\n    properties?:\n      | (WebhookProperties | EmailSubscriptionProperties | CamelProperties)\n      | undefined\n      | null;\n    server_errors?: number | undefined | null;\n    status?: EndpointStatus | undefined | null;\n    sub_type?: string | undefined | null;\n    type: EndpointType;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const EndpointPage = zodSchemaEndpointPage();\n  export type EndpointPage = {\n    data: Array<Endpoint>;\n    links: {\n      [x: string]: string;\n    };\n    meta: Meta;\n  };\n\n  export const EndpointProperties = zodSchemaEndpointProperties();\n  export type EndpointProperties = unknown;\n\n  export const EndpointStatus = zodSchemaEndpointStatus();\n  export type EndpointStatus =\n    | 'READY'\n    | 'UNKNOWN'\n    | 'NEW'\n    | 'PROVISIONING'\n    | 'DELETING'\n    | 'FAILED';\n\n  export const EndpointType = zodSchemaEndpointType();\n  export type EndpointType =\n    | 'webhook'\n    | 'email_subscription'\n    | 'default'\n    | 'camel';\n\n  export const Environment = zodSchemaEnvironment();\n  export type Environment = 'PROD' | 'STAGE' | 'EPHEMERAL' | 'LOCAL_SERVER';\n\n  export const EventLogEntry = zodSchemaEventLogEntry();\n  export type EventLogEntry = {\n    actions: Array<EventLogEntryAction>;\n    application: string;\n    bundle: string;\n    created: LocalDateTime;\n    event_type: string;\n    id: UUID;\n    payload?: string | undefined | null;\n  };\n\n  export const EventLogEntryAction = zodSchemaEventLogEntryAction();\n  export type EventLogEntryAction = {\n    details?:\n      | {\n          [x: string]: unknown;\n        }\n      | undefined\n      | null;\n    endpoint_id?: UUID | undefined | null;\n    endpoint_sub_type?: string | undefined | null;\n    endpoint_type: EndpointType;\n    id: UUID;\n    invocation_result: boolean;\n    status: EventLogEntryActionStatus;\n  };\n\n  export const EventLogEntryActionStatus = zodSchemaEventLogEntryActionStatus();\n  export type EventLogEntryActionStatus =\n    | 'SENT'\n    | 'SUCCESS'\n    | 'PROCESSING'\n    | 'FAILED'\n    | 'UNKNOWN';\n\n  export const EventType = zodSchemaEventType();\n  export type EventType = {\n    application?: Application1 | undefined | null;\n    application_id: UUID;\n    description?: string | undefined | null;\n    display_name: string;\n    id?: UUID | undefined | null;\n    name: string;\n  };\n\n  export const EventTypeBehavior = zodSchemaEventTypeBehavior();\n  export type EventTypeBehavior = {\n    created?: LocalDateTime | undefined | null;\n    event_type?: EventType | undefined | null;\n    id?: EventTypeBehaviorId | undefined | null;\n  };\n\n  export const EventTypeBehaviorId = zodSchemaEventTypeBehaviorId();\n  export type EventTypeBehaviorId = {\n    behaviorGroupId: UUID;\n    eventTypeId: UUID;\n  };\n\n  export const Facet = zodSchemaFacet();\n  export type Facet = {\n    children?: Array<Facet> | undefined | null;\n    displayName: string;\n    id: string;\n    name: string;\n  };\n\n  export const HttpType = zodSchemaHttpType();\n  export type HttpType = 'GET' | 'POST' | 'PUT';\n\n  export const InstantEmailTemplate = zodSchemaInstantEmailTemplate();\n  export type InstantEmailTemplate = {\n    body_template?: Template | undefined | null;\n    body_template_id: UUID;\n    created?: LocalDateTime | undefined | null;\n    event_type?: EventType | undefined | null;\n    event_type_id?: UUID | undefined | null;\n    id?: UUID | undefined | null;\n    subject_template?: Template | undefined | null;\n    subject_template_id: UUID;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const InternalApplicationUserPermission =\n    zodSchemaInternalApplicationUserPermission();\n  export type InternalApplicationUserPermission = {\n    application_display_name: string;\n    application_id: UUID;\n    role: string;\n  };\n\n  export const InternalRoleAccess = zodSchemaInternalRoleAccess();\n  export type InternalRoleAccess = {\n    application_id: UUID;\n    id?: UUID | undefined | null;\n    role: string;\n  };\n\n  export const InternalUserPermissions = zodSchemaInternalUserPermissions();\n  export type InternalUserPermissions = {\n    applications: Array<Application>;\n    is_admin: boolean;\n    roles: Array<string>;\n  };\n\n  export const LocalDate = zodSchemaLocalDate();\n  export type LocalDate = string;\n\n  export const LocalDateTime = zodSchemaLocalDateTime();\n  export type LocalDateTime = string;\n\n  export const MessageValidationResponse = zodSchemaMessageValidationResponse();\n  export type MessageValidationResponse = {\n    errors: {\n      [x: string]: Array<string>;\n    };\n  };\n\n  export const Meta = zodSchemaMeta();\n  export type Meta = {\n    count: number;\n  };\n\n  export const NotificationHistory = zodSchemaNotificationHistory();\n  export type NotificationHistory = {\n    created?: LocalDateTime | undefined | null;\n    details?:\n      | {\n          [x: string]: unknown;\n        }\n      | undefined\n      | null;\n    endpointId?: UUID | undefined | null;\n    endpointSubType?: string | undefined | null;\n    endpointType?: EndpointType | undefined | null;\n    id?: UUID | undefined | null;\n    invocationResult: boolean;\n    invocationTime: number;\n    status: NotificationStatus;\n  };\n\n  export const NotificationStatus = zodSchemaNotificationStatus();\n  export type NotificationStatus =\n    | 'FAILED_INTERNAL'\n    | 'FAILED_EXTERNAL'\n    | 'PROCESSING'\n    | 'SENT'\n    | 'SUCCESS';\n\n  export const PageEventLogEntry = zodSchemaPageEventLogEntry();\n  export type PageEventLogEntry = {\n    data: Array<EventLogEntry>;\n    links: {\n      [x: string]: string;\n    };\n    meta: Meta;\n  };\n\n  export const PageEventType = zodSchemaPageEventType();\n  export type PageEventType = {\n    data: Array<EventType>;\n    links: {\n      [x: string]: string;\n    };\n    meta: Meta;\n  };\n\n  export const RenderEmailTemplateRequest =\n    zodSchemaRenderEmailTemplateRequest();\n  export type RenderEmailTemplateRequest = {\n    body_template: string;\n    payload: string;\n    subject_template: string;\n  };\n\n  export const RequestDefaultBehaviorGroupPropertyList =\n    zodSchemaRequestDefaultBehaviorGroupPropertyList();\n  export type RequestDefaultBehaviorGroupPropertyList = {\n    ignore_preferences: boolean;\n    only_admins: boolean;\n  };\n\n  export const RequestEmailSubscriptionProperties =\n    zodSchemaRequestEmailSubscriptionProperties();\n  export type RequestEmailSubscriptionProperties = {\n    group_id?: UUID | undefined | null;\n    only_admins: boolean;\n  };\n\n  export const ServerInfo = zodSchemaServerInfo();\n  export type ServerInfo = {\n    environment?: Environment | undefined | null;\n  };\n\n  export const Status = zodSchemaStatus();\n  export type Status = 'UP' | 'MAINTENANCE';\n\n  export const Template = zodSchemaTemplate();\n  export type Template = {\n    created?: LocalDateTime | undefined | null;\n    data: string;\n    description: string;\n    id?: UUID | undefined | null;\n    name: string;\n    updated?: LocalDateTime | undefined | null;\n  };\n\n  export const UUID = zodSchemaUUID();\n  export type UUID = string;\n\n  export const UpdateBehaviorGroupRequest =\n    zodSchemaUpdateBehaviorGroupRequest();\n  export type UpdateBehaviorGroupRequest = {\n    display_name?: string | undefined | null;\n    endpoint_ids?: Array<string> | undefined | null;\n    event_type_ids?: Array<string> | undefined | null;\n  };\n\n  export const WebhookProperties = zodSchemaWebhookProperties();\n  export type WebhookProperties = {\n    basic_authentication?: BasicAuthentication | undefined | null;\n    disable_ssl_verification: boolean;\n    method: HttpType;\n    secret_token?: string | undefined | null;\n    url: string;\n  };\n\n  function zodSchemaAddAccessRequest() {\n      return z\n      .object({\n          application_id: zodSchemaUUID().optional().nullable(),\n          role: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaAddApplicationRequest() {\n      return z\n      .object({\n          bundle_id: zodSchemaUUID(),\n          display_name: z.string(),\n          name: z.string(),\n          owner_role: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaAggregationEmailTemplate() {\n      return z\n      .object({\n          application: zodSchemaApplication1().optional().nullable(),\n          application_id: zodSchemaUUID().optional().nullable(),\n          body_template: zodSchemaTemplate().optional().nullable(),\n          body_template_id: zodSchemaUUID(),\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          id: zodSchemaUUID().optional().nullable(),\n          subject_template: zodSchemaTemplate().optional().nullable(),\n          subject_template_id: zodSchemaUUID(),\n          subscription_type: zodSchemaEmailSubscriptionType(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaApplication() {\n      return z\n      .object({\n          display_name: z.string(),\n          id: zodSchemaUUID()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaApplication1() {\n      return z\n      .object({\n          bundle_id: zodSchemaUUID(),\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          display_name: z.string(),\n          id: zodSchemaUUID().optional().nullable(),\n          name: z.string(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaBasicAuthentication() {\n      return z\n      .object({\n          password: z.string().optional().nullable(),\n          username: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaBehaviorGroup() {\n      return z\n      .object({\n          actions: z.array(zodSchemaBehaviorGroupAction()).optional().nullable(),\n          behaviors: z.array(zodSchemaEventTypeBehavior()).optional().nullable(),\n          bundle: zodSchemaBundle().optional().nullable(),\n          bundle_id: zodSchemaUUID(),\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          default_behavior: z.boolean().optional().nullable(),\n          display_name: z.string(),\n          id: zodSchemaUUID().optional().nullable(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaBehaviorGroupAction() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          endpoint: zodSchemaEndpoint().optional().nullable(),\n          id: zodSchemaBehaviorGroupActionId().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaBehaviorGroupActionId() {\n      return z\n      .object({\n          behaviorGroupId: zodSchemaUUID(),\n          endpointId: zodSchemaUUID()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaBundle() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          display_name: z.string(),\n          id: zodSchemaUUID().optional().nullable(),\n          name: z.string(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCamelProperties() {\n      return z\n      .object({\n          basic_authentication: zodSchemaBasicAuthentication()\n          .optional()\n          .nullable(),\n          disable_ssl_verification: z.boolean(),\n          extras: z.record(z.string()).optional().nullable(),\n          secret_token: z.string().optional().nullable(),\n          url: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCreateBehaviorGroupRequest() {\n      return z\n      .object({\n          bundle_id: zodSchemaUUID(),\n          display_name: z.string(),\n          endpoint_ids: z.array(z.string()).optional().nullable(),\n          event_type_ids: z.array(z.string()).optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCreateBehaviorGroupResponse() {\n      return z\n      .object({\n          bundle_id: zodSchemaUUID(),\n          created: zodSchemaLocalDateTime(),\n          display_name: z.string(),\n          endpoints: z.array(z.string()),\n          event_types: z.array(z.string()),\n          id: zodSchemaUUID()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaCurrentStatus() {\n      return z\n      .object({\n          end_time: zodSchemaLocalDateTime().optional().nullable(),\n          start_time: zodSchemaLocalDateTime().optional().nullable(),\n          status: zodSchemaStatus()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEmailSubscriptionProperties() {\n      return z\n      .object({\n          group_id: zodSchemaUUID().optional().nullable(),\n          ignore_preferences: z.boolean(),\n          only_admins: z.boolean()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEmailSubscriptionType() {\n      return z.enum([ 'INSTANT', 'DAILY' ]);\n  }\n\n  function zodSchemaEndpoint() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          description: z.string(),\n          enabled: z.boolean().optional().nullable(),\n          id: zodSchemaUUID().optional().nullable(),\n          name: z.string(),\n          properties: z\n          .union([\n              zodSchemaWebhookProperties(),\n              zodSchemaEmailSubscriptionProperties(),\n              zodSchemaCamelProperties()\n          ])\n          .optional()\n          .nullable(),\n          server_errors: z.number().int().optional().nullable(),\n          status: zodSchemaEndpointStatus().optional().nullable(),\n          sub_type: z.string().optional().nullable(),\n          type: zodSchemaEndpointType(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEndpointPage() {\n      return z\n      .object({\n          data: z.array(zodSchemaEndpoint()),\n          links: z.record(z.string()),\n          meta: zodSchemaMeta()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEndpointProperties() {\n      return z.unknown();\n  }\n\n  function zodSchemaEndpointStatus() {\n      return z.enum([\n          'READY',\n          'UNKNOWN',\n          'NEW',\n          'PROVISIONING',\n          'DELETING',\n          'FAILED'\n      ]);\n  }\n\n  function zodSchemaEndpointType() {\n      return z.enum([ 'webhook', 'email_subscription', 'default', 'camel' ]);\n  }\n\n  function zodSchemaEnvironment() {\n      return z.enum([ 'PROD', 'STAGE', 'EPHEMERAL', 'LOCAL_SERVER' ]);\n  }\n\n  function zodSchemaEventLogEntry() {\n      return z\n      .object({\n          actions: z.array(zodSchemaEventLogEntryAction()),\n          application: z.string(),\n          bundle: z.string(),\n          created: zodSchemaLocalDateTime(),\n          event_type: z.string(),\n          id: zodSchemaUUID(),\n          payload: z.string().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEventLogEntryAction() {\n      return z\n      .object({\n          details: z.record(z.unknown()).optional().nullable(),\n          endpoint_id: zodSchemaUUID().optional().nullable(),\n          endpoint_sub_type: z.string().optional().nullable(),\n          endpoint_type: zodSchemaEndpointType(),\n          id: zodSchemaUUID(),\n          invocation_result: z.boolean(),\n          status: zodSchemaEventLogEntryActionStatus()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEventLogEntryActionStatus() {\n      return z.enum([ 'SENT', 'SUCCESS', 'PROCESSING', 'FAILED', 'UNKNOWN' ]);\n  }\n\n  function zodSchemaEventType() {\n      return z\n      .object({\n          application: zodSchemaApplication1().optional().nullable(),\n          application_id: zodSchemaUUID(),\n          description: z.string().optional().nullable(),\n          display_name: z.string(),\n          id: zodSchemaUUID().optional().nullable(),\n          name: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEventTypeBehavior() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          event_type: zodSchemaEventType().optional().nullable(),\n          id: zodSchemaEventTypeBehaviorId().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaEventTypeBehaviorId() {\n      return z\n      .object({\n          behaviorGroupId: zodSchemaUUID(),\n          eventTypeId: zodSchemaUUID()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaFacet() {\n      return z\n      .object({\n          children: z\n          .array(z.lazy(() => zodSchemaFacet()))\n          .optional()\n          .nullable(),\n          displayName: z.string(),\n          id: z.string(),\n          name: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaHttpType() {\n      return z.enum([ 'GET', 'POST', 'PUT' ]);\n  }\n\n  function zodSchemaInstantEmailTemplate() {\n      return z\n      .object({\n          body_template: zodSchemaTemplate().optional().nullable(),\n          body_template_id: zodSchemaUUID(),\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          event_type: zodSchemaEventType().optional().nullable(),\n          event_type_id: zodSchemaUUID().optional().nullable(),\n          id: zodSchemaUUID().optional().nullable(),\n          subject_template: zodSchemaTemplate().optional().nullable(),\n          subject_template_id: zodSchemaUUID(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaInternalApplicationUserPermission() {\n      return z\n      .object({\n          application_display_name: z.string(),\n          application_id: zodSchemaUUID(),\n          role: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaInternalRoleAccess() {\n      return z\n      .object({\n          application_id: zodSchemaUUID(),\n          id: zodSchemaUUID().optional().nullable(),\n          role: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaInternalUserPermissions() {\n      return z\n      .object({\n          applications: z.array(zodSchemaApplication()),\n          is_admin: z.boolean(),\n          roles: z.array(z.string())\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaLocalDate() {\n      return z.string();\n  }\n\n  function zodSchemaLocalDateTime() {\n      return z.string();\n  }\n\n  function zodSchemaMessageValidationResponse() {\n      return z\n      .object({\n          errors: z.record(z.array(z.string()))\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaMeta() {\n      return z\n      .object({\n          count: z.number().int()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaNotificationHistory() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          details: z.record(z.unknown()).optional().nullable(),\n          endpointId: zodSchemaUUID().optional().nullable(),\n          endpointSubType: z.string().optional().nullable(),\n          endpointType: zodSchemaEndpointType().optional().nullable(),\n          id: zodSchemaUUID().optional().nullable(),\n          invocationResult: z.boolean(),\n          invocationTime: z.number().int(),\n          status: zodSchemaNotificationStatus()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaNotificationStatus() {\n      return z.enum([\n          'FAILED_INTERNAL',\n          'FAILED_EXTERNAL',\n          'PROCESSING',\n          'SENT',\n          'SUCCESS'\n      ]);\n  }\n\n  function zodSchemaPageEventLogEntry() {\n      return z\n      .object({\n          data: z.array(zodSchemaEventLogEntry()),\n          links: z.record(z.string()),\n          meta: zodSchemaMeta()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaPageEventType() {\n      return z\n      .object({\n          data: z.array(zodSchemaEventType()),\n          links: z.record(z.string()),\n          meta: zodSchemaMeta()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRenderEmailTemplateRequest() {\n      return z\n      .object({\n          body_template: z.string(),\n          payload: z.string(),\n          subject_template: z.string()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRequestDefaultBehaviorGroupPropertyList() {\n      return z\n      .object({\n          ignore_preferences: z.boolean(),\n          only_admins: z.boolean()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaRequestEmailSubscriptionProperties() {\n      return z\n      .object({\n          group_id: zodSchemaUUID().optional().nullable(),\n          only_admins: z.boolean()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaServerInfo() {\n      return z\n      .object({\n          environment: zodSchemaEnvironment().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaStatus() {\n      return z.enum([ 'UP', 'MAINTENANCE' ]);\n  }\n\n  function zodSchemaTemplate() {\n      return z\n      .object({\n          created: zodSchemaLocalDateTime().optional().nullable(),\n          data: z.string(),\n          description: z.string(),\n          id: zodSchemaUUID().optional().nullable(),\n          name: z.string(),\n          updated: zodSchemaLocalDateTime().optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaUUID() {\n      return z.string();\n  }\n\n  function zodSchemaUpdateBehaviorGroupRequest() {\n      return z\n      .object({\n          display_name: z.string().optional().nullable(),\n          endpoint_ids: z.array(z.string()).optional().nullable(),\n          event_type_ids: z.array(z.string()).optional().nullable()\n      })\n      .nonstrict();\n  }\n\n  function zodSchemaWebhookProperties() {\n      return z\n      .object({\n          basic_authentication: zodSchemaBasicAuthentication()\n          .optional()\n          .nullable(),\n          disable_ssl_verification: z.boolean(),\n          method: zodSchemaHttpType(),\n          secret_token: z.string().optional().nullable(),\n          url: z.string()\n      })\n      .nonstrict();\n  }\n}\n\nexport namespace Operations {\n  // GET /api/notifications/v1.0/status\n  export namespace StatusResourceGetCurrentStatus {\n    export type Payload =\n      | ValidatedResponse<'CurrentStatus', 200, Schemas.CurrentStatus>\n      | ValidatedResponse<'unknown', undefined, unknown>;\n    export type ActionCreator = Action<Payload, ActionValidatableConfig>;\n    export const actionCreator = (): ActionCreator => {\n        const path = '/api/notifications/v1.0/status';\n        const query = {} as Record<string, any>;\n        return actionBuilder('GET', path)\n        .queryParams(query)\n        .config({\n            rules: [\n                new ValidateRule(Schemas.CurrentStatus, 'CurrentStatus', 200)\n            ]\n        })\n        .build();\n    };\n  }\n}\n","import { fromUtc } from '@redhat-cloud-services/insights-common-typescript';\n\nimport { Schemas } from '../../generated/OpenapiNotifications';\nimport { Server, ServerStatus } from '../Server';\n\nexport const toServer = (currentStatus: Schemas.CurrentStatus): Server => {\n  if (currentStatus.status === Schemas.Status.Enum.MAINTENANCE) {\n    return {\n      status: ServerStatus.MAINTENANCE,\n      from: fromUtc(\n        currentStatus.start_time\n          ? new Date(currentStatus.start_time)\n          : new Date()\n      ),\n      to: fromUtc(\n        currentStatus.end_time ? new Date(currentStatus.end_time) : new Date()\n      ),\n    };\n  }\n\n  return {\n    status: ServerStatus.RUNNING,\n  };\n};\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../generated/OpenapiPrivate';\nimport { toServer } from '../types/adapters/ServerAdapter';\n\nconst adapter = validationResponseTransformer(\n  (payload: Operations.StatusResourceGetCurrentStatus.Payload) => {\n    if (payload.status === 200) {\n      return validatedResponse(\n        'ServerStatus',\n        200,\n        toServer(payload.value),\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useGetServerStatus = () => {\n  return useTransformQueryResponse(\n    useQuery(Operations.StatusResourceGetCurrentStatus.actionCreator()),\n    adapter\n  );\n};\n","import useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport {\n  Rbac,\n  fetchRBAC,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { useEffect, useState } from 'react';\n\nimport Config from '../config/Config';\nimport { useGetServerStatus } from '../services/GetServerStatus';\nimport { Server } from '../types/Server';\nimport { AppContext } from './AppContext';\n\nexport const useApp = (): Partial<AppContext> => {\n  const chrome = useChrome();\n  const serverStatus = useGetServerStatus();\n  const [rbac, setRbac] = useState<Rbac>();\n  const [server, setServer] = useState<Server>();\n  const [isOrgAdmin, setOrgAdmin] = useState<boolean>(false);\n\n  useEffect(() => {\n    const appId = chrome.getApp();\n    switch (appId) {\n      case Config.notifications.subAppId:\n        document.title = Config.notifications.title;\n        break;\n      case Config.integrations.subAppId:\n        document.title = Config.integrations.title;\n        break;\n    }\n    // Chrome object is changed when the user is changed\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (serverStatus.payload?.type === 'ServerStatus') {\n      setServer(serverStatus.payload.value);\n    }\n  }, [serverStatus.payload]);\n\n  useEffect(() => {\n    chrome.auth.getUser().then((user) => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      setOrgAdmin((user as any).identity.user.is_org_admin);\n      fetchRBAC(\n        `${Config.notifications.subAppId},${Config.integrations.subAppId}`\n      ).then(setRbac);\n    });\n    // Chrome object is changed when the user is changed\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return {\n    rbac: rbac\n      ? {\n          canWriteNotifications: rbac.hasPermission(\n            'notifications',\n            'notifications',\n            'write'\n          ),\n          canReadNotifications: rbac.hasPermission(\n            'notifications',\n            'notifications',\n            'read'\n          ),\n          canWriteIntegrationsEndpoints: rbac.hasPermission(\n            'integrations',\n            'endpoints',\n            'write'\n          ),\n          canReadIntegrationsEndpoints: rbac.hasPermission(\n            'integrations',\n            'endpoints',\n            'read'\n          ),\n          canReadEvents: rbac.hasPermission('notifications', 'events', 'read'),\n        }\n      : undefined,\n    isOrgAdmin,\n    server,\n  };\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateHeader,\n  EmptyStateIcon,\n  EmptyStateVariant,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport React from 'react';\n\ninterface EmptyStateSearchProps {\n  className?: string;\n  variant?: EmptyStateVariant;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  icon?: React.ComponentClass<any>;\n  title: string;\n  headingLevel?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n  description: string;\n}\n\nexport const EmptyStateSearch: React.FunctionComponent<\n  EmptyStateSearchProps\n> = (props) => {\n  return (\n    <EmptyState\n      className={`pf-v5-u-background-color-100 ${props.className}`}\n      variant={props.variant}\n    >\n      <EmptyStateHeader\n        titleText={<>{props.title}</>}\n        icon={<EmptyStateIcon icon={props.icon ?? SearchIcon} />}\n        headingLevel={props.headingLevel ?? 'h3'}\n      />\n      <EmptyStateBody>{props.description}</EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import React from 'react';\n\ninterface StatusProps {\n  text: string;\n}\n\nexport const Status: React.FunctionComponent<\n  React.PropsWithChildren<StatusProps>\n> = (props) => (\n  <span>\n    {props.children}\n    <span className=\"pg-v5-u-ml-sm\">{props.text}</span>\n  </span>\n);\n","// Wrapper for the NotificationPortal component to manually inject the store\n// This is just a workaround, as the component is not (apparently) loading the store properly\n\nimport { NotificationPortal as NP } from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport * as React from 'react';\nimport { useStore } from 'react-redux';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst AnyNotificationsPortal = NP as any;\n\nexport const NotificationsPortal: React.FunctionComponent = (props) => {\n  const store = useStore();\n  return <AnyNotificationsPortal store={store} {...props} />;\n};\n","import {\n  Table,\n  TableVariant,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from '@patternfly/react-table/dist/dynamic/components/Table';\nimport { important } from 'csx';\nimport * as React from 'react';\nimport { style } from 'typestyle';\n\nconst removeBorderBottomClass = style({\n  borderBottom: important('none'),\n});\n\nexport interface TableHelpProps {\n  tableBody: ReadonlyArray<[React.ReactNode, React.ReactNode]>;\n}\n\nexport const TableHelp: React.FunctionComponent<\n  React.PropsWithChildren<TableHelpProps>\n> = (props) => {\n  return (\n    <Table variant={TableVariant.compact} borders={false}>\n      <Thead>\n        <Tr className={removeBorderBottomClass}>\n          <Th>Status</Th>\n          <Th>Meaning</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {props.tableBody.map(([status, meaning], index) => (\n          <Tr key={index}>\n            <Td>{status}</Td>\n            <Td>{meaning}</Td>\n          </Tr>\n        ))}\n      </Tbody>\n    </Table>\n  );\n};\n","import { assertNever } from 'assert-never';\nimport { useMemo, useReducer } from 'react';\n\nenum UseDeleteModalReducerActionType {\n  DELETE = 'delete',\n  RESET = 'reset',\n}\n\ninterface UseDeleteModalActionDelete<T> {\n  type: UseDeleteModalReducerActionType.DELETE;\n  data: T;\n}\n\ninterface UseDeleteModalActionReset {\n  type: UseDeleteModalReducerActionType.RESET;\n}\n\ntype UseDeleteModalReducerAction<T> =\n  | UseDeleteModalActionDelete<T>\n  | UseDeleteModalActionReset;\n\ntype UseDeleteModalReducerState<T> =\n  | {\n      isOpen: false;\n      data: undefined;\n    }\n  | {\n      isOpen: true;\n      data: T;\n    };\n\nconst initialState: UseDeleteModalReducerState<undefined> = {\n  isOpen: false,\n  data: undefined,\n};\n\ntype ReducerFunction<T> = (\n  state: UseDeleteModalReducerState<T>,\n  action: UseDeleteModalReducerAction<T>\n) => UseDeleteModalReducerState<T>;\ntype ReducerActions<T> = {\n  delete: (data: T) => void;\n  reset: () => void;\n};\n\nconst reducer = <T>(\n  state: UseDeleteModalReducerState<T>,\n  action: UseDeleteModalReducerAction<T>\n): UseDeleteModalReducerState<T> => {\n  switch (action.type) {\n    case UseDeleteModalReducerActionType.DELETE:\n      return {\n        isOpen: true,\n        data: action.data,\n      };\n    case UseDeleteModalReducerActionType.RESET:\n      return initialState;\n    default:\n      assertNever(action);\n  }\n};\n\nconst makeDeleteAction = <T>(data: T): UseDeleteModalActionDelete<T> => ({\n  type: UseDeleteModalReducerActionType.DELETE,\n  data,\n});\n\nconst makeResetAction = (): UseDeleteModalActionReset => ({\n  type: UseDeleteModalReducerActionType.RESET,\n});\n\nexport const useDeleteModalReducer = <T>(): [\n  UseDeleteModalReducerState<T>,\n  ReducerActions<T>\n] => {\n  const [state, dispatch] = useReducer<ReducerFunction<T>>(\n    reducer,\n    initialState\n  );\n\n  const actions = useMemo<ReducerActions<T>>(\n    () => ({\n      delete: (data) => dispatch(makeDeleteAction(data)),\n      reset: () => dispatch(makeResetAction()),\n    }),\n    [dispatch]\n  );\n\n  return [state, actions];\n};\n","import { assertNever } from 'assert-never';\nimport { useMemo, useReducer } from 'react';\n\nenum UseFormModalReducerActionType {\n  EDIT = 'edit',\n  TEST = 'test',\n  CREATE = 'create',\n  RESET = 'reset',\n}\n\ninterface UseFormModalReducerActionCreate<T> {\n  type: UseFormModalReducerActionType.CREATE;\n  template?: Partial<T>;\n}\n\ninterface UseFormModalReducerActionEdit<T> {\n  type: UseFormModalReducerActionType.EDIT;\n  template: T;\n}\n\ninterface UseFormModalReducerActionTest<T> {\n  type: UseFormModalReducerActionType.TEST;\n  template: T;\n}\n\ninterface UseFormModalReducerActionReset {\n  type: UseFormModalReducerActionType.RESET;\n}\n\ntype UseFormModalReducerAction<T> =\n  | UseFormModalReducerActionCreate<T>\n  | UseFormModalReducerActionTest<T>\n  | UseFormModalReducerActionEdit<T>\n  | UseFormModalReducerActionReset;\n\ntype ReducerAction<T> = {\n  create: (template?: Partial<T>) => void;\n  test: (template: T) => void;\n  edit: (template: T) => void;\n  reset: () => void;\n};\n\ninterface UseFormModalReducerState<T> {\n  isOpen: boolean;\n  isEdit: boolean;\n  isTest: boolean;\n  template: T | Partial<T> | undefined;\n  isCopy: boolean;\n}\n\nconst initialState: UseFormModalReducerState<undefined> = {\n  isOpen: false,\n  isEdit: false,\n  isTest: false,\n  template: undefined,\n  isCopy: false,\n};\n\ntype CopyFunction<T> = (from: Partial<T>) => Partial<T>;\n\nconst buildReducer = <T>(copyFunction?: CopyFunction<T>) => {\n  const reducer = (\n    state: UseFormModalReducerState<T>,\n    action: UseFormModalReducerAction<T>\n  ): UseFormModalReducerState<T> => {\n    switch (action.type) {\n      case UseFormModalReducerActionType.CREATE:\n        return {\n          isOpen: true,\n          isEdit: false,\n          isTest: false,\n          template: action.template\n            ? copyFunction\n              ? copyFunction(action.template)\n              : action.template\n            : undefined,\n          isCopy: !!action.template,\n        };\n      case UseFormModalReducerActionType.TEST:\n        return {\n          isOpen: false,\n          isEdit: false,\n          isTest: true,\n          template: action.template,\n          isCopy: false,\n        };\n      case UseFormModalReducerActionType.EDIT:\n        return {\n          isOpen: true,\n          isEdit: true,\n          isTest: false,\n          template: action.template,\n          isCopy: false,\n        };\n      case UseFormModalReducerActionType.RESET:\n        return initialState;\n      default:\n        assertNever(action);\n    }\n  };\n\n  return reducer;\n};\n\nconst makeCreateAction = <T>(\n  template?: Partial<T>\n): UseFormModalReducerActionCreate<T> => ({\n  type: UseFormModalReducerActionType.CREATE,\n  template,\n});\n\nconst makeEditAction = <T>(template: T): UseFormModalReducerActionEdit<T> => ({\n  type: UseFormModalReducerActionType.EDIT,\n  template,\n});\n\nconst makeTestAction = <T>(template: T): UseFormModalReducerActionTest<T> => ({\n  type: UseFormModalReducerActionType.TEST,\n  template,\n});\n\nconst makeResetAction = (): UseFormModalReducerActionReset => ({\n  type: UseFormModalReducerActionType.RESET,\n});\n\nexport const useFormModalReducer = <T>(\n  copyFunction?: CopyFunction<T>\n): [UseFormModalReducerState<T>, ReducerAction<T>] => {\n  const reducer = useMemo(() => {\n    return buildReducer(copyFunction);\n  }, [copyFunction]);\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const actions = useMemo<ReducerAction<T>>(\n    () => ({\n      create: (data?: Partial<T>) => dispatch(makeCreateAction(data)),\n      test: (data: T) => dispatch(makeTestAction(data)),\n      edit: (data: T) => dispatch(makeEditAction(data)),\n      reset: () => dispatch(makeResetAction()),\n    }),\n    [dispatch]\n  );\n\n  return [state, actions];\n};\n","import {\n  getInsights,\n  getInsightsEnvironment,\n} from '@redhat-cloud-services/insights-common-typescript';\n\nimport { getIntegrationActions } from '../config/Config';\nimport { IntegrationCategory, UserIntegrationType } from '../types/Integration';\n\nexport const useIntegrations = (\n  category?: IntegrationCategory\n): ReadonlyArray<UserIntegrationType> => {\n  const insights = getInsights();\n  const environment = getInsightsEnvironment(insights);\n\n  return getIntegrationActions(environment, category);\n};\n","import {\n  Button,\n  ButtonVariant,\n  Card,\n  CardBody,\n  CardHeader,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateFooter,\n  EmptyStateHeader,\n  EmptyStateIcon,\n  Gallery,\n  Icon,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport {\n  ArrowRightIcon,\n  CogIcon,\n  CubesIcon,\n  HelpIcon,\n  InfrastructureIcon,\n} from '@patternfly/react-icons';\nimport React from 'react';\n\nimport { Messages } from '../../properties/Messages';\nimport { Link } from 'react-router-dom';\nimport { useAppContext } from '../../app/AppContext';\nimport { SVGIconProps } from '@patternfly/react-icons/dist/esm/createIcon';\n\nconst EmptyIntegrationCard: React.FunctionComponent<{\n  TitleIcon: React.ComponentClass<SVGIconProps, unknown>;\n  title: string;\n  body: string;\n  link: string;\n  isOrgAdmin: boolean;\n}> = ({ TitleIcon, title, body, link, isOrgAdmin }) => {\n  return (\n    <Card\n      isFullHeight\n      isPlain\n      style={{ maxWidth: isOrgAdmin ? '106ch' : '70ch' }}\n    >\n      <CardHeader>\n        <Icon className=\"pf-v5-u-pl-sm pf-v5-u-pr-lg\">\n          <TitleIcon className=\"pf-v5-u-link-color\" />\n        </Icon>\n        <TextContent>\n          <Text component={TextVariants.h4}>{title}</Text>\n        </TextContent>\n      </CardHeader>\n      <CardBody className=\"pf-v5-u-display-flex\">\n        <TextContent className=\"pf-v5-u-display-flex pf-v5-u-flex-direction-column pf-v5-u-align-self-stretch\">\n          <Text component={TextVariants.p} className=\"pf-u-flex-grow-1\">\n            {body}\n          </Text>\n          <Text component={TextVariants.p}>\n            <Link to={link} target=\"_blank\">\n              Learn more\n              <Icon className=\"pf-u-ml-sm\" isInline>\n                <ArrowRightIcon />\n              </Icon>\n            </Link>\n          </Text>\n        </TextContent>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport const IntegrationsEmptyState: React.FunctionComponent<{\n  onAddIntegration: (() => void) | undefined;\n}> = ({ onAddIntegration }) => {\n  const { isOrgAdmin } = useAppContext();\n  return (\n    <div className=\"pf-v5-l-flex pf-m-justify-content-center\">\n      <EmptyState>\n        <EmptyStateHeader\n          titleText=\"No integrations yet\"\n          icon={<EmptyStateIcon icon={CubesIcon} />}\n          headingLevel={TextVariants.h4}\n        />\n        <EmptyStateBody>\n          <Gallery\n            aria-label=\"Card container\"\n            minWidths={{ default: '100%', md: isOrgAdmin ? '30%' : '40%' }}\n            hasGutter\n            className=\"pf-v5-u-text-align-left\"\n          >\n            <EmptyIntegrationCard\n              isOrgAdmin={isOrgAdmin}\n              TitleIcon={HelpIcon}\n              title=\"Why integrate?\"\n              body=\"Integrating third-party applications expands the scope of notifications beyond emails and messages, so that you can view and manage Hybrid Cloud Console events from your preferred platform dashboard.\"\n              link=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications\"\n            />\n            <EmptyIntegrationCard\n              isOrgAdmin={isOrgAdmin}\n              TitleIcon={CogIcon}\n              title=\"Configure applications\"\n              body=\"To prepare for integration with the Hybrid Cloud Console, you must configure incoming webhooks in your third-party applications.\"\n              link=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/configuring_notifications_on_the_red_hat_hybrid_cloud_console/assembly-intro_notifications\"\n            />\n            {isOrgAdmin && (\n              <EmptyIntegrationCard\n                isOrgAdmin={isOrgAdmin}\n                TitleIcon={InfrastructureIcon}\n                title=\"Create behavior groups\"\n                body=\"A behavior group defines which notifications will be sent to external services when a specific event is received by the notifications service. You can link events from any Hybrid Cloud Console service to your behavior group.\"\n                link=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/configuring_notifications_on_the_red_hat_hybrid_cloud_console/assembly-config-behavior-groups_notifications\"\n              />\n            )}\n          </Gallery>\n        </EmptyStateBody>\n        <EmptyStateFooter>\n          <Button\n            variant={ButtonVariant.primary}\n            component=\"a\"\n            disabled={!onAddIntegration}\n            onClick={() => (onAddIntegration ? onAddIntegration() : null)}\n          >\n            {Messages.components.integrations.toolbar.actions.addIntegration}\n          </Button>\n        </EmptyStateFooter>\n      </EmptyState>\n    </div>\n  );\n};\n","import { IntegrationConnectionAttempt } from '../types/Integration';\n\nexport enum AggregatedConnectionAttemptStatus {\n  UNKNOWN,\n  SUCCESS,\n  WARNING,\n  ERROR,\n}\n\nexport const aggregateConnectionAttemptStatus = (\n  attempts: Array<IntegrationConnectionAttempt> | undefined\n): AggregatedConnectionAttemptStatus => {\n  if (!attempts || attempts.length === 0) {\n    return AggregatedConnectionAttemptStatus.UNKNOWN;\n  }\n\n  const failures = attempts.filter((a) => !a.isSuccess).length;\n\n  if (failures === attempts.length) {\n    return AggregatedConnectionAttemptStatus.ERROR;\n  } else if (failures > 0) {\n    return AggregatedConnectionAttemptStatus.WARNING;\n  }\n\n  return AggregatedConnectionAttemptStatus.SUCCESS;\n};\n","import { Icon } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n} from '@patternfly/react-icons';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { assertNever } from 'assert-never';\nimport * as React from 'react';\n\nexport interface ConnectionAttemptProps {\n  type: ConnectionAttemptType;\n  date: Date;\n}\n\nexport enum ConnectionAttemptType {\n  SUCCESS,\n  FAILED,\n}\n\nconst getIcon = (type: ConnectionAttemptType) => {\n  switch (type) {\n    case ConnectionAttemptType.SUCCESS:\n      return (\n        <Icon status=\"success\">\n          <CheckCircleIcon />\n        </Icon>\n      );\n    case ConnectionAttemptType.FAILED:\n      return (\n        <Icon status=\"danger\">\n          <ExclamationCircleIcon />\n        </Icon>\n      );\n    default:\n      assertNever(type);\n  }\n};\n\nexport const ConnectionAttempt: React.FunctionComponent<\n  ConnectionAttemptProps\n> = (props) => {\n  return (\n    <>\n      {getIcon(props.type)}\n      <span className=\"pf-v5-u-ml-xs\">\n        <DateFormat type=\"relative\" date={props.date} />\n      </span>\n    </>\n  );\n};\n","import { Alert, AlertVariant } from '@patternfly/react-core';\nimport { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { IntegrationConnectionAttempt } from '../../../types/Integration';\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { ConnectionAttempt, ConnectionAttemptType } from './ConnectionAttempt';\n\ninterface ConnectionAlertProps extends OuiaComponentProps {\n  attempts: Array<IntegrationConnectionAttempt>;\n  alertVariant: AlertVariant;\n  description: string;\n  title: string;\n}\n\nexport const ConnectionAlert: React.FunctionComponent<ConnectionAlertProps> = (\n  props\n) => {\n  return (\n    <div {...getOuiaProps('ConnectionAlert', props)}>\n      <Alert title={props.title} variant={props.alertVariant} isInline>\n        <p className=\"pf-v5-u-mt-sm\">{props.description}</p>\n        <p className=\"pf-v5-u-mt-sm\">\n          Last attempts:{' '}\n          {props.attempts.map((attempt, index) => (\n            <span key={index} className=\"pf-v5-u-ml-sm\">\n              <ConnectionAttempt\n                type={\n                  attempt.isSuccess\n                    ? ConnectionAttemptType.SUCCESS\n                    : ConnectionAttemptType.FAILED\n                }\n                date={attempt.date}\n              />\n            </span>\n          ))}\n        </p>\n      </Alert>\n    </div>\n  );\n};\n","import { AlertVariant } from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { IntegrationConnectionAttempt } from '../../../types/Integration';\nimport { ConnectionAlert } from './ConnectionAlert';\n\ninterface ConnectionDegradedProps {\n  attempts: Array<IntegrationConnectionAttempt>;\n}\n\nexport const ConnectionDegraded: React.FunctionComponent<\n  ConnectionDegradedProps\n> = (props) => {\n  const description = React.useMemo(() => {\n    const failures = props.attempts.filter((a) => !a.isSuccess).length;\n    const attempts = props.attempts.length;\n\n    if (failures === 1) {\n      return `This connection has had 1 failure in the last ${attempts} connection attempts.`;\n    }\n\n    return `This connection has had ${failures} failures in the last ${attempts} connection attempts.`;\n  }, [props.attempts]);\n\n  return (\n    <ConnectionAlert\n      attempts={props.attempts}\n      alertVariant={AlertVariant.warning}\n      description={description}\n      title=\"Connection is degraded\"\n    />\n  );\n};\n","import { AlertVariant } from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { IntegrationConnectionAttempt } from '../../../types/Integration';\nimport { ConnectionAlert } from './ConnectionAlert';\n\ninterface ConnectionFailedProps {\n  attempts: Array<IntegrationConnectionAttempt>;\n}\n\nexport const ConnectionFailed: React.FunctionComponent<\n  ConnectionFailedProps\n> = (props) => {\n  return (\n    <ConnectionAlert\n      attempts={props.attempts}\n      alertVariant={AlertVariant.danger}\n      description=\"This connection has failed the most recent connection attempts.\"\n      title=\"Failed connection\"\n    />\n  );\n};\n","import {\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { CamelIntegrationType } from '../../../../types/Integration';\nimport { getOuiaProps } from '../../../../utils/getOuiaProps';\nimport {\n  ExpandedContentProps,\n  expandedContentTitleClass,\n} from '../ExpandedContent';\n\nexport const GoogleChatExpandedContent: React.FunctionComponent<\n  ExpandedContentProps<CamelIntegrationType>\n> = (props) => {\n  return (\n    <TextContent\n      {...getOuiaProps('Integrations/Table/GoogleChatExpandedContent', props)}\n    >\n      <TextList component={TextListVariants.dl}>\n        <TextListItem\n          className={expandedContentTitleClass}\n          component={TextListItemVariants.dt}\n        >\n          Endpoint URL\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {props.integration.url}\n        </TextListItem>\n      </TextList>\n    </TextContent>\n  );\n};\n","import {\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { UserIntegrationType } from '../../../../types/Integration';\nimport { getOuiaProps } from '../../../../utils/getOuiaProps';\nimport {\n  ExpandedContentProps,\n  expandedContentTitleClass,\n} from '../ExpandedContent';\n\nexport const IntegrationExpandedContent: React.FunctionComponent<\n  ExpandedContentProps<UserIntegrationType>\n> = (props) => {\n  return (\n    <TextContent\n      {...getOuiaProps('Integrations/Table/IntegrationExpandedContent', props)}\n    >\n      <TextList component={TextListVariants.dl}>\n        <TextListItem\n          className={expandedContentTitleClass}\n          component={TextListItemVariants.dt}\n        >\n          Endpoint URL\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {props.integration.url}\n        </TextListItem>\n        <TextListItem\n          className={expandedContentTitleClass}\n          component={TextListItemVariants.dt}\n        >\n          SSL verification\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {props.integration.sslVerificationEnabled ? 'Enabled' : 'Disabled'}\n        </TextListItem>\n        {'secretToken' in props.integration && (\n          <>\n            <TextListItem\n              className={expandedContentTitleClass}\n              component={TextListItemVariants.dt}\n            >\n              Authentication type\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {props.integration.secretToken !== undefined\n                ? 'Secret token'\n                : 'None'}\n            </TextListItem>\n          </>\n        )}\n      </TextList>\n    </TextContent>\n  );\n};\n","import {\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { CamelIntegrationType } from '../../../../types/Integration';\nimport { getOuiaProps } from '../../../../utils/getOuiaProps';\nimport {\n  ExpandedContentProps,\n  expandedContentTitleClass,\n} from '../ExpandedContent';\n\nexport const SlackExpandedContent: React.FunctionComponent<\n  ExpandedContentProps<CamelIntegrationType>\n> = (props) => {\n  return (\n    <TextContent\n      {...getOuiaProps('Integrations/Table/SlackExpandedContent', props)}\n    >\n      <TextList component={TextListVariants.dl}>\n        <TextListItem\n          className={expandedContentTitleClass}\n          component={TextListItemVariants.dt}\n        >\n          Endpoint URL\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {props.integration.url}\n        </TextListItem>\n      </TextList>\n    </TextContent>\n  );\n};\n","import {\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { CamelIntegrationType } from '../../../../types/Integration';\nimport { getOuiaProps } from '../../../../utils/getOuiaProps';\nimport {\n  ExpandedContentProps,\n  expandedContentTitleClass,\n} from '../ExpandedContent';\n\nexport const TeamsExpandedContent: React.FunctionComponent<\n  ExpandedContentProps<CamelIntegrationType>\n> = (props) => {\n  return (\n    <TextContent\n      {...getOuiaProps('Integrations/Table/TeamsExpandedContent', props)}\n    >\n      <TextList component={TextListVariants.dl}>\n        <TextListItem\n          className={expandedContentTitleClass}\n          component={TextListItemVariants.dt}\n        >\n          Endpoint URL\n        </TextListItem>\n        <TextListItem component={TextListItemVariants.dd}>\n          {props.integration.url}\n        </TextListItem>\n      </TextList>\n    </TextContent>\n  );\n};\n","import { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { style } from 'typestyle';\n\nimport {\n  IntegrationCamel,\n  IntegrationType,\n  TypedIntegration,\n  UserIntegrationType,\n} from '../../../types/Integration';\nimport { GoogleChatExpandedContent } from './ExpandedContent/GoogleChatExpandedContent';\nimport { IntegrationExpandedContent } from './ExpandedContent/IntegrationExpandedContent';\nimport { SlackExpandedContent } from './ExpandedContent/SlackExpandedContent';\nimport { TeamsExpandedContent } from './ExpandedContent/TeamsExpandedContent';\n\nexport const expandedContentTitleClass = style({\n  fontWeight: 400,\n});\n\nexport interface ExpandedContentProps<T extends IntegrationType>\n  extends OuiaComponentProps {\n  integration: TypedIntegration<T>;\n}\n\nexport const ExpandedContent: React.FunctionComponent<\n  ExpandedContentProps<UserIntegrationType>\n> = (props) => {\n  if (props.integration.type === IntegrationType.SLACK) {\n    return (\n      <SlackExpandedContent\n        integration={props.integration as IntegrationCamel}\n      />\n    );\n  }\n\n  if (props.integration.type === IntegrationType.TEAMS) {\n    return (\n      <TeamsExpandedContent\n        integration={props.integration as IntegrationCamel}\n      />\n    );\n  }\n\n  if (props.integration.type === IntegrationType.GOOGLE_CHAT) {\n    return (\n      <GoogleChatExpandedContent\n        integration={props.integration as IntegrationCamel}\n      />\n    );\n  }\n\n  return <IntegrationExpandedContent {...props} />;\n};\n","import { HelperText, HelperTextItem } from '@patternfly/react-core';\nimport * as React from 'react';\nimport { style } from 'typestyle';\nconst degradedClassName = style({\n  fontWeight: 600,\n});\n\nexport interface DegradedProps {\n  isDegraded?: boolean;\n}\n\nexport const Degraded: React.FunctionComponent<\n  React.PropsWithChildren<DegradedProps>\n> = (props) => (\n  <>\n    {props.children}\n    {props.isDegraded && (\n      <HelperText>\n        <HelperTextItem className={degradedClassName} variant=\"warning\">\n          Degraded connection\n        </HelperTextItem>\n      </HelperText>\n    )}\n  </>\n);\n","import { Icon, Popover, Skeleton } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  InProgressIcon,\n  UnknownIcon,\n} from '@patternfly/react-icons';\nimport React from 'react';\n\nimport {\n  Integration,\n  IntegrationConnectionAttempt,\n} from '../../../types/Integration';\nimport {\n  AggregatedConnectionAttemptStatus,\n  aggregateConnectionAttemptStatus,\n} from '../../../utils/ConnectionAttemptStatus';\nimport { Degraded, DegradedProps } from '../../Status/Degraded';\nimport { Status } from '../../Status/Status';\n\nexport interface IntegrationStatusProps {\n  status: Integration['status'];\n  lastConnectionAttempts: Array<IntegrationConnectionAttempt> | undefined;\n  includeDetails: boolean;\n}\n\nexport interface StatusCreationFailureProps {\n  includeDetails: boolean;\n}\n\nexport const IntegrationStatus: React.FunctionComponent<\n  IntegrationStatusProps\n> = (props) => {\n  const status = props.status ?? 'UNKNOWN';\n  if (\n    status === 'FAILED' ||\n    status === 'PROVISIONING' ||\n    status === 'DELETING'\n  ) {\n    switch (status) {\n      case 'FAILED':\n        return <StatusCreationFailure includeDetails={props.includeDetails} />;\n      case 'DELETING':\n      case 'PROVISIONING':\n        return <StatusProcessing />;\n    }\n  }\n\n  if (!props.lastConnectionAttempts) {\n    return <Skeleton data-testid=\"skeleton-loading\" width=\"80%\" />;\n  }\n\n  const aggregatedConnectionAttemptStatus = aggregateConnectionAttemptStatus(\n    props.lastConnectionAttempts\n  );\n\n  // No attempts found\n  if (\n    aggregatedConnectionAttemptStatus ===\n    AggregatedConnectionAttemptStatus.UNKNOWN\n  ) {\n    return <StatusReady />;\n  }\n\n  const lastConnectionAttemptStatus = props.lastConnectionAttempts[0].isSuccess;\n  const isDegraded =\n    aggregatedConnectionAttemptStatus ===\n    AggregatedConnectionAttemptStatus.WARNING;\n  if (lastConnectionAttemptStatus) {\n    return <StatusSuccess isDegraded={isDegraded} />;\n  } else {\n    return <StatusEventFailure isDegraded={isDegraded} />;\n  }\n};\n\nexport const StatusSuccess: React.FunctionComponent<DegradedProps> = (\n  props\n) => (\n  <Degraded isDegraded={props.isDegraded}>\n    <Status text=\"Success\">\n      <Icon status=\"success\">\n        <CheckCircleIcon data-testid=\"success-icon\" />\n      </Icon>{' '}\n    </Status>\n  </Degraded>\n);\n\nexport const StatusEventFailure: React.FunctionComponent<DegradedProps> = (\n  props\n) => (\n  <Degraded isDegraded={props.isDegraded}>\n    <Status text=\"Event failure\">\n      <Icon status=\"danger\">\n        <ExclamationCircleIcon data-testid=\"fail-icon\" />\n      </Icon>{' '}\n    </Status>\n  </Degraded>\n);\n\nexport const StatusReady: React.FunctionComponent<unknown> = () => (\n  <Status text=\"Ready\">\n    <Icon status=\"success\">\n      <CheckCircleIcon data-testid=\"success-icon\" />\n    </Icon>{' '}\n  </Status>\n);\n\nexport const StatusCreationFailure: React.FunctionComponent<\n  StatusCreationFailureProps\n> = (props) => (\n  <Popover\n    aria-label=\"Basic popover\"\n    headerContent={<div>Failed connection</div>}\n    bodyContent={props.includeDetails}\n  >\n    <Status text=\"Creation failure\">\n      <Icon status=\"danger\">\n        <ExclamationCircleIcon data-testid=\"fail-icon\" />\n      </Icon>{' '}\n    </Status>\n  </Popover>\n);\n\nexport const StatusProcessing: React.FunctionComponent<unknown> = () => (\n  <Status text=\"Processing\">\n    <InProgressIcon data-testid=\"in-progress-icon\" />{' '}\n  </Status>\n);\n\nexport const StatusUnknown: React.FunctionComponent<unknown> = () => (\n  <Status text=\"Error loading status\">\n    <UnknownIcon data-testid=\"unknown-icon\" />{' '}\n  </Status>\n);\n","import * as React from 'react';\n\nimport {\n  StatusCreationFailure,\n  StatusEventFailure,\n  StatusProcessing,\n  StatusReady,\n  StatusSuccess,\n} from './IntegrationStatus';\nimport { TableHelp } from '../../TableHelpPopover/TableHelp';\n\nconst tableData: ReadonlyArray<[React.ReactNode, React.ReactNode]> = [\n  [\n    <StatusSuccess key=\"status-success\" />,\n    'The last connection attempt succeeded',\n  ],\n  [\n    <StatusEventFailure key=\"status-event-failure\" />,\n    'The last connection attempt failed',\n  ],\n  [\n    <StatusCreationFailure\n      key=\"status-creation-failure\"\n      includeDetails={true}\n    />,\n    'Integration creation failed. Configuration error',\n  ],\n  [\n    <StatusReady key=\"status-ready\" />,\n    'Your integration configuration was successful',\n  ],\n  [\n    <StatusProcessing key=\"status-processing\" />,\n    'Integration configuration processing',\n  ],\n];\n\nexport const LastConnectionHelpTable: React.FunctionComponent<\n  React.PropsWithChildren\n> = (props) => (\n  <TableHelp tableBody={tableData}>\n    <>{props.children}</>\n  </TableHelp>\n);\n","import { Spinner } from '@patternfly/react-core/dist/dynamic/components/Spinner';\nimport { Switch } from '@patternfly/react-core/dist/dynamic/components/Switch';\nimport {\n  Text,\n  TextContent,\n} from '@patternfly/react-core/dist/dynamic/components/Text';\nimport { EmptyStateVariant } from '@patternfly/react-core/dist/dynamic/components/EmptyState';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport { css } from '@patternfly/react-styles';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n} from '@patternfly/react-table/deprecated';\nimport {\n  IActions,\n  IActionsResolver,\n  ICell,\n  IRow,\n  IRowData,\n  ISortBy,\n  RowWrapperProps,\n  SortByDirection,\n  expandable,\n  info,\n  sortable,\n} from '@patternfly/react-table';\nimport SkeletonTable from '@redhat-cloud-services/frontend-components/SkeletonTable';\nimport {\n  Direction,\n  OuiaComponentProps,\n  Sort,\n  UseSortReturn,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { assertNever } from 'assert-never';\nimport { important } from 'csx';\nimport * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { style } from 'typestyle';\n\nimport Config from '../../config/Config';\nimport messages from '../../properties/DefinedMessages';\nimport { Messages } from '../../properties/Messages';\nimport {\n  IntegrationConnectionAttempt,\n  UserIntegration,\n} from '../../types/Integration';\nimport {\n  AggregatedConnectionAttemptStatus,\n  aggregateConnectionAttemptStatus,\n} from '../../utils/ConnectionAttemptStatus';\nimport { getOuiaProps } from '../../utils/getOuiaProps';\nimport { EmptyStateSearch } from '../EmptyStateSearch';\nimport { ConnectionDegraded } from './Table/ConnectionDegraded';\nimport { ConnectionFailed } from './Table/ConnectionFailed';\nimport { ExpandedContent } from './Table/ExpandedContent';\nimport { IntegrationStatus, StatusUnknown } from './Table/IntegrationStatus';\nimport { LastConnectionHelpTable } from './Table/LastConnectionHelpTable';\n\nexport type OnEnable = (\n  integration: IntegrationRow,\n  index: number,\n  isChecked: boolean\n) => void;\n\ninterface IntegrationsTableProps extends OuiaComponentProps {\n  isLoading: boolean;\n  loadingCount?: number;\n  integrations: Array<IntegrationRow>;\n  onCollapse?: (\n    integration: IntegrationRow,\n    index: number,\n    isOpen: boolean\n  ) => void;\n  onEnable?: OnEnable;\n  actionResolver: (row: IntegrationRow, index: number) => IActions;\n  sortBy?: Sort;\n  onSort?: UseSortReturn['onSort'];\n}\n\nexport type IntegrationRow = UserIntegration & {\n  isOpen: boolean;\n  isSelected: boolean;\n  isEnabledLoading: boolean;\n  isConnectionAttemptLoading: boolean;\n  lastConnectionAttempts?: Array<IntegrationConnectionAttempt>;\n  includeDetails: boolean;\n};\n\nconst getConnectionAlert = (attempts: Array<IntegrationConnectionAttempt>) => {\n  const status = aggregateConnectionAttemptStatus(attempts);\n  switch (status) {\n    case AggregatedConnectionAttemptStatus.UNKNOWN:\n    case AggregatedConnectionAttemptStatus.SUCCESS:\n      return null;\n    case AggregatedConnectionAttemptStatus.ERROR:\n      return (\n        <div className=\"pf-v5-u-pb-md\">\n          <ConnectionFailed attempts={attempts} />\n        </div>\n      );\n    case AggregatedConnectionAttemptStatus.WARNING:\n      return (\n        <div className=\"pf-v5-u-pb-md\">\n          <ConnectionDegraded attempts={attempts} />\n        </div>\n      );\n    default:\n      assertNever(status);\n  }\n};\n\nconst toTableRows = (\n  integrations: Array<IntegrationRow>,\n  onEnable?: OnEnable\n): IRow[] => {\n  return integrations.reduce((rows, integration, idx) => {\n    rows.push({\n      id: integration.id,\n      key: integration.id,\n      isOpen: integration.isOpen,\n      selected: integration.isSelected,\n      cells: [\n        {\n          title: integration.name,\n        },\n        {\n          title: Config.integrations.types[integration.type].name,\n        },\n        {\n          title: (\n            <>\n              {integration.lastConnectionAttempts === undefined ? (\n                <StatusUnknown />\n              ) : (\n                <IntegrationStatus\n                  status={integration.status}\n                  lastConnectionAttempts={\n                    integration.isConnectionAttemptLoading\n                      ? undefined\n                      : integration.lastConnectionAttempts\n                  }\n                  includeDetails={integration.includeDetails}\n                />\n              )}\n            </>\n          ),\n        },\n        {\n          title: (\n            <>\n              {integration.isEnabledLoading ? (\n                <Spinner className=\"pf-v5-u-ml-sm\" size=\"md\" />\n              ) : (\n                <Switch\n                  id={`table-row-switch-id-${integration.id}`}\n                  aria-label=\"Enabled\"\n                  isChecked={integration.isEnabled}\n                  onChange={(_e, isChecked) =>\n                    onEnable && onEnable(integration, idx, isChecked)\n                  }\n                  isDisabled={!onEnable}\n                  ouiaId={`enabled-${integration.id}`}\n                />\n              )}\n            </>\n          ),\n        },\n      ],\n    });\n    rows.push({\n      fullWidth: true,\n      parent: idx * 2,\n      cells: [\n        {\n          title: (\n            <>\n              {integration.lastConnectionAttempts !== undefined &&\n                getConnectionAlert(integration.lastConnectionAttempts)}\n              <div className=\"pf-v5-u-pl-0 pf-v5-u-pb-0\">\n                <ExpandedContent\n                  integration={integration}\n                  ouiaId={integration.id}\n                />\n              </div>\n            </>\n          ),\n          props: {\n            colSpan: 6,\n          },\n        },\n      ],\n    });\n    return rows;\n  }, [] as Array<IRow>);\n};\n\nconst columns: Array<ICell> = [\n  {\n    title: Messages.components.integrations.table.columns.name,\n    cellFormatters: [expandable],\n    transforms: [sortable],\n  },\n  {\n    title: Messages.components.integrations.table.columns.type,\n    transforms: [],\n  },\n  {\n    title: Messages.components.integrations.table.columns.lastConnectionAttempt,\n    transforms: [\n      info({\n        popover: <LastConnectionHelpTable />,\n        popoverProps: {\n          hasAutoWidth: true,\n          headerContent: (\n            <TextContent>\n              <Text component=\"h6\">\n                Last connection attempt status meanings\n              </Text>\n            </TextContent>\n          ),\n        },\n      }),\n    ],\n  },\n  {\n    title: Messages.components.integrations.table.columns.enabled,\n    transforms: [sortable],\n  },\n];\n\nconst sortMapper = [\n  {\n    name: 'name',\n    index: 1,\n  },\n  {\n    name: 'enabled',\n    index: 4,\n  },\n];\n\nconst buildClassNames = () => {\n  const borderStyle = important(\n    'var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)'\n  );\n\n  const tableClassName = style({\n    borderBottom: borderStyle,\n  });\n\n  return {\n    tableClassName,\n  };\n};\n\nconst { tableClassName } = buildClassNames();\n\nconst RowWrapper: React.FunctionComponent<Omit<RowWrapperProps, 'onResize'>> = (\n  props\n) => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { trRef, className, rowProps, row, ...rest } = props;\n  if (!row) {\n    return <></>;\n  }\n\n  return (\n    <tr\n      {...rest}\n      ref={\n        trRef as any /* eslint-disable-line @typescript-eslint/no-explicit-any */\n      }\n      className={css('pf-v5-c-table__tr', className)}\n      hidden={row?.isExpanded !== undefined && !row.isExpanded}\n    >\n      {props.children}\n    </tr>\n  );\n};\n\nexport const IntegrationsTable: React.FunctionComponent<\n  IntegrationsTableProps\n> = (props) => {\n  const intl = useIntl();\n  const onCollapseHandler = React.useCallback(\n    (_event, _index: number, isOpen: boolean, data: IRowData) => {\n      const integrations = props.integrations;\n      const onCollapse = props.onCollapse;\n      const index = integrations.findIndex(\n        (integration) => integration.id === data.id\n      );\n      if (onCollapse && index !== -1) {\n        const integration = integrations[index];\n        onCollapse(integration, index, isOpen);\n      }\n    },\n    [props.integrations, props.onCollapse]\n  );\n\n  const onSort = React.useCallback(\n    (event, column: number, direction: SortByDirection) => {\n      const propsOnSort = props.onSort;\n      const mapping = sortMapper.find((p) => p.index === column);\n      if (propsOnSort && mapping) {\n        propsOnSort(\n          mapping.index,\n          mapping.name,\n          direction === SortByDirection.asc\n            ? Direction.ASCENDING\n            : Direction.DESCENDING\n        );\n      }\n    },\n    [props.onSort]\n  );\n\n  const sortBy = React.useMemo<ISortBy>(() => {\n    const propsSortBy = props.sortBy;\n    if (propsSortBy) {\n      const mapping = sortMapper.find((p) => p.name === propsSortBy.column);\n      if (mapping) {\n        return {\n          index: mapping.index,\n          direction:\n            propsSortBy.direction === Direction.ASCENDING\n              ? SortByDirection.asc\n              : SortByDirection.desc,\n        };\n      }\n    }\n\n    return {\n      defaultDirection: SortByDirection.asc,\n    };\n  }, [props.sortBy]);\n\n  const rows = React.useMemo(() => {\n    return toTableRows(props.integrations, props.onEnable);\n  }, [props.integrations, props.onEnable]);\n\n  const actionsResolverCallback: IActionsResolver = React.useCallback(\n    (rowData) => {\n      const actionResolver = props.actionResolver;\n\n      if (rowData.parent === undefined && rowData && props.integrations) {\n        const integrationIndex = props.integrations.findIndex(\n          (i) => i.id === rowData.id\n        );\n        const integrationRow = props.integrations[integrationIndex];\n        if (integrationRow) {\n          return actionResolver(integrationRow, integrationIndex);\n        }\n      }\n\n      return [];\n    },\n    [props.actionResolver, props.integrations]\n  );\n\n  if (props.isLoading) {\n    return (\n      <div\n        {...getOuiaProps('Integrations/Table', { ...props, ouiaSafe: false })}\n      >\n        <SkeletonTable\n          rows={\n            props.loadingCount && props.loadingCount > 0\n              ? props.loadingCount\n              : 10\n          }\n          columns={columns.map(({ title }) => title)}\n        />\n      </div>\n    );\n  }\n\n  if (rows.length === 0) {\n    return (\n      <EmptyStateSearch\n        variant={EmptyStateVariant.full}\n        icon={SearchIcon}\n        title={intl.formatMessage(messages.integrationsEmptyStateTitle)}\n        description={intl.formatMessage(\n          messages.integrationsTableEmptyStateBody\n        )}\n      />\n    );\n  }\n\n  return (\n    <div {...getOuiaProps('Integrations/Table', props)}>\n      <Table\n        className={tableClassName}\n        aria-label={Messages.components.integrations.table.title}\n        rows={rows}\n        cells={columns}\n        onCollapse={onCollapseHandler}\n        rowWrapper={\n          RowWrapper as (props: RowWrapperProps) => React.ReactElement\n        }\n        actionResolver={actionsResolverCallback}\n        isStickyHeader={true}\n        onSort={onSort}\n        sortBy={sortBy}\n      >\n        <TableHeader />\n        <TableBody />\n      </Table>\n    </div>\n  );\n};\n","import {\n  ClearFilters,\n  Filters,\n  SetFilters,\n} from '@redhat-cloud-services/insights-common-typescript';\n\nexport enum IntegrationFilterColumn {\n  NAME = 'name',\n  ENABLED = 'enabled',\n}\n\nexport type IntegrationFilters = Filters<typeof IntegrationFilterColumn>;\nexport type SetIntegrationFilters = SetFilters<typeof IntegrationFilterColumn>;\nexport type ClearIntegrationFilters = ClearFilters<\n  typeof IntegrationFilterColumn\n>;\n","import { PaginationProps, PaginationVariant } from '@patternfly/react-core';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { ConditionalFilterProps } from '@redhat-cloud-services/frontend-components/ConditionalFilter';\nimport { FilterChipsProps } from '@redhat-cloud-services/frontend-components/FilterChips';\nimport {\n  ColumnsMetada,\n  ExporterType,\n  OuiaComponentProps,\n  usePrimaryToolbarFilterConfig,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { cssRaw, style } from 'typestyle';\n\nimport { useTableExportConfig } from '../../hooks/useTableExportConfig';\nimport { Messages } from '../../properties/Messages';\nimport { getOuiaProps } from '../../utils/getOuiaProps';\nimport { DisabledIntegrationIcon, EnabledIntegrationIcon } from '../Icons';\nimport {\n  ClearIntegrationFilters,\n  IntegrationFilterColumn,\n  IntegrationFilters,\n  SetIntegrationFilters,\n} from './Filters';\n\ncssRaw(`\n    @media only screen and (max-width: 768px) {\n        #integrations-bottom-toolbar .ins-c-primary-toolbar__pagination {\n            flex: 1;\n        }\n    }\n`);\n\ninterface IntegrationsToolbarProps extends OuiaComponentProps {\n  onAddIntegration?: () => void;\n  onExport: (type: ExporterType) => void;\n  filters: IntegrationFilters;\n  setFilters: SetIntegrationFilters;\n  clearFilters: ClearIntegrationFilters;\n  pageCount: number;\n  count: number;\n  page: number;\n  perPage: number;\n  pageChanged: (page: number) => void;\n  perPageChanged: (page: number) => void;\n}\n\nconst enabledTextClassName = style({\n  marginLeft: 4,\n});\n\nconst filterMetadata: ColumnsMetada<typeof IntegrationFilterColumn> = {\n  [IntegrationFilterColumn.NAME]: {\n    label: 'Name',\n    placeholder: 'Filter by name',\n  },\n  [IntegrationFilterColumn.ENABLED]: {\n    label: 'Enabled',\n    placeholder: 'Filter by enabled',\n    options: {\n      exclusive: false,\n      items: [\n        {\n          value: 'Enabled',\n          label: (\n            <>\n              <EnabledIntegrationIcon />{' '}\n              <span className={enabledTextClassName}>Enabled</span>\n            </>\n          ),\n        },\n        {\n          value: 'Disabled',\n          label: (\n            <>\n              <DisabledIntegrationIcon />{' '}\n              <span className={enabledTextClassName}>Disabled</span>\n            </>\n          ),\n        },\n      ],\n    },\n  },\n};\n\nexport const IntegrationsToolbar: React.FunctionComponent<\n  React.PropsWithChildren<IntegrationsToolbarProps>\n> = (props) => {\n  const primaryToolbarFilterConfig = usePrimaryToolbarFilterConfig(\n    IntegrationFilterColumn,\n    props.filters,\n    props.setFilters,\n    props.clearFilters,\n    filterMetadata\n  );\n\n  const actionsConfig = React.useMemo(() => {\n    const actions = [\n      {\n        key: 'add-integration',\n        label: Messages.components.integrations.toolbar.actions.addIntegration,\n        onClick: props.onAddIntegration,\n        props: {\n          isDisabled: !props.onAddIntegration,\n        },\n      },\n    ];\n\n    return {\n      actions,\n      kebabToggleProps: {\n        isDisabled: false,\n      },\n    };\n  }, [props.onAddIntegration]);\n\n  const exportConfig = useTableExportConfig(props.onExport);\n\n  const pageChanged = React.useCallback(\n    (_event: unknown, page: number) => {\n      const inner = props.pageChanged;\n      inner(page);\n    },\n    [props.pageChanged]\n  );\n\n  const perPageChanged = React.useCallback(\n    (_event: unknown, perPage: number) => {\n      const inner = props.perPageChanged;\n      inner(perPage);\n    },\n    [props.perPageChanged]\n  );\n\n  const topPaginationProps = React.useMemo<PaginationProps>(\n    () => ({\n      itemCount: props.count,\n      page: props.page,\n      perPage: props.perPage,\n      isCompact: true,\n      variant: PaginationVariant.top,\n      onSetPage: pageChanged,\n      onFirstClick: pageChanged,\n      onPreviousClick: pageChanged,\n      onNextClick: pageChanged,\n      onLastClick: pageChanged,\n      onPageInput: pageChanged,\n      onPerPageSelect: perPageChanged,\n    }),\n    [props.count, props.page, props.perPage, pageChanged, perPageChanged]\n  );\n\n  const bottomPaginationProps = React.useMemo<PaginationProps>(\n    () => ({\n      ...topPaginationProps,\n      isCompact: false,\n      variant: PaginationVariant.bottom,\n    }),\n    [topPaginationProps]\n  );\n\n  return (\n    <div {...getOuiaProps('Integrations/DualToolbar', props)}>\n      <PrimaryToolbar\n        actionsConfig={actionsConfig}\n        exportConfig={exportConfig}\n        filterConfig={\n          primaryToolbarFilterConfig.filterConfig as ConditionalFilterProps\n        }\n        activeFiltersConfig={\n          primaryToolbarFilterConfig.activeFiltersConfig as FilterChipsProps\n        }\n        pagination={topPaginationProps}\n        id=\"integrations-top-toolbar\"\n      />\n      {props.children}\n      <PrimaryToolbar\n        id=\"integrations-bottom-toolbar\"\n        pagination={bottomPaginationProps}\n      />\n    </div>\n  );\n};\n","import { Icon } from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\nimport * as React from 'react';\n\nexport const EnabledIntegrationIcon: React.FunctionComponent = () => {\n  return (\n    <Icon status=\"success\">\n      <CheckCircleIcon />\n    </Icon>\n  );\n};\n","import { OffIcon } from '@patternfly/react-icons';\nimport * as React from 'react';\n\nexport const DisabledIntegrationIcon: React.FunctionComponent = () => {\n  return <OffIcon />;\n};\n","import {\n  ExporterCsv,\n  ExporterHeaders,\n} from '@redhat-cloud-services/insights-common-typescript';\n\nimport { UserIntegration } from '../../../types/Integration';\n\nexport class IntegrationExporterCsv extends ExporterCsv<UserIntegration> {\n  public serialize(integration: UserIntegration) {\n    return {\n      ...integration,\n    };\n  }\n\n  public headers(): ExporterHeaders<IntegrationExporterCsv, UserIntegration> {\n    return [\n      ['id', 'id'],\n      ['name', 'name'],\n      ['isEnabled', 'isEnabled'],\n      ['type', 'type'],\n      // This works now, but what will happen when there are multiple types (slack, webhook, etc)\n      ['url', 'url'],\n      ['status', 'status'],\n      ['serverErrors', 'serverErrors'],\n    ];\n  }\n}\n","import { ExporterJson } from '@redhat-cloud-services/insights-common-typescript';\n\nimport { UserIntegration } from '../../../types/Integration';\n\nexport class IntegrationExporterJson extends ExporterJson<UserIntegration> {}\n","import { Button, ButtonVariant, Spinner } from '@patternfly/react-core';\nimport * as React from 'react';\n\nimport { IntegrationRef } from '../../types/Notification';\n\ninterface AddNotificationBodyProps {\n  integration: IntegrationRef;\n  isLoading: boolean;\n  switchEnabled: () => void;\n}\n\nexport const AddNotificationBody: React.FunctionComponent<\n  AddNotificationBodyProps\n> = (props) => {\n  const text = props.integration.isEnabled\n    ? 'This integration is enabled and ready to use.'\n    : 'This integration is disabled.';\n  const buttonText = props.integration.isEnabled\n    ? 'Disable integration'\n    : 'Enable integration';\n\n  return (\n    <>\n      <div>{text}</div>\n      <Button\n        className=\"pf-v5-u-pl-0\"\n        isDisabled={props.isLoading}\n        variant={ButtonVariant.link}\n        onClick={props.switchEnabled}\n      >\n        {buttonText}\n      </Button>\n      {props.isLoading && <Spinner size=\"sm\" />}\n    </>\n  );\n};\n","import * as Yup from 'yup';\nimport Lazy from 'yup/lib/Lazy';\n\nimport { Schemas } from '../../generated/OpenapiIntegrations';\nimport {\n  CamelIntegrationType,\n  IntegrationAnsible,\n  IntegrationCamel,\n  IntegrationHttp,\n  IntegrationType,\n  NewIntegration,\n  NewIntegrationBase,\n  NewIntegrationTemplate,\n  isCamelType,\n} from '../../types/Integration';\n\nexport const maxIntegrationNameLength = 150;\n\nexport const IntegrationSchemaBase: Yup.SchemaOf<NewIntegrationBase> =\n  Yup.object({\n    id: Yup.string().optional(),\n    name: Yup.string()\n      .required('Write a name for this Integration.')\n      .max(maxIntegrationNameLength)\n      .trim(),\n    type: Yup.mixed<IntegrationType>()\n      .oneOf(Object.values(IntegrationType))\n      .default(IntegrationType.WEBHOOK)\n      .optional(),\n    isEnabled: Yup.boolean().default(true).required(),\n    status: Yup.mixed<Schemas.EndpointStatus>()\n      .oneOf(Object.values(Schemas.EndpointStatus.Enum))\n      .default(Schemas.EndpointStatus.Enum.UNKNOWN),\n    serverErrors: Yup.number().default(0),\n  });\n\nexport const IntegrationHttpSchema: Yup.SchemaOf<\n  NewIntegrationTemplate<IntegrationHttp>\n> = IntegrationSchemaBase.concat(\n  Yup.object().shape({\n    type: Yup.mixed<IntegrationType.WEBHOOK>()\n      .oneOf([IntegrationType.WEBHOOK])\n      .required(),\n    url: Yup.string().url().required('Write a valid url for this Integration.'),\n    sslVerificationEnabled: Yup.boolean().default(true),\n    secretToken: Yup.string().notRequired(),\n    method: Yup.mixed<Schemas.HttpType>()\n      .oneOf(Object.values(Schemas.HttpType.Enum))\n      .default(Schemas.HttpType.Enum.POST),\n  })\n);\n\nexport const IntegrationAnsibleSchema: Yup.SchemaOf<\n  NewIntegrationTemplate<IntegrationAnsible>\n> = IntegrationSchemaBase.concat(\n  Yup.object().shape({\n    type: Yup.mixed<IntegrationType.ANSIBLE>()\n      .oneOf([IntegrationType.ANSIBLE])\n      .required(),\n    url: Yup.string().url().required('Write a valid url for this Integration.'),\n    sslVerificationEnabled: Yup.boolean().default(true),\n    secretToken: Yup.string().notRequired(),\n    method: Yup.mixed<Schemas.HttpType>()\n      .oneOf(Object.values([Schemas.HttpType.Enum.POST]))\n      .default(Schemas.HttpType.Enum.POST),\n  })\n);\n\nexport const IntegrationCamelSchema: Yup.SchemaOf<\n  NewIntegrationTemplate<IntegrationCamel>\n> = IntegrationSchemaBase.concat(\n  Yup.object().shape({\n    type: Yup.mixed<CamelIntegrationType>()\n      .oneOf(\n        Object.values(IntegrationType).filter((v) =>\n          isCamelType(v)\n        ) as Array<CamelIntegrationType>\n      )\n      .required(),\n    url: Yup.string()\n      .url()\n      .required('Provide a url/host for this Integration.'),\n    sslVerificationEnabled: Yup.boolean().default(true),\n    secretToken: Yup.string().optional(),\n    basicAuth: Yup.object()\n      .shape(\n        {\n          user: Yup.string().when('pass', {\n            is: (pass) => pass && pass.length > 0,\n            then: Yup.string().required('Provide an user'),\n          }),\n          pass: Yup.string().when('user', {\n            is: (user) => user && user.length > 0,\n            then: Yup.string().required('Provide a password.'),\n          }),\n        },\n        [['user', 'pass']]\n      )\n      .optional(),\n    extras: Yup.mixed()\n      .default({})\n      .transform((s) => {\n        console.log(s);\n        try {\n          if (typeof s === 'string') {\n            return JSON.parse(s);\n          }\n\n          return s;\n        } catch (e) {\n          console.error(e);\n          return null;\n        }\n      })\n      .test(\n        'valid-json-object',\n        'Provide a valid json object',\n        (extras) => extras && typeof extras === 'object'\n      ),\n  })\n);\n\nexport const IntegrationSchema: Lazy<\n  Yup.SchemaOf<NewIntegration | NewIntegrationBase | NewIntegrationBase>\n> = Yup.lazy((value) => {\n  if (value) {\n    if (value.type === IntegrationType.WEBHOOK) {\n      return IntegrationHttpSchema;\n    } else if (value.type === IntegrationType.ANSIBLE) {\n      return IntegrationAnsibleSchema;\n    }\n\n    if (isCamelType(value.type)) {\n      return IntegrationCamelSchema;\n    }\n  }\n\n  return IntegrationSchemaBase;\n});\n","import {\n  FormGroup,\n  FormHelperText,\n  HelperText,\n  HelperTextItem,\n} from '@patternfly/react-core';\nimport {\n  Checkbox,\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\ninterface IntegrationTypeCamelExtrasForm extends IntegrationTypeForm {\n  secretTokenDescription: string;\n}\n\nexport const IntegrationTypeCamelExtrasForm: React.FunctionComponent<\n  IntegrationTypeCamelExtrasForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/Camel/Splunk', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"text\"\n        name=\"url\"\n        id=\"integration-type-camel-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n      <Checkbox\n        id=\"integration-type-camel-ssl-verification-enabled\"\n        label=\"Enable SSL verification\"\n        name=\"sslVerificationEnabled\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'is-ssl-verification-enabled')}\n      />\n      <FormGroup fieldId=\"integration-type-camel-secret-token\">\n        <FormTextInput\n          isRequired={false}\n          label=\"Secret token\"\n          id=\"integration-type-camel-secret-token\"\n          name=\"secretToken\"\n          ouiaId={ouiaIdConcat(props.ouiaId, 'secret-token')}\n        />\n        <FormHelperText>\n          <HelperText>\n            <HelperTextItem>{props.secretTokenDescription}</HelperTextItem>\n          </HelperText>\n        </FormHelperText>\n      </FormGroup>\n    </div>\n  );\n};\n","import {\n  FormGroup,\n  FormHelperText,\n  FormSection,\n  HelperText,\n  HelperTextItem,\n} from '@patternfly/react-core';\nimport {\n  Checkbox,\n  FormTextArea,\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\nexport const IntegrationTypeCamelForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/HttpForm', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"text\"\n        name=\"url\"\n        id=\"integration-type-camel-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n      <Checkbox\n        id=\"integration-type-camel-ssl-verification-enabled\"\n        label=\"Enable SSL verification\"\n        name=\"sslVerificationEnabled\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'is-ssl-verification-enabled')}\n      />\n      <FormGroup fieldId=\"integration-type-camel-secret-token\">\n        <FormTextInput\n          isRequired={false}\n          label=\"Secret token\"\n          id=\"integration-type-camel-secret-token\"\n          name=\"secretToken\"\n          ouiaId={ouiaIdConcat(props.ouiaId, 'secret-token')}\n        />\n        <FormHelperText>\n          <HelperText>\n            <HelperTextItem>\n              The defined secret token is sent as a &quot;X-Insight-Token&quot;\n              header on the request.\n            </HelperTextItem>\n          </HelperText>\n        </FormHelperText>\n      </FormGroup>\n      <FormSection title=\"Basic auth\">\n        <FormTextInput\n          id=\"basic-auth-user\"\n          name=\"basicAuth.user\"\n          label=\"User\"\n          ouiaId={ouiaIdConcat(props.ouiaId, 'basic-auth-user')}\n        />\n        <FormTextInput\n          id=\"basic-auth-pass\"\n          name=\"basicAuth.pass\"\n          label=\"Password\"\n          ouiaId={ouiaIdConcat(props.ouiaId, 'basic-auth-pass')}\n        />\n      </FormSection>\n      <FormTextArea\n        id=\"form-extras\"\n        name=\"extras\"\n        label=\"Extras\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'extras')}\n      />\n    </div>\n  );\n};\n","import {\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\nexport const IntegrationTypeGoogleChatForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/Camel/GoogleChat', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"text\"\n        name=\"url\"\n        id=\"integration-type-camel-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n    </div>\n  );\n};\n","import {\n  FormGroup,\n  FormHelperText,\n  HelperText,\n  HelperTextItem,\n} from '@patternfly/react-core';\nimport {\n  Checkbox,\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\nexport const IntegrationTypeHttpForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/HttpForm', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"url\"\n        name=\"url\"\n        id=\"integration-type-http-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n      <Checkbox\n        id=\"integration-type-http-ssl-verification-enabled\"\n        label=\"Enable SSL verification\"\n        name=\"sslVerificationEnabled\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'is-ssl-verification-enabled')}\n      />\n      <FormGroup fieldId=\"integration-type-http-secret-token\">\n        <FormTextInput\n          isRequired={false}\n          label=\"Secret token\"\n          id=\"integration-type-http-secret-token\"\n          name=\"secretToken\"\n          ouiaId={ouiaIdConcat(props.ouiaId, 'secret-token')}\n        />\n        <FormHelperText>\n          <HelperText>\n            <HelperTextItem>\n              The defined secret token is sent as a &quot;X-Insight-Token&quot;\n              header on the request.\n            </HelperTextItem>\n          </HelperText>\n        </FormHelperText>\n      </FormGroup>\n    </div>\n  );\n};\n","import {\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\nexport const IntegrationTypeSlackForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/Camel/Slack', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"text\"\n        name=\"url\"\n        id=\"integration-type-camel-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n    </div>\n  );\n};\n","import {\n  FormTextInput,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { getOuiaProps } from '../../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './IntegrationTypeForm';\n\nexport const IntegrationTypeTeamsForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  return (\n    <div\n      className=\"pf-c-form\"\n      {...getOuiaProps('Integrations/Camel/Teams', props)}\n    >\n      <FormTextInput\n        isRequired={true}\n        label=\"Endpoint URL\"\n        type=\"text\"\n        name=\"url\"\n        id=\"integration-type-camel-url\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'endpoint-url')}\n      />\n    </div>\n  );\n};\n","import { OuiaComponentProps } from '@redhat-cloud-services/insights-common-typescript';\nimport { assertNever } from 'assert-never';\nimport * as React from 'react';\n\nimport {\n  IntegrationType,\n  UserIntegrationType,\n  isCamelType,\n} from '../../../types/Integration';\nimport { IntegrationTypeCamelExtrasForm } from './IntegrationTypeCamelExtrasForm';\nimport { IntegrationTypeCamelForm } from './IntegrationTypeCamelForm';\nimport { IntegrationTypeGoogleChatForm } from './IntegrationTypeGoogleChatForm';\nimport { IntegrationTypeHttpForm } from './IntegrationTypeHttpForm';\nimport { IntegrationTypeSlackForm } from './IntegrationTypeSlackForm';\nimport { IntegrationTypeTeamsForm } from './IntegrationTypeTeamsForm';\n\nexport interface IntegrationTypeForm extends OuiaComponentProps {\n  type: UserIntegrationType;\n}\n\nexport const IntegrationTypeForm: React.FunctionComponent<\n  IntegrationTypeForm\n> = (props) => {\n  if (isCamelType(props.type)) {\n    switch (props.type) {\n      case UserIntegrationType.SPLUNK:\n        return (\n          <IntegrationTypeCamelExtrasForm\n            secretTokenDescription=\"The defined secret token is sent as a Splunk's HTTP Event Collector token.\"\n            {...props}\n          />\n        );\n      case UserIntegrationType.SERVICE_NOW:\n        return (\n          <IntegrationTypeCamelExtrasForm\n            secretTokenDescription=\"Password of a ServiceNow integration user.\"\n            {...props}\n          />\n        );\n      case UserIntegrationType.SLACK:\n        return <IntegrationTypeSlackForm {...props} />;\n      case UserIntegrationType.TEAMS:\n        return <IntegrationTypeTeamsForm {...props} />;\n      case UserIntegrationType.GOOGLE_CHAT:\n        return <IntegrationTypeGoogleChatForm {...props} />;\n    }\n\n    return <IntegrationTypeCamelForm {...props} />;\n  }\n\n  switch (props.type) {\n    case IntegrationType.WEBHOOK:\n    case IntegrationType.ANSIBLE:\n      return <IntegrationTypeHttpForm {...props} />;\n    default:\n      assertNever(props.type);\n  }\n};\n","import { FormSelectOption } from '@patternfly/react-core';\nimport {\n  Form,\n  FormSelect,\n  FormTextInput,\n  OuiaComponentProps,\n  ouiaIdConcat,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { useFormikContext } from 'formik';\nimport * as React from 'react';\n\nimport Config from '../../config/Config';\nimport { useIntegrations } from '../../hooks/useIntegrations';\nimport { maxIntegrationNameLength } from '../../schemas/Integrations/Integration';\nimport { NewUserIntegration } from '../../types/Integration';\nimport { getOuiaProps } from '../../utils/getOuiaProps';\nimport { IntegrationTypeForm } from './Form/IntegrationTypeForm';\n\nexport const IntegrationsForm: React.FunctionComponent<OuiaComponentProps> = (\n  props\n) => {\n  const { values } = useFormikContext<NewUserIntegration>();\n  const userIntegrations = useIntegrations();\n\n  const options = React.useMemo(() => {\n    return userIntegrations.map((type) => (\n      <FormSelectOption\n        key={type}\n        label={Config.integrations.types[type].name}\n        value={type}\n      />\n    ));\n  }, [userIntegrations]);\n\n  return (\n    <Form {...getOuiaProps('Integrations/Form', props)}>\n      <FormTextInput\n        maxLength={maxIntegrationNameLength}\n        isRequired={true}\n        label=\"Integration name\"\n        type=\"text\"\n        name=\"name\"\n        id=\"name\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'name')}\n      />\n      <FormSelect\n        isRequired={true}\n        label=\"Type\"\n        name=\"type\"\n        id=\"integration-type\"\n        ouiaId={ouiaIdConcat(props.ouiaId, 'type')}\n      >\n        {options}\n      </FormSelect>\n      <IntegrationTypeForm\n        type={values.type}\n        ouiaId={ouiaIdConcat(props.ouiaId, 'type-form')}\n      />\n    </Form>\n  );\n};\n","import {\n  ActionModalError,\n  SaveModal,\n  SaveModalProps,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { Formik, useFormikContext } from 'formik';\nimport * as React from 'react';\n\nimport { Messages } from '../../properties/Messages';\nimport { IntegrationSchema } from '../../schemas/Integrations/Integration';\nimport {\n  IntegrationType,\n  NewUserIntegration,\n  UserIntegration,\n  isCamelIntegrationType,\n} from '../../types/Integration';\nimport { IntegrationsForm } from './Form';\n\ntype PartialIntegration = Partial<UserIntegration>;\ntype UsedProps = 'isOpen' | 'title' | 'content' | 'onSave';\n\nexport interface IntegrationSaveModalProps\n  extends Omit<SaveModalProps, UsedProps> {\n  initialIntegration?: PartialIntegration;\n  onSave: (\n    integration: UserIntegration | NewUserIntegration\n  ) => boolean | Promise<boolean>;\n  isEdit: boolean;\n}\n\ninterface InternalIntegrationSaveModalProps {\n  isEdit: boolean;\n  onClose: (saved: boolean) => void;\n  error?: ActionModalError;\n}\n\nconst InternalIntegrationSaveModal: React.FunctionComponent<\n  InternalIntegrationSaveModalProps\n> = (props) => {\n  const pageMessages = props.isEdit\n    ? Messages.pages.integrations.edit\n    : Messages.pages.integrations.add;\n  const pageTitle = pageMessages.title;\n  const { handleSubmit, isValid, isSubmitting } =\n    useFormikContext<NewUserIntegration>();\n\n  const onSaveClicked = React.useCallback(() => {\n    handleSubmit();\n    return false;\n  }, [handleSubmit]);\n\n  return (\n    <SaveModal\n      isOpen={true}\n      isSaving={isSubmitting}\n      onSave={onSaveClicked}\n      title={pageTitle}\n      content={<IntegrationsForm />}\n      onClose={props.onClose}\n      error={props.error}\n      actionButtonDisabled={!isValid}\n    />\n  );\n};\n\nexport const IntegrationSaveModal: React.FunctionComponent<\n  IntegrationSaveModalProps\n> = (props) => {\n  const [initialIntegration] = React.useState<PartialIntegration>(() => {\n    const initial = {\n      // The call is twice, because we use lazy evaluation for the integration base type.\n      // To ensure we get the defaults on the second level (webhook, slack, etc) we need to call it again\n      ...IntegrationSchema.cast(IntegrationSchema.cast({})),\n      ...props.initialIntegration,\n    } as PartialIntegration;\n\n    // patch extras to be a string for SPLUNK\n    if (\n      isCamelIntegrationType(initial) &&\n      initial.type === IntegrationType.SPLUNK &&\n      typeof initial.extras === 'object'\n    ) {\n      // We are casting as any, because `extras` is an object, but we need it to be a string for the form\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      initial.extras = JSON.stringify(initial.extras, undefined, 2) as any;\n    }\n\n    return initial;\n  });\n\n  const onSubmit = React.useCallback(\n    async (integration: PartialIntegration) => {\n      const onSave = props.onSave;\n      const onClose = props.onClose;\n      const transformedIntegration = IntegrationSchema.cast(\n        integration\n      ) as NewUserIntegration;\n      const saved = await onSave(transformedIntegration);\n      if (saved) {\n        onClose(true);\n      }\n    },\n    [props.onSave, props.onClose]\n  );\n\n  return (\n    <Formik<PartialIntegration>\n      initialValues={initialIntegration}\n      validationSchema={IntegrationSchema}\n      onSubmit={onSubmit}\n      validateOnMount={true}\n    >\n      <InternalIntegrationSaveModal\n        isEdit={props.isEdit}\n        onClose={props.onClose}\n        error={props.error}\n      />\n    </Formik>\n  );\n};\n","import { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../generated/OpenapiIntegrations';\nimport { Integration, ServerIntegrationResponse } from '../types/Integration';\n\nexport const switchIntegrationEnabledStatusActionCreator = (\n  integration: Integration\n) => {\n  if (integration.isEnabled) {\n    return Operations.EndpointResourceDisableEndpoint.actionCreator({\n      id: integration.id,\n    });\n  } else {\n    return Operations.EndpointResourceEnableEndpoint.actionCreator({\n      id: integration.id,\n    });\n  }\n};\n\nexport const useSwitchIntegrationEnabledStatus = () =>\n  useMutation<ServerIntegrationResponse>(\n    switchIntegrationEnabledStatusActionCreator\n  );\n","import { NotificationAppState } from '../types/NotificationAppState';\nimport { SavedNotificationScopeState } from '../types/SavedNotificationScopeTypes';\n\nexport const savedNotificationScopeSelector = (\n  state: NotificationAppState\n): SavedNotificationScopeState => state.savedNotificationScope;\n\nexport const savedNotificationScopeEqualFn = (\n  left: SavedNotificationScopeState,\n  right: SavedNotificationScopeState\n): boolean => {\n  return (\n    left?.integration === right?.integration && left?.status === right?.status\n  );\n};\n","import { ActionModalError } from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nimport { AddNotificationBody } from '../../../components/Integrations/AddNotificationBody';\nimport { IntegrationSaveModal } from '../../../components/Integrations/SaveModal';\nimport { useSaveIntegrationMutation } from '../../../services/useSaveIntegration';\nimport { useSwitchIntegrationEnabledStatus } from '../../../services/useSwitchIntegrationEnabledStatus';\nimport { SavedNotificationScopeActions } from '../../../store/actions/SavedNotificationScopeAction';\nimport { savedNotificationScopeSelector } from '../../../store/selectors/SavedNotificationScopeSelector';\nimport { NotificationAppState } from '../../../store/types/NotificationAppState';\nimport {\n  SavedNotificationScopeState,\n  Status,\n} from '../../../store/types/SavedNotificationScopeTypes';\nimport {\n  Integration,\n  NewUserIntegration,\n  UserIntegration,\n  UserIntegrationType,\n} from '../../../types/Integration';\nimport { IntegrationRef } from '../../../types/Notification';\nimport { useNotification } from '../../../utils/AlertUtils';\n\ninterface CreatePageProps {\n  isEdit: boolean;\n  initialIntegration: Partial<UserIntegration>;\n  onClose: (saved: boolean) => void;\n}\n\ninterface AddNotificationBodyContainer {\n  integration: IntegrationRef;\n  reduxDispatch: Dispatch;\n  savedNotificationScope: SavedNotificationScopeState;\n}\n\nconst AddNotificationBodyContainer: React.FunctionComponent<\n  AddNotificationBodyContainer\n> = (props) => {\n  const switchIntegrationEnabledStatus = useSwitchIntegrationEnabledStatus();\n\n  const onClick = React.useCallback((): void => {\n    const reduxDispatch = props.reduxDispatch;\n    const mutate = switchIntegrationEnabledStatus.mutate;\n    const savedNotificationScope = props.savedNotificationScope;\n    if (savedNotificationScope) {\n      reduxDispatch(SavedNotificationScopeActions.start());\n      const integration = savedNotificationScope.integration;\n      mutate(integration).then((response) => {\n        if (!response.error) {\n          reduxDispatch(\n            SavedNotificationScopeActions.finish(!integration.isEnabled)\n          );\n        } else {\n          reduxDispatch(\n            SavedNotificationScopeActions.finish(integration.isEnabled)\n          );\n        }\n      });\n    }\n  }, [\n    switchIntegrationEnabledStatus.mutate,\n    props.reduxDispatch,\n    props.savedNotificationScope,\n  ]);\n\n  React.useEffect(() => {\n    const reduxDispatch = props.reduxDispatch;\n    reduxDispatch(\n      SavedNotificationScopeActions.setIntegration(props.integration)\n    );\n    return () => {\n      reduxDispatch(SavedNotificationScopeActions.unset());\n    };\n  }, [props.reduxDispatch, props.integration]);\n\n  if (!props.savedNotificationScope) {\n    return <React.Fragment />;\n  }\n\n  return (\n    <AddNotificationBody\n      integration={props.savedNotificationScope.integration}\n      isLoading={props.savedNotificationScope.status === Status.LOADING}\n      switchEnabled={onClick}\n    />\n  );\n};\n\nconst ConnectedAddNotificationBodyContainer = connect(\n  (state: NotificationAppState) => ({\n    savedNotificationScope: savedNotificationScopeSelector(state),\n  }),\n  (dispatch) => ({\n    reduxDispatch: dispatch,\n  })\n)(AddNotificationBodyContainer);\n\nexport const CreatePage: React.FunctionComponent<CreatePageProps> = (props) => {\n  const saveIntegrationMutation = useSaveIntegrationMutation();\n  const [hasError, setError] = React.useState(false);\n  const { addSuccessNotification } = useNotification();\n\n  const onSaveIntegration = React.useCallback(\n    (integration: NewUserIntegration) => {\n      if (!integration.id) {\n        integration.isEnabled = true;\n      }\n\n      setError(false);\n\n      return saveIntegrationMutation.mutate(integration).then((response) => {\n        if (response.payload?.status === 200) {\n          const savedIntegration: IntegrationRef =\n            response.payload?.type === 'Integration'\n              ? {\n                  ...(response.payload.value as Integration),\n                  type: response.payload.value\n                    .type as unknown as UserIntegrationType,\n                }\n              : (integration as IntegrationRef);\n\n          const title = props.isEdit\n            ? `${savedIntegration.name} saved successfully`\n            : `${savedIntegration.name} added successfully`;\n\n          addSuccessNotification(\n            title,\n            <ConnectedAddNotificationBodyContainer\n              integration={savedIntegration}\n            />,\n            true\n          );\n\n          return true;\n        } else {\n          setError(true);\n          return false;\n        }\n      });\n    },\n    [saveIntegrationMutation, props.isEdit, addSuccessNotification]\n  );\n\n  const error = React.useMemo<ActionModalError | undefined>(() => {\n    if (hasError) {\n      if (props.isEdit) {\n        return {\n          title: 'Integration failed to update',\n          description: (\n            <p>\n              There was an error trying to update the Integration. Please try\n              again.\n            </p>\n          ),\n        };\n      } else {\n        return {\n          title: 'Failed to create Integration',\n          description: (\n            <p>\n              There was an error trying to create the Integration. Please try\n              again.\n            </p>\n          ),\n        };\n      }\n    }\n\n    return undefined;\n  }, [hasError, props.isEdit]);\n\n  return (\n    <IntegrationSaveModal\n      initialIntegration={props.initialIntegration}\n      onSave={onSaveIntegration}\n      isEdit={props.isEdit}\n      isSaving={saveIntegrationMutation.loading}\n      onClose={props.onClose}\n      error={error}\n    />\n  );\n};\n","import React, { useState } from 'react';\nimport axios from 'axios';\nimport {\n  Button,\n  ButtonVariant,\n  Modal,\n  ModalVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport { useNotification } from '../../../utils/AlertUtils';\nimport { integrationTypes } from '../../../config/Config';\nimport { Link } from 'react-router-dom';\nimport { linkTo } from '../../../Routes';\n\nconst IntegrationTestModal = ({\n  integrationId,\n  integrationType,\n  isModalOpen,\n  onClose,\n}) => {\n  const [inputValue, setInputValue] = useState('');\n  const { addSuccessNotification, addWarningNotification } = useNotification();\n\n  const placeholderText =\n    'Congratulations! The integration was successfully tested!';\n\n  const handleNotificationTest = async (\n    notificationMessage: string,\n    integrationType: string\n  ) => {\n    const body = { message: notificationMessage };\n    const type = integrationTypes[integrationType].name;\n    const testFailedMessage = `Test to integration ${type} failed`;\n\n    try {\n      const response = await axios.post(\n        `/api/integrations/v1/endpoints/${integrationId}/test`,\n        body\n      );\n      response?.status === 204\n        ? addSuccessNotification(\n            notificationMessage,\n            <>\n              Your test to integration {type} was successful. To view payload\n              response check{' '}\n              <Link to={`/settings/notifications${linkTo.eventLog()}`}>\n                event log\n              </Link>\n              .\n            </>\n          )\n        : addWarningNotification(\n            testFailedMessage,\n            response.data ||\n              `Status: ${response.status} - ${response.statusText}`\n          );\n    } catch (error) {\n      addWarningNotification(testFailedMessage, error?.toString());\n    } finally {\n      onClose();\n    }\n  };\n\n  return (\n    <Modal\n      variant={ModalVariant.medium}\n      title=\"Integration test\"\n      isOpen={isModalOpen}\n      onClose={onClose}\n      description=\"You can specify a custom message for the notification's payload. If you don't, a default message will be&nbsp;sent.\"\n      actions={[\n        <Button\n          key=\"send\"\n          onClick={() =>\n            handleNotificationTest(\n              inputValue || placeholderText,\n              integrationType\n            )\n          }\n        >\n          Send\n        </Button>,\n        <Button key=\"cancel\" onClick={onClose} variant={ButtonVariant.link}>\n          Cancel\n        </Button>,\n      ]}\n    >\n      <TextInput\n        value={inputValue}\n        onChange={(_event, value) => setInputValue(value)}\n        aria-label=\"Test notification input\"\n        placeholder={placeholderText}\n      />\n    </Modal>\n  );\n};\n\nexport default IntegrationTestModal;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { getNotificationsRegistry } from '../../../store/Store';\nimport IntegrationTestModal from './IntegrationTest';\n\nconst registry = getNotificationsRegistry();\n\nconst IntegrationTestProvider = ({\n  integrationId,\n  integrationType,\n  onClose,\n  isModalOpen,\n}) => {\n  return (\n    <Provider store={registry.getStore()}>\n      <IntegrationTestModal\n        integrationId={integrationId}\n        integrationType={integrationType}\n        onClose={onClose}\n        isModalOpen={isModalOpen}\n      />\n    </Provider>\n  );\n};\n\nexport default IntegrationTestProvider;\n","import {\n  ExpandableSection,\n  List,\n  ListItem,\n  Skeleton,\n} from '@patternfly/react-core';\nimport {\n  DeleteModal,\n  DeleteModalProps,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { UserIntegration } from '../../types/Integration';\nimport { BehaviorGroup } from '../../types/Notification';\n\ntype UsedProps = 'isOpen' | 'title' | 'content' | 'onDelete';\n\ninterface IntegrationDeleteModalProps\n  extends Omit<DeleteModalProps, UsedProps> {\n  integration?: UserIntegration;\n  onDelete: (integration: UserIntegration) => boolean | Promise<boolean>;\n  behaviorGroups?: Array<BehaviorGroup>;\n}\n\nexport const IntegrationDeleteModal: React.FunctionComponent<\n  IntegrationDeleteModalProps\n> = (props) => {\n  const onDeleteInternal = React.useCallback(() => {\n    const integration = props.integration;\n    const onDelete = props.onDelete;\n    if (integration) {\n      return onDelete(integration);\n    }\n\n    return false;\n  }, [props.onDelete, props.integration]);\n\n  const content = React.useMemo(() => {\n    if (props.behaviorGroups === undefined) {\n      return (\n        <span data-testid=\"loading\">\n          <Skeleton />\n        </span>\n      );\n    } else if (props.behaviorGroups.length === 0) {\n      return (\n        <span data-testid=\"removing-integration-without-notifications\">\n          Deleting integration <strong>{props.integration?.name}</strong> does\n          not affect any behavior group.\n        </span>\n      );\n    } else {\n      const behaviorGroupText =\n        props.behaviorGroups.length !== 1\n          ? 'behavior groups'\n          : 'behavior group';\n      return (\n        <span\n          data-testid={`removing-integration-with-notifications-${props.behaviorGroups.length}`}\n        >\n          Delete integration <strong>{props.integration?.name}</strong> affects{' '}\n          {props.behaviorGroups.length} {behaviorGroupText}. The end point\n          associated with this integration will not recieve notifications for\n          the following events.\n          {props.behaviorGroups.length > 0 && (\n            <ExpandableSection\n              toggleText={`View ${props.behaviorGroups.length} ${behaviorGroupText}`}\n            >\n              <List>\n                {props.behaviorGroups.map((behaviorGroup) => (\n                  <ListItem key={behaviorGroup.id}>\n                    {behaviorGroup.bundleName}: {behaviorGroup.displayName}\n                  </ListItem>\n                ))}\n              </List>\n            </ExpandableSection>\n          )}\n        </span>\n      );\n    }\n  }, [props.behaviorGroups, props.integration]);\n\n  if (!props.integration) {\n    return null;\n  }\n\n  return (\n    <DeleteModal\n      isOpen={true}\n      isDeleting={props.isDeleting}\n      title={'Delete integration'}\n      content={content}\n      onClose={props.onClose}\n      onDelete={onDeleteInternal}\n      error={props.error}\n      titleIconVariant=\"warning\"\n      actionButtonTitle=\"Delete\"\n    />\n  );\n};\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useParameterizedQuery } from 'react-fetching-library';\n\nimport { Operations } from '../../generated/OpenapiNotifications';\nimport { toBehaviorGroup } from '../../types/adapters/BehaviorGroupAdapter';\n\nconst behaviorGroupsForEndpointActionCreator = (integrationId: string) => {\n  return Operations.NotificationResourceGetBehaviorGroupsAffectedByRemovalOfEndpoint.actionCreator(\n    {\n      endpointId: integrationId,\n    }\n  );\n};\n\nconst defaultBehaviorGroupDecoder = validationResponseTransformer(\n  (\n    payload: Operations.NotificationResourceGetBehaviorGroupsAffectedByRemovalOfEndpoint.Payload\n  ) => {\n    if (payload.status === 200) {\n      return validatedResponse(\n        'BehaviorGroups',\n        200,\n        payload.value.map(toBehaviorGroup),\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useGetAffectedBehaviorGroupsByEndpoint = () =>\n  useTransformQueryResponse(\n    useParameterizedQuery(behaviorGroupsForEndpointActionCreator),\n    defaultBehaviorGroupDecoder\n  );\n","import { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../generated/OpenapiIntegrations';\n\nexport const deleteIntegrationActionCreator = (integrationId: string) => {\n  return Operations.EndpointResourceDeleteEndpoint.actionCreator({\n    id: integrationId,\n  });\n};\n\nexport const useDeleteIntegration = () =>\n  useMutation<boolean>(deleteIntegrationActionCreator);\n","import {\n  ActionModalError,\n  OuiaComponentProps,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport * as React from 'react';\n\nimport { IntegrationDeleteModal } from '../../../components/Integrations/DeleteModal';\nimport { useGetAffectedBehaviorGroupsByEndpoint } from '../../../services/Notifications/GetAffectedBehaviorGroupsByEndpoint';\nimport { useDeleteIntegration } from '../../../services/useDeleteIntegration';\nimport { UserIntegration } from '../../../types/Integration';\nimport { useNotification } from '../../../utils/AlertUtils';\n\ninterface IntegrationDeleteModalPageProps extends OuiaComponentProps {\n  onClose: (deleted: boolean) => void;\n  integration: UserIntegration;\n}\n\nexport const IntegrationDeleteModalPage: React.FunctionComponent<\n  IntegrationDeleteModalPageProps\n> = (props) => {\n  const deleteIntegrationMutation = useDeleteIntegration();\n  const getBehaviorGroupsQuery = useGetAffectedBehaviorGroupsByEndpoint();\n  const [hasError, setError] = React.useState(false);\n  const { addSuccessNotification } = useNotification();\n\n  const onDelete = React.useCallback(\n    (integration: UserIntegration) => {\n      const deleteIntegration = deleteIntegrationMutation.mutate;\n      setError(false);\n      return deleteIntegration(integration.id).then((response) => {\n        if (!response.error) {\n          addSuccessNotification(\n            'Integration removed',\n            'The integration was removed.'\n          );\n          return true;\n        } else {\n          setError(true);\n          return false;\n        }\n      });\n    },\n    [deleteIntegrationMutation.mutate, setError, addSuccessNotification]\n  );\n\n  const error = React.useMemo<ActionModalError | undefined>(() => {\n    if (hasError) {\n      return {\n        title: 'Failed to remove Integration',\n        description: (\n          <p>\n            There was an error trying to remove the Integration. Please try\n            again.\n          </p>\n        ),\n      };\n    }\n\n    return undefined;\n  }, [hasError]);\n\n  React.useEffect(() => {\n    const query = getBehaviorGroupsQuery.query;\n    query(props.integration.id);\n  }, [props.integration, getBehaviorGroupsQuery.query]);\n\n  const behaviorGroups = React.useMemo(() => {\n    const payload = getBehaviorGroupsQuery.payload;\n    if (payload && payload.type === 'BehaviorGroups') {\n      return payload.value;\n    }\n\n    return undefined;\n  }, [getBehaviorGroupsQuery.payload]);\n\n  return (\n    <IntegrationDeleteModal\n      integration={props.integration}\n      behaviorGroups={behaviorGroups}\n      isDeleting={deleteIntegrationMutation.loading}\n      onClose={props.onClose}\n      onDelete={onDelete}\n      error={error}\n    />\n  );\n};\n","import { useCallback } from 'react';\n\nimport {\n  IntegrationRow,\n  OnEnable,\n} from '../../../components/Integrations/Table';\nimport { UserIntegration } from '../../../types/Integration';\nimport { useFlag } from '@unleash/proxy-client-react';\n\ninterface ActionResolverParams {\n  onEdit: (integration: UserIntegration) => void;\n  onTest: (integration: UserIntegration) => void;\n  onDelete: (integration: UserIntegration) => void;\n  canWrite: boolean;\n  onEnable: OnEnable;\n}\n\nexport const useActionResolver = (params: ActionResolverParams) => {\n  const integrationTest = useFlag('insights.integrations.test');\n  return useCallback(\n    (integration: IntegrationRow, index: number) => {\n      const onEdit = params.onEdit;\n      const onTest = params.onTest;\n      const onDelete = params.onDelete;\n      const onEnable = params.onEnable;\n\n      const isDisabled = !params.canWrite;\n\n      return [\n        {\n          title: 'Edit',\n          isDisabled,\n          onClick: () => onEdit(integration),\n        },\n        ...(integrationTest\n          ? [\n              {\n                title: 'Test',\n                isDisabled,\n                onClick: () => onTest(integration),\n              },\n            ]\n          : []),\n        {\n          title: 'Delete',\n          isDisabled,\n          onClick: () => onDelete(integration),\n        },\n        {\n          title: integration.isEnabled ? 'Disable' : 'Enable',\n          isDisabled,\n          onClick: () => onEnable(integration, index, !integration.isEnabled),\n        },\n      ];\n    },\n    [\n      params.onEdit,\n      params.onTest,\n      params.onDelete,\n      params.canWrite,\n      params.onEnable,\n      integrationTest,\n    ]\n  );\n};\n","import {\n  useFilters,\n  useUrlStateMultipleOptions,\n  useUrlStateString,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { assertNever } from 'assert-never';\n\nimport { IntegrationFilterColumn } from '../../../components/Integrations/Filters';\n\nconst DEBOUNCE_MS = 250;\n\nconst useUrlStateName = (defaultValue?: string) =>\n  useUrlStateString('name', defaultValue);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst useUrlStateEnabled = (_defaultValue?: string) =>\n  useUrlStateMultipleOptions('enabled', ['Enabled', 'Disabled']);\n\nconst useStateFactory = (column: IntegrationFilterColumn) => {\n  switch (column) {\n    case IntegrationFilterColumn.NAME:\n      return useUrlStateName;\n    case IntegrationFilterColumn.ENABLED:\n      return useUrlStateEnabled;\n    default:\n      assertNever(column);\n  }\n};\n\nexport const useIntegrationFilter = (debounce = DEBOUNCE_MS) => {\n  return useFilters(IntegrationFilterColumn, debounce, useStateFactory);\n};\n","import { Operations } from '../generated/OpenapiIntegrations';\n\ntype IntegrationHistoryParams = {\n  integrationId: string;\n  limit?: number;\n  sortBy?: 'created:desc';\n  includeDetails?: boolean;\n};\n\nexport const listIntegrationHistoryActionCreator = (\n  params: IntegrationHistoryParams\n) => {\n  return Operations.EndpointResourceGetEndpointHistory.actionCreator({\n    id: params.integrationId,\n    limit: params.limit,\n    sortBy: params.sortBy,\n    includeDetail: params.includeDetails,\n  });\n};\n","import {\n  addDangerNotification,\n  fromUtc,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport pLimit from 'p-limit';\nimport { useCallback, useContext, useEffect, useState } from 'react';\nimport { ClientContext } from 'react-fetching-library';\nimport { format } from 'react-string-format';\nimport { usePrevious } from 'react-use';\nimport { Dispatch } from 'redux';\n\nimport { IntegrationRow } from '../../../components/Integrations/Table';\nimport { Schemas } from '../../../generated/OpenapiIntegrations';\nimport { Messages } from '../../../properties/Messages';\nimport { listIntegrationHistoryActionCreator } from '../../../services/useListIntegrationHistory';\nimport { switchIntegrationEnabledStatusActionCreator } from '../../../services/useSwitchIntegrationEnabledStatus';\nimport { SavedNotificationScopeActions } from '../../../store/actions/SavedNotificationScopeAction';\nimport {\n  SavedNotificationScopeState,\n  Status,\n} from '../../../store/types/SavedNotificationScopeTypes';\nimport { UserIntegration } from '../../../types/Integration';\n\nconst MAX_NUMBER_OF_CONCURRENT_REQUESTS = 5;\n\nconst SUCCESS_STATUS: Array<Schemas.NotificationStatus> = [\n  'PROCESSING',\n  'SENT',\n  'SUCCESS',\n];\n\nexport const useIntegrationRows = (\n  integrations: Array<UserIntegration>,\n  reduxDispatch: Dispatch,\n  savedNotificationScope: SavedNotificationScopeState\n) => {\n  const [integrationRows, setIntegrationRows] = useState<Array<IntegrationRow>>(\n    []\n  );\n  const prevIntegrationsInput = usePrevious(integrations);\n\n  const { query } = useContext(ClientContext);\n  const [limit] = useState<pLimit.Limit>(() =>\n    pLimit(MAX_NUMBER_OF_CONCURRENT_REQUESTS)\n  );\n\n  const setIntegrationRowByIndex = useCallback(\n    (index: number, partialIntegration: Partial<IntegrationRow>) => {\n      setIntegrationRows((prevIntegrations) => {\n        const newIntegrations = [...prevIntegrations];\n        newIntegrations[index] = {\n          ...newIntegrations[index],\n          ...partialIntegration,\n        } as IntegrationRow;\n        return newIntegrations;\n      });\n    },\n    [setIntegrationRows]\n  );\n\n  const setIntegrationRowById = useCallback(\n    (id: string, partialIntegration: Partial<IntegrationRow>) => {\n      setIntegrationRows((prevIntegrations) => {\n        const index = prevIntegrations.findIndex(\n          (integration) => integration.id === id\n        );\n        if (index === -1) {\n          return prevIntegrations;\n        }\n\n        const newIntegrations = [...prevIntegrations];\n        newIntegrations[index] = {\n          ...newIntegrations[index],\n          ...partialIntegration,\n        } as IntegrationRow;\n        return newIntegrations;\n      });\n    },\n    [setIntegrationRows]\n  );\n\n  useEffect(() => {\n    if (integrations !== prevIntegrationsInput) {\n      setIntegrationRows((prev) => {\n        return integrations.map((integration) => ({\n          isOpen: false,\n          isSelected: false,\n          isEnabledLoading: false,\n          lastConnectionAttempts: [],\n          includeDetails: true,\n          isConnectionAttemptLoading: true,\n          ...prev.find((i) => i.id === integration.id),\n          ...integration,\n        }));\n      });\n\n      if (integrations) {\n        limit.clearQueue();\n\n        integrations\n          .map((integration) => integration.id)\n          .forEach((integrationId) => {\n            limit(() =>\n              query(\n                listIntegrationHistoryActionCreator({\n                  integrationId,\n                  limit: 5,\n                  sortBy: 'created:desc',\n                  includeDetails: true,\n                })\n              )\n            ).then((response) => {\n              if (response.payload && response.payload.status === 200) {\n                const last5 = response.payload.value.map((p) => ({\n                  isSuccess: SUCCESS_STATUS.includes(p.status),\n                  date: fromUtc(new Date(p.created as string)),\n                }));\n                setIntegrationRowById(integrationId, {\n                  isConnectionAttemptLoading: false,\n                  lastConnectionAttempts: last5,\n                });\n              } else {\n                setIntegrationRowById(integrationId, {\n                  isConnectionAttemptLoading: false,\n                  lastConnectionAttempts: undefined,\n                });\n              }\n            });\n          });\n      }\n    }\n  }, [\n    prevIntegrationsInput,\n    integrations,\n    setIntegrationRowById,\n    limit,\n    query,\n  ]);\n\n  const onCollapse = useCallback(\n    (_integration: IntegrationRow, index: number, isOpen: boolean) => {\n      setIntegrationRowByIndex(index, {\n        isOpen,\n      });\n    },\n    [setIntegrationRowByIndex]\n  );\n\n  const onEnable = useCallback(\n    (_integration: UserIntegration, index: number, isEnabled: boolean) => {\n      setIntegrationRowByIndex(index, {\n        isEnabledLoading: true,\n      });\n\n      if (savedNotificationScope) {\n        if (_integration.id === savedNotificationScope.integration.id) {\n          reduxDispatch(SavedNotificationScopeActions.start());\n        }\n      }\n\n      query(switchIntegrationEnabledStatusActionCreator(_integration)).then(\n        (response) => {\n          if (!response.error) {\n            setIntegrationRowByIndex(index, {\n              isEnabled,\n              isEnabledLoading: false,\n            });\n            if (savedNotificationScope) {\n              if (_integration.id === savedNotificationScope.integration.id) {\n                reduxDispatch(SavedNotificationScopeActions.finish(isEnabled));\n              }\n            }\n          } else {\n            const message = isEnabled\n              ? Messages.components.integrations.enableError\n              : Messages.components.integrations.disableError;\n\n            if (savedNotificationScope) {\n              if (_integration.id === savedNotificationScope.integration.id) {\n                reduxDispatch(\n                  SavedNotificationScopeActions.finish(_integration.isEnabled)\n                );\n              }\n            }\n\n            addDangerNotification(\n              message.title,\n              format(message.description, _integration.name),\n              true\n            );\n            setIntegrationRowByIndex(index, {\n              isEnabled: _integration.isEnabled,\n              isEnabledLoading: false,\n            });\n          }\n        }\n      );\n    },\n    [setIntegrationRowByIndex, query, reduxDispatch, savedNotificationScope]\n  );\n\n  useEffect(() => {\n    if (savedNotificationScope) {\n      if (savedNotificationScope.status === Status.LOADING) {\n        setIntegrationRowById(savedNotificationScope.integration.id, {\n          isEnabledLoading: true,\n        });\n      } else {\n        setIntegrationRowById(savedNotificationScope.integration.id, {\n          isEnabledLoading: false,\n          isEnabled: savedNotificationScope.integration.isEnabled,\n        });\n      }\n    }\n  }, [savedNotificationScope, setIntegrationRowById]);\n\n  return {\n    rows: integrationRows,\n    onCollapse,\n    onEnable,\n  };\n};\n","import React from 'react';\nimport MultiContentCard, {\n  MultiContentCardDividerVariant,\n} from '@patternfly/react-component-groups/dist/dynamic/MultiContentCard';\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Icon,\n  PageSection,\n  Text,\n  TextContent,\n  TextList,\n  TextListItem,\n  TextVariants,\n} from '@patternfly/react-core';\nimport {\n  ArrowRightIcon,\n  BellIcon,\n  CogIcon,\n  LockIcon,\n} from '@patternfly/react-icons';\nimport { IntegrationCategory } from '../../types/Integration';\nimport '../../app/App.scss';\nimport { Link } from 'react-router-dom';\n\ninterface DopeBoxProps {\n  category?: IntegrationCategory;\n}\n\nconst DopeBox: React.FunctionComponent<DopeBoxProps> = ({ category }) => {\n  const communicationsDetails = [\n    {\n      id: 0,\n      name: 'Configure Slack',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-configuring-insights-integration-with-slack_integrations',\n    },\n    {\n      id: 1,\n      name: 'Configure Google Chat',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-configuring-integration-with-gchat_integrations',\n    },\n    {\n      id: 2,\n      name: 'Configure Microsoft Teams',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-configuring-integration-with-teams_integrations',\n    },\n  ];\n\n  const reportingDetails = [\n    {\n      id: 3,\n      name: 'Configure Splunk',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-installing-configuring-insights-for-splunk_integrations',\n    },\n    {\n      id: 4,\n      name: 'Configure ServiceNow',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-installing-configuring-insights-for-snow_integrations',\n    },\n    {\n      id: 5,\n      name: 'Configure Event-Driven Ansible',\n      url: 'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/assembly-configuring-integration-with-eda_integrations',\n    },\n  ];\n\n  const integrationCards = [\n    <Card isFullHeight isPlain key=\"card-1\">\n      <CardHeader>\n        <TextContent>\n          <Text component={TextVariants.h4}>Getting Started</Text>\n        </TextContent>\n      </CardHeader>\n      <CardBody>\n        <TextContent>\n          <Text className=\"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-mb-sm pf-v5-u-link-color-hover\">\n            <Icon size=\"md\" className=\"pf-v5-u-pl-sm pf-v5-u-pr-md\">\n              <CogIcon className=\"pf-u-primary-color-100\" />\n            </Icon>\n            Configure applications\n          </Text>\n          <Text className=\"pf-v5-u-font-size-sm\">\n            To prepare for integration with the Hybrid Cloud Console, you must\n            configure incoming webhooks in your third-party applications.\n          </Text>\n        </TextContent>\n      </CardBody>\n      <CardFooter>\n        <TextContent>\n          {category === IntegrationCategory.COMMUNICATIONS && (\n            <TextList className=\"pf-v5-u-font-size-sm pf-v5-u-link-color pf-v5-u-ml-0\">\n              {communicationsDetails.map((communication) => (\n                <TextListItem key={communication.id}>\n                  <Button variant=\"link\" isInline>\n                    <Link to={communication.url} target=\"_blank\">\n                      {communication.name}\n                    </Link>{' '}\n                  </Button>\n                </TextListItem>\n              ))}\n            </TextList>\n          )}\n          {category === IntegrationCategory.REPORTING && (\n            <TextList className=\"pf-v5-u-font-size-sm pf-v5-u-link-color pf-v5-u-ml-0\">\n              {reportingDetails.map((reporting) => (\n                <TextListItem key={reporting.id}>\n                  <Button variant=\"link\" isInline>\n                    <Link to={reporting.url} target=\"_blank\">\n                      {reporting.name}\n                    </Link>{' '}\n                  </Button>\n                </TextListItem>\n              ))}\n            </TextList>\n          )}\n          {category === IntegrationCategory.WEBHOOKS && (\n            <Text>\n              <Button variant=\"link\" isInline>\n                <Link\n                  to=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/integrating_the_red_hat_hybrid_cloud_console_with_third-party_applications/index\"\n                  target=\"_blank\"\n                >\n                  Learn more\n                  <Icon className=\"pf-u-ml-sm\" isInline>\n                    <ArrowRightIcon />\n                  </Icon>\n                </Link>\n              </Button>\n            </Text>\n          )}\n        </TextContent>\n      </CardFooter>\n    </Card>,\n    <Card isFullHeight isPlain key=\"card-2\">\n      <CardBody className=\"pf-v5-u-pt-3xl-on-md\">\n        <TextContent>\n          <Text className=\"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-mb-sm pf-v5-u-link-color-hover\">\n            <Icon size=\"md\" className=\"pf-v5-u-pl-sm pf-v5-u-pr-md\">\n              <LockIcon className=\"pf-u-primary-color-100\" />\n            </Icon>\n            Configure user access\n          </Text>\n          <Text className=\"pf-v5-u-font-size-sm\">\n            To configure notifications and integration settings, you must be a\n            member of a group with the Notifications administrator role. This\n            group must be configured in User Access by an Organization\n            Administrator.\n          </Text>\n        </TextContent>\n      </CardBody>\n      <CardFooter>\n        <Text>\n          <Button variant=\"link\" isInline>\n            <Link\n              to=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/user_access_configuration_guide_for_role-based_access_control_rbac/index\"\n              target=\"_blank\"\n            >\n              Learn more\n              <Icon className=\"pf-u-ml-sm\" isInline>\n                <ArrowRightIcon />\n              </Icon>\n            </Link>\n          </Button>\n        </Text>\n      </CardFooter>\n    </Card>,\n    {\n      content: (\n        <Card isFullHeight isPlain key=\"card-3\">\n          <CardHeader>\n            <TextContent>\n              <Text component={TextVariants.h4}>Next Steps</Text>\n            </TextContent>\n          </CardHeader>\n          <CardBody>\n            <TextContent>\n              <Text className=\"pf-v5-u-font-size-sm pf-v5-u-font-weight-bold pf-v5-u-mb-sm pf-v5-u-link-color-hover\">\n                <Icon size=\"md\" className=\"pf-v5-u-pl-sm pf-v5-u-pr-md\">\n                  <BellIcon className=\"pf-u-primary-color-100\" />\n                </Icon>\n                Configure notifications portal\n              </Text>\n              <Text className=\"pf-v5-u-font-size-sm\">\n                You can configure the Hybrid Cloud Console to send event\n                notifications to all users on a new or existing channel in\n                Slack, Google Chat, or Microsoft Teams.\n              </Text>\n            </TextContent>\n          </CardBody>\n          <CardFooter>\n            <Text>\n              <Button variant=\"link\" isInline>\n                <Link\n                  to=\"https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2023/html/configuring_notifications_on_the_red_hat_hybrid_cloud_console/index\"\n                  target=\"_blank\"\n                >\n                  Learn more\n                  <Icon className=\"pf-u-ml-sm\" isInline>\n                    <ArrowRightIcon />\n                  </Icon>\n                </Link>\n              </Button>\n            </Text>\n          </CardFooter>\n        </Card>\n      ),\n      dividerVariant: MultiContentCardDividerVariant.left,\n    },\n  ];\n\n  return (\n    <PageSection className=\"pf-v5-u-px-0\">\n      <MultiContentCard\n        isExpandable\n        defaultExpanded\n        toggleText=\"Making use of Integrations\"\n        cards={integrationCards}\n      />\n    </PageSection>\n  );\n};\n\nexport default DopeBox;\n","import {\n  ExporterType,\n  Filter,\n  Operator,\n  Page,\n  addDangerNotification,\n  stringValue,\n  useSort,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { format } from 'date-fns';\nimport inBrowserDownload from 'in-browser-download';\nimport * as React from 'react';\nimport { useContext, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { AppContext } from '../../../app/AppContext';\nimport { IntegrationsEmptyState } from '../../../components/Integrations/EmptyState';\nimport { IntegrationFilters } from '../../../components/Integrations/Filters';\nimport { IntegrationsTable } from '../../../components/Integrations/Table';\nimport { IntegrationsToolbar } from '../../../components/Integrations/Toolbar';\nimport { useDeleteModalReducer } from '../../../hooks/useDeleteModalReducer';\nimport { useFormModalReducer } from '../../../hooks/useFormModalReducer';\nimport { useIntegrations } from '../../../hooks/useIntegrations';\nimport { usePage } from '../../../hooks/usePage';\nimport {\n  useListIntegrationPQuery,\n  useListIntegrationsQuery,\n} from '../../../services/useListIntegrations';\nimport { NotificationAppState } from '../../../store/types/NotificationAppState';\nimport {\n  IntegrationCategory,\n  UserIntegration,\n} from '../../../types/Integration';\nimport { integrationExporterFactory } from '../../../utils/exporters/Integration/Factory';\nimport { CreatePage } from '../Create/CreatePage';\nimport { IntegrationWizard } from '../Create/IntegrationWizard';\nimport IntegrationTestProvider from '../../../components/Integrations/Table/IntegrationTestProvider';\nimport { IntegrationDeleteModalPage } from '../Delete/DeleteModal';\nimport { useActionResolver } from './useActionResolver';\nimport { useIntegrationFilter } from './useIntegrationFilter';\nimport { useIntegrationRows } from './useIntegrationRows';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport DopeBox from '../../../components/Integrations/DopeBox';\n\nconst userIntegrationCopier = (userIntegration: Partial<UserIntegration>) => ({\n  ...userIntegration,\n  name: `Copy of ${userIntegration.name}`,\n});\n\nconst selector = (state: NotificationAppState) => ({\n  savedNotificationScope: state.savedNotificationScope,\n});\n\ninterface IntegrationListProps {\n  category?: IntegrationCategory;\n}\n\nconst IntegrationsList: React.FunctionComponent<IntegrationListProps> = ({\n  category,\n}: IntegrationListProps) => {\n  const dispatch = useDispatch();\n  const wizardEnabled = useFlag('insights.integrations.wizard');\n  const { savedNotificationScope } = useSelector(selector);\n  const [selectedIntegration, setSelectedIntegration] =\n    useState<UserIntegration>();\n  const [isTestModalOpen, setIsTestModalOpen] = useState(true);\n  const {\n    rbac: { canWriteIntegrationsEndpoints },\n  } = useContext(AppContext);\n\n  const integrationFilter = useIntegrationFilter();\n  const userIntegrations = useIntegrations(category);\n  const integrationFilterBuilder = React.useCallback(\n    (filters?: IntegrationFilters) => {\n      const filter = new Filter();\n      if (filters?.enabled?.length === 1) {\n        const isEnabled = filters.enabled[0].toLocaleLowerCase() === 'enabled';\n        filter.and('active', Operator.EQUAL, isEnabled.toString());\n      }\n\n      if (filters?.name) {\n        const name = stringValue(filters.name);\n        filter.and('name', Operator.EQUAL, name);\n      }\n\n      return filter.and(\n        'type',\n        Operator.EQUAL,\n        userIntegrations as Array<string>\n      );\n    },\n    [userIntegrations]\n  );\n\n  const [modalIsOpenState, modalIsOpenActions] =\n    useFormModalReducer<UserIntegration>(userIntegrationCopier);\n  const [deleteModalState, deleteModalActions] =\n    useDeleteModalReducer<UserIntegration>();\n\n  const sort = useSort();\n\n  const pageData = usePage<IntegrationFilters>(\n    20,\n    integrationFilterBuilder,\n    integrationFilter.filters,\n    sort.sortBy,\n    category\n  );\n  const integrationsQuery = useListIntegrationsQuery(pageData.page);\n  const exportIntegrationsQuery = useListIntegrationPQuery();\n\n  const integrations = React.useMemo(() => {\n    const payload = integrationsQuery.payload;\n    if (payload?.type === 'IntegrationPage') {\n      return payload.value;\n    }\n\n    return {\n      data: [],\n      count: 0,\n    };\n  }, [integrationsQuery.payload]);\n\n  const integrationRows = useIntegrationRows(\n    integrations.data,\n    dispatch,\n    savedNotificationScope\n  );\n\n  const onAddIntegrationClicked = React.useCallback(() => {\n    modalIsOpenActions.create();\n  }, [modalIsOpenActions]);\n\n  const onEdit = React.useCallback(\n    (integration: UserIntegration) => {\n      modalIsOpenActions.edit(integration);\n    },\n    [modalIsOpenActions]\n  );\n\n  const onTest = React.useCallback(\n    (integration: UserIntegration) => {\n      setSelectedIntegration(integration);\n      modalIsOpenActions.test(integration);\n    },\n    [modalIsOpenActions]\n  );\n\n  const onDelete = React.useCallback(\n    (integration: UserIntegration) => {\n      deleteModalActions.delete(integration);\n    },\n    [deleteModalActions]\n  );\n\n  const onExport = React.useCallback(\n    async (type: ExporterType) => {\n      const query = exportIntegrationsQuery.query;\n      const exporter = integrationExporterFactory(type);\n      const exportedIntegrations: Array<UserIntegration> = [];\n      let page = Page.of(\n        1,\n        100,\n        new Filter().and('type', Operator.EQUAL, 'webhook')\n      );\n      // eslint-disable-next-line no-constant-condition\n      while (true) {\n        const data = await query(page);\n        if (data?.payload?.status !== 200) {\n          if (exportedIntegrations.length === 0) {\n            addDangerNotification(\n              'Unable to download integrations',\n              'We were unable to download the integrations for exporting. Please try again.'\n            );\n            return;\n          } else {\n            addDangerNotification(\n              'Unable to download all integrations',\n              `We were unable to download all the integrations for exporting. Downloading: ${exportedIntegrations.length}.`\n            );\n            break;\n          }\n        }\n\n        if (data.payload.value.data.length === 0) {\n          break;\n        }\n\n        page = page.nextPage();\n        exportedIntegrations.push(...data.payload.value.data);\n      }\n      if (exportedIntegrations) {\n        inBrowserDownload(\n          exporter.export(exportedIntegrations),\n          `integrations-${format(new Date(Date.now()), 'y-dd-MM')}.${\n            exporter.type\n          }`\n        );\n      }\n    },\n    [exportIntegrationsQuery]\n  );\n\n  const actionResolver = useActionResolver({\n    canWrite: canWriteIntegrationsEndpoints,\n    onEdit,\n    onTest,\n    onDelete,\n    onEnable: integrationRows.onEnable,\n  });\n\n  const closeFormModal = React.useCallback(\n    (saved: boolean) => {\n      const query = integrationsQuery.query;\n      modalIsOpenActions.reset();\n      if (saved) {\n        query();\n      }\n    },\n    [modalIsOpenActions, integrationsQuery.query]\n  );\n\n  const closeDeleteModal = React.useCallback(\n    (deleted: boolean) => {\n      const query = integrationsQuery.query;\n      if (deleted) {\n        query();\n      }\n\n      deleteModalActions.reset();\n    },\n    [deleteModalActions, integrationsQuery.query]\n  );\n\n  useEffect(() => {\n    modalIsOpenState.isTest && setIsTestModalOpen(true);\n  }, [modalIsOpenState]);\n\n  // This is an estimate of how many rows are in the next page (Won't be always correct because a new row could be added while we are browsing)\n  // Is used for the skeleton loading\n  const loadingCount =\n    Math.min(\n      pageData.page.size,\n      integrations.count - (pageData.page.index - 1) * pageData.page.size\n    ) || 10;\n\n  const integrationsEmpty =\n    integrations.count < 1 &&\n    !integrationsQuery.loading &&\n    Object.values(integrationFilter.filters).every((filter) => !filter);\n\n  return (\n    <>\n      {integrationsEmpty && (\n        <IntegrationsEmptyState\n          onAddIntegration={\n            canWriteIntegrationsEndpoints ? onAddIntegrationClicked : undefined\n          }\n        />\n      )}\n      {!integrationsEmpty && (\n        <>\n          <DopeBox category={category} />\n          <IntegrationsToolbar\n            onAddIntegration={\n              canWriteIntegrationsEndpoints\n                ? onAddIntegrationClicked\n                : undefined\n            }\n            onExport={onExport}\n            filters={integrationFilter.filters}\n            setFilters={integrationFilter.setFilters}\n            clearFilters={integrationFilter.clearFilter}\n            count={integrations.count || 0}\n            pageCount={integrations.data.length}\n            page={pageData.page.index}\n            perPage={pageData.page.size}\n            pageChanged={pageData.changePage}\n            perPageChanged={pageData.changeItemsPerPage}\n          >\n            <IntegrationsTable\n              isLoading={integrationsQuery.loading}\n              loadingCount={loadingCount}\n              integrations={integrationRows.rows}\n              onCollapse={integrationRows.onCollapse}\n              onEnable={\n                canWriteIntegrationsEndpoints\n                  ? integrationRows.onEnable\n                  : undefined\n              }\n              actionResolver={actionResolver}\n              onSort={sort.onSort}\n              sortBy={sort.sortBy}\n            />\n          </IntegrationsToolbar>\n        </>\n      )}\n      {modalIsOpenState.isOpen && !wizardEnabled && (\n        <CreatePage\n          isEdit={modalIsOpenState.isEdit}\n          initialIntegration={modalIsOpenState.template || {}}\n          onClose={closeFormModal}\n        />\n      )}\n      {modalIsOpenState.isTest && (\n        <IntegrationTestProvider\n          integrationId={selectedIntegration?.id}\n          integrationType={selectedIntegration?.type}\n          onClose={() => setIsTestModalOpen(false)}\n          isModalOpen={isTestModalOpen}\n        />\n      )}\n      {wizardEnabled && category && (\n        <IntegrationWizard\n          isOpen={modalIsOpenState.isOpen}\n          isEdit={modalIsOpenState.isEdit}\n          template={modalIsOpenState.template}\n          closeModal={modalIsOpenActions.reset}\n          afterSubmit={integrationsQuery.query}\n          category={category}\n        />\n      )}\n      {deleteModalState.data && (\n        <IntegrationDeleteModalPage\n          onClose={closeDeleteModal}\n          integration={deleteModalState.data}\n        />\n      )}\n    </>\n  );\n};\n\nexport default IntegrationsList;\n","import {\n  Exporter,\n  ExporterType,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport { assertNever } from 'assert-never';\n\nimport { UserIntegration } from '../../../types/Integration';\nimport { IntegrationExporterCsv } from './Csv';\nimport { IntegrationExporterJson } from './Json';\n\nexport const integrationExporterFactory = (\n  type: ExporterType\n): Exporter<UserIntegration> => {\n  switch (type) {\n    case ExporterType.CSV:\n      return new IntegrationExporterCsv();\n    case ExporterType.JSON:\n      return new IntegrationExporterJson();\n  }\n\n  assertNever(type);\n};\n","import { defineMessages } from 'react-intl';\n\nexport default defineMessages({\n  notifications: {\n    id: 'notifications',\n    description: 'Application name',\n    defaultMessage: 'Notifications',\n  },\n  integrations: {\n    id: 'integrations',\n    description: 'Application name',\n    defaultMessage: 'Integrations',\n  },\n  integrationsEmptyStateTitle: {\n    id: 'integrationsEmptyStateTitle',\n    description: 'Integrations Empty State title',\n    defaultMessage: 'No integrations found',\n  },\n  integrationsTableEmptyStateBody: {\n    id: 'integrationsTableEmptyStateBody',\n    description: 'Integrations Empty State body',\n    defaultMessage:\n      'No integrations match the filter criteria. Remove all filters or clear all filters to show integrations.',\n  },\n  noFiredEventsTitle: {\n    id: 'noFiredEventsTitle',\n    description: 'No fired events title',\n    defaultMessage: 'No fired events',\n  },\n  noFiredEventsDescription: {\n    id: 'noFiredEventsDescription',\n    description: 'No fired events description',\n    defaultMessage:\n      'Either you have not set up any events on the Hybrid Cloud Console or no have been fired yet.',\n  },\n  manageEvents: {\n    id: 'manageEvents',\n    description: 'Manage events button label',\n    defaultMessage: 'Manage events',\n  },\n  event: {\n    id: 'event',\n    description: 'Event label',\n    defaultMessage: 'Event',\n  },\n  service: {\n    id: 'service',\n    description: 'Service label',\n    defaultMessage: 'Service',\n  },\n  date: {\n    id: 'date',\n    description: 'Date label',\n    defaultMessage: 'Date',\n  },\n});\n","import intlHelper from '@redhat-cloud-services/frontend-components-translations/intlHelper';\nimport { createIntl, createIntlCache } from 'react-intl';\nimport { DeepReadonly } from 'ts-essentials';\n\nimport messages from './DefinedMessages';\n\nconst cache = createIntlCache();\nconst locale = navigator.language.slice(0, 2);\nconst intl = createIntl(\n  {\n    // eslint-disable-next-line no-console\n    onError: console.log,\n    locale,\n  },\n  cache\n);\nconst intlSettings = { locale };\n\nconst MutableMessages = {\n  appName: intlHelper(intl.formatMessage(messages.notifications), intlSettings),\n  appNameIntegrations: intlHelper(\n    intl.formatMessage(messages.integrations),\n    intlSettings\n  ),\n  pages: {\n    integrations: {\n      list: {\n        title: 'Integrations',\n      },\n      add: {\n        title: 'Add integration',\n      },\n      edit: {\n        title: 'Edit integration',\n      },\n    },\n    splunk: {\n      page: {\n        title: 'Red Hat Insights integration for Splunk',\n        description:\n          'To finish the Splunk configuration, follow the instructions to start the automation process.',\n        help:\n          'Configure the integration between your Splunk instance' +\n          ' and Red Hat Insights to allow you to receive events from Insights.',\n        helpUrl:\n          'https://access.redhat.com/documentation/en-us/red_hat_hybrid_cloud_console/2022/html-single' +\n          '/configuring_notifications_and_integrations_on_the_red_hat_hybrid_cloud_console',\n      },\n    },\n    notifications: {\n      list: {\n        title: 'Notifications',\n        viewHistory: 'View event log',\n      },\n      eventLog: {\n        title: 'Event Log',\n        subtitle: 'View all events that have occurred in your organization.',\n        viewNotifications: 'View notification settings',\n      },\n      notificationsLog: {\n        title: 'Notifications log',\n        subtitle:\n          'View details for all notifications delivered to my notification drawer.',\n      },\n    },\n    error: {\n      title: 'Notifications',\n      emptyState: {\n        title: 'Unhandled error',\n        content: 'There was a problem trying to process your request.',\n        showDetails: 'Show details',\n        actions: {\n          goToIndex: 'Go back',\n        },\n      },\n    },\n  },\n  components: {\n    integrations: {\n      toolbar: {\n        actions: {\n          addIntegration: 'Add integration',\n          editIntegration: 'Edit integration',\n        },\n      },\n      table: {\n        title: 'Integrations',\n        columns: {\n          name: 'Name',\n          type: 'Type',\n          lastConnectionAttempt: 'Last connection attempt',\n          enabled: 'Enabled',\n        },\n      },\n      enableError: {\n        title: 'Unable to enable the Integration',\n        description:\n          'There was a problem trying to enable the integration: \"{0}\".\\nPlease try again.',\n      },\n      disableError: {\n        title: 'Unable to disable the Integration',\n        description:\n          'There was a problem trying to disable the integration: \"{0}\".\\nPlease try again.',\n      },\n    },\n    notifications: {\n      toolbar: {\n        actions: {},\n      },\n      table: {\n        title: 'Notifications',\n        columns: {\n          event: 'Event type',\n          action: 'Action',\n          recipient: 'Recipient',\n        },\n      },\n    },\n    eventLog: {\n      table: {\n        notFound: {\n          title: 'No matching events found',\n          description:\n            'This filter criteria matches no events. Try changing your filter settings.',\n        },\n      },\n    },\n  },\n  common: {\n    choose: 'Please choose',\n  },\n};\n\nexport const Messages: DeepReadonly<typeof MutableMessages> = MutableMessages;\n","import {\n  Page,\n  useTransformQueryResponse,\n} from '@redhat-cloud-services/insights-common-typescript';\nimport {\n  validatedResponse,\n  validationResponseTransformer,\n} from 'openapi2typescript';\nimport { useParameterizedQuery, useQuery } from 'react-fetching-library';\n\nimport { Operations } from '../generated/OpenapiIntegrations';\nimport { toIntegrations } from '../types/adapters/IntegrationAdapter';\nimport { IntegrationType, UserIntegration } from '../types/Integration';\n\nexport const listIntegrationsActionCreator = (pager?: Page) => {\n  const query = (pager ?? Page.defaultPage()).toQuery();\n  return Operations.EndpointResourceGetEndpoints.actionCreator({\n    limit: +query.limit,\n    offset: +query.offset,\n    type: query.filterType\n      ? (query.filterType as Array<IntegrationType>)\n      : undefined,\n    active: query.filterActive ? query.filterActive === 'true' : undefined,\n    name: query.filterName ? query.filterName.toString() : '',\n    sortBy: pager?.sort\n      ? `${pager.sort.column}:${pager.sort.direction}`\n      : undefined,\n  });\n};\n\nexport const listIntegrationIntegrationDecoder = validationResponseTransformer(\n  (payload: Operations.EndpointResourceGetEndpoints.Payload) => {\n    if (payload?.status === 200) {\n      return validatedResponse(\n        'IntegrationPage',\n        200,\n        {\n          data: toIntegrations(payload.value.data) as Array<UserIntegration>,\n          count: payload.value.meta.count,\n        },\n        payload.errors\n      );\n    }\n\n    return payload;\n  }\n);\n\nexport const useListIntegrationsQuery = (pager?: Page, initFetch?: boolean) =>\n  useTransformQueryResponse(\n    useQuery(listIntegrationsActionCreator(pager), initFetch),\n    listIntegrationIntegrationDecoder\n  );\n\nexport const useListIntegrationPQuery = () =>\n  useTransformQueryResponse(\n    useParameterizedQuery(listIntegrationsActionCreator),\n    listIntegrationIntegrationDecoder\n  );\n","import { useTransformQueryResponse } from '@redhat-cloud-services/insights-common-typescript';\nimport { useMutation } from 'react-fetching-library';\n\nimport { Operations } from '../generated/OpenapiIntegrations';\nimport {\n  toIntegration,\n  toServerIntegrationRequest,\n} from '../types/adapters/IntegrationAdapter';\nimport {\n  Integration,\n  NewIntegration,\n  UserIntegration,\n} from '../types/Integration';\n\nexport const createIntegrationActionCreator = (integration: NewIntegration) => {\n  return Operations.EndpointResourceCreateEndpoint.actionCreator({\n    body: toServerIntegrationRequest(integration),\n  });\n};\n\nexport const saveIntegrationActionCreator = (\n  integration: Integration | NewIntegration | UserIntegration\n) => {\n  if (integration.id) {\n    return Operations.EndpointResourceUpdateEndpoint.actionCreator({\n      body: toServerIntegrationRequest(integration),\n      id: integration.id,\n    });\n  }\n\n  return createIntegrationActionCreator(integration);\n};\n\nconst decoder = (\n  response:\n    | Operations.EndpointResourceCreateEndpoint.Payload\n    | Operations.EndpointResourceUpdateEndpoint.Payload\n) => {\n  if (response.type === 'Endpoint') {\n    return {\n      ...response,\n      type: 'Integration',\n      value: toIntegration(response.value),\n    };\n  }\n\n  return response;\n};\n\nexport const useSaveIntegrationMutation = () =>\n  useTransformQueryResponse(useMutation(saveIntegrationActionCreator), decoder);\n","import { getType } from 'typesafe-actions';\n\nimport { NotificationAppAction } from '../actions/NotificationAppAction';\nimport { SavedNotificationScopeActions } from '../actions/SavedNotificationScopeAction';\nimport {\n  SavedNotificationScopeState,\n  Status,\n} from '../types/SavedNotificationScopeTypes';\n\nexport const INITIAL_STATE: SavedNotificationScopeState = null;\n\nexport const SavedNotificationScopeReducer = (\n  state: SavedNotificationScopeState = INITIAL_STATE,\n  action: NotificationAppAction\n): SavedNotificationScopeState => {\n  switch (action.type) {\n    case getType(SavedNotificationScopeActions.setIntegration):\n      return {\n        integration: action.payload,\n        status: Status.DONE,\n      };\n    case getType(SavedNotificationScopeActions.start):\n      if (!state) {\n        return state;\n      }\n\n      return {\n        ...state,\n        status: Status.LOADING,\n      };\n    case getType(SavedNotificationScopeActions.finish):\n      if (!state) {\n        return state;\n      }\n\n      return {\n        integration: { ...state.integration, isEnabled: action.payload },\n        status: Status.DONE,\n      };\n    case getType(SavedNotificationScopeActions.unset):\n      return null;\n    default:\n      return state;\n  }\n};\n","import { notifications } from '@redhat-cloud-services/frontend-components-notifications/redux/reducers/notifications';\nimport { PortalNotificationConfig } from '@redhat-cloud-services/frontend-components-notifications/Portal';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport { Middleware } from 'redux';\nimport promiseMiddleware from 'redux-promise-middleware';\n\nimport {\n  INITIAL_STATE as SNS_INITIAL_STATE,\n  SavedNotificationScopeReducer,\n} from './reducers/SavedNotificationScopeReducer';\nimport { SavedNotificationScopeState } from './types/SavedNotificationScopeTypes';\n\ntype State = {\n  savedNotificationScope: SavedNotificationScopeState;\n  notifications: PortalNotificationConfig[] | undefined;\n};\n\nexport const getNotificationsRegistry = (...middleware: Middleware[]) => {\n  const registry = getRegistry<State>(\n    {\n      savedNotificationScope: SNS_INITIAL_STATE,\n      notifications: undefined,\n    },\n    [promiseMiddleware(), ...middleware]\n  );\n\n  registry.register({\n    savedNotificationScope: SavedNotificationScopeReducer,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    notifications: notifications as any,\n  });\n\n  return registry;\n};\n","import { ActionType, createAction } from 'typesafe-actions';\n\nimport { IntegrationRef } from '../../types/Notification';\n\nexport enum SavedNotificationScopeKeys {\n  SET_INTEGRATION = 'SET_INTEGRATION',\n  START = 'START',\n  FINISH = 'FINISH',\n  UNSET = 'UNSET',\n}\n\nexport const SavedNotificationScopeActions = {\n  setIntegration: createAction(\n    SavedNotificationScopeKeys.SET_INTEGRATION\n  )<IntegrationRef>(),\n  start: createAction(SavedNotificationScopeKeys.START)(),\n  finish: createAction(SavedNotificationScopeKeys.FINISH)<boolean>(),\n  unset: createAction(SavedNotificationScopeKeys.UNSET)(),\n};\n\nexport type SavedNotificationScopeAction = ActionType<\n  typeof SavedNotificationScopeActions\n>;\n","import { IntegrationRef } from '../../types/Notification';\n\nexport enum Status {\n  LOADING,\n  DONE,\n}\n\nexport type SavedNotificationScopeState = {\n  integration: IntegrationRef;\n  status: Status;\n} | null;\n","export enum ServerStatus {\n  RUNNING = 'RUNNING',\n  MAINTENANCE = 'MAINTENANCE',\n}\n\ntype ServerRunning = {\n  status: ServerStatus.RUNNING;\n};\n\ntype ServerMaintenance = {\n  status: ServerStatus.MAINTENANCE;\n  from: Date;\n  to: Date;\n};\n\nexport type Server = ServerRunning | ServerMaintenance;\n","import { Schemas } from '../../generated/OpenapiNotifications';\nimport { BehaviorGroup } from '../Notification';\nimport { reduceActions, toAction } from './NotificationAdapter';\n\ntype ServerBehaviorGroup = Schemas.BehaviorGroup;\n\nconst reportBehaviorGroup = (element: ServerBehaviorGroup): never => {\n  throw new Error('Invalid behavior group:' + JSON.stringify(element));\n};\n\nexport const toBehaviorGroup = (\n  serverBehaviorGroup: ServerBehaviorGroup\n): BehaviorGroup => {\n  const actions =\n    serverBehaviorGroup.actions?.map((behaviorAction) => {\n      if (behaviorAction.endpoint) {\n        return toAction(behaviorAction.endpoint);\n      }\n\n      return reportBehaviorGroup(serverBehaviorGroup);\n    }) || [];\n\n  return {\n    actions: reduceActions(actions),\n    events:\n      serverBehaviorGroup.behaviors?.map((b) => ({\n        id: b.event_type?.id ?? '',\n        applicationDisplayName: b.event_type?.application?.display_name ?? '',\n        eventTypeDisplayName: b.event_type?.display_name ?? '',\n        description: b.event_type?.description ?? '',\n      })) ?? [],\n    bundleId: serverBehaviorGroup.bundle_id,\n    displayName: serverBehaviorGroup.display_name,\n    id: serverBehaviorGroup.id ?? reportBehaviorGroup(serverBehaviorGroup),\n    bundleName: serverBehaviorGroup.bundle?.display_name ?? '',\n    isDefault: !!serverBehaviorGroup.default_behavior,\n  };\n};\n"],"names":["useGetBundles","includeApplications","initFetch","useQuery","NotificationResourceGetBundleFacets","actionCreator","getBundlesAction","NotAuthorizedPage","chrome","useChrome","bundleName","useParams","getBundles","bundles","useMemo","payload","status","value","find","b","name","location","useLocation","intl","useIntl","userPreferences","href","localUrl","isBeta","myUserAccess","serviceName","getApp","Config","integrations","subAppId","formatMessage","notifications","pathname","linkTo","eventLog","title","displayName","description","PageHeader","Split","SplitItem","isFilled","paddingBottom","StackItem","NotAuthorized","CheckReadPermissions","props","rbac","hasReadPermissions","canReadIntegrationsEndpoints","canReadEvents","canReadNotifications","children","IntegrationsListPage","updateDocumentTitle","getBundle","notificationsOverhaul","useFlag","Section","className","Messages","pages","list","Button","variant","component","Link","to","DOCUMENTATION_URL","splunk","page","helpUrl","OPEN_CASE_URL","SplunkSetupFinished","isSuccess","error","SplunkSetupFinishedSuccess","SplunkSetupFinishedFailure","EmptyState","EmptyStateHeader","titleText","icon","EmptyStateIcon","color","headingLevel","EmptyStateBody","EmptyStateFooter","target","rel","EmptyStateActions","getBehaviorGroupByNotificationDecoder","validationResponseTransformer","validatedResponse","map","id","errors","NotificationServiceUpdateEventTypeBehaviors","NotificationResourceUpdateEventTypeBehaviors","linkBehaviorGroupAction","notificationId","behaviorGroupIds","body","eventTypeId","decoder","type","behaviorGroup","display_name","bundleId","bundle_id","isDefault","undefined","actions","events","saveBehaviorGroupActionCreator","NotificationResourceUpdateBehaviorGroup","endpoint_ids","endpointIds","event_type_ids","eventTypesIds","NotificationResourceCreateBehaviorGroup","useSaveBehaviorGroupMutation","useTransformQueryResponse","useMutation","updateBehaviorGroupActionsActionCreator","params","NotificationResourceUpdateBehaviorGroupActions","behaviorGroupId","DEFAULT_SPLUNK_EVENTS","advisor","policies","drift","compliance","patch","vulnerability","useAttachEventsToSplunk","getAllEventTypes","query","useClient","fetchPage","async","Page","defaultPage","withSort","Sort","by","Direction","ASCENDING","errorObject","data","length","nextPage","Error","useGetAllEventTypes","client","getAnyBehaviorGroupByNotification","NotificationResourceGetLinkedBehaviorGroups","getBehaviorGroupByNotificationAction","useGetAnyBehaviorGroupByNotification","appendActionToNotification","eventType","newActionIds","onProgress","selectedEventTypes","filter","application","expectEvents","includes","console","log","SplunkURLSchema","url","test","urlObj","URL","search","SplunkSetupForm","setStep","stepIsInProgress","setStepIsInProgress","stepVariant","setStepVariant","hecToken","setHecToken","splunkServerHostName","setHostName","automationLogs","setAutomationLogs","setError","startSplunkAutomation","createSplunkIntegration","mutate","useSaveIntegration","integrationName","newIntegration","Integration","SPLUNK","secretToken","isEnabled","sslVerificationEnabled","useCreateSplunkIntegration","createSplunkBehaviorGroup","getBundleByName","response","bundle","useGetBundleByName","behaviorGroupName","useCreateSplunkBehaviorGroup","updateSplunkBehaviorActions","integration","push","useUpdateSplunkBehaviorActions","attachEvents","useSplunkSetup","isDisabled","setIsDisabled","useState","validatedServerHostname","setValidatedServerHostname","default","validatedHecToken","setValidatedHecToken","useEffect","every","v","success","message","newLog","prevLogs","Grid","GridItem","span","Form","FormGroup","label","labelIcon","Popover","headerContent","bodyContent","onClick","e","preventDefault","isRequired","fieldId","TextInput","validated","onChange","_event","isValid","onHostnameChange","FormHelperText","HelperText","HelperTextItem","uuid","onHecTokenChange","ActionGroup","SplunkAutomationButton","onStart","addDangerNotification","SplunkSetupFailedToast","onFinish","prevStep","CodeBlock","CodeBlockCode","isLoading","inline","ListItem","SplunkSetupTitle","help","footerContent","SplunkSetupPage","step","Card","CardBody","hasGutter","ProgressStepper","isVertical","ProgressStep","isCurrent","titleId","Divider","orientation","ButtonLink","EventLogDateFilterValue","labels","TODAY","YESTERDAY","LAST_7","LAST_14","CUSTOM","datePickerClassName","style","backgroundColor","important","cursor","$nest","borderBottomColor","EventLogSelectObject","constructor","this","toString","compareTo","selectOption","dateInputProps","readOnly","CustomDateFilter","maxDate","Date","minDate","add","days","startRangeValidators","date","isBefore","isAfter","period","endRangeValidators","setStartDate","start","setPeriod","startDate","parseISO","draft","min","setEndDate","end","startValue","format","endValue","startDateRef","useRef","endDateRef","onClickStartDateInput","current","setCalendarOpen","onClickEndDateInput","startDateInputProps","endDateInputProps","DatePicker","placeholder","inputProps","validators","_e","val","ref","EventLogDateFilter","options","Object","values","SelectOption","key","isOpen","setOpen","onToggle","prev","onSelect","selectObject","setValue","Select","single","selections","retentionDays","getHeaderContent","TextContent","Text","TableHelpPopover","hasAutoWidth","TableHelp","tableBody","NotificationStatusFailed","Status","text","Icon","I","NotificationStatusUnknown","NotificationStatusProcessing","NotificationStatusSent","NotificationStatusSuccess","NotificationStatusWarning","tableData","ActionsHelpPopover","headerClass","minWidth","EventLogActionPopoverContent","action","getIntegrationRecipient","recipient","useAsync","Table","borders","compact","isStickyHeader","Thead","Tr","Th","Tbody","Td","types","endpointType","loading","Skeleton","width","Tooltip","content","last","isDegraded","toDisplayStatus","successCount","EMAIL_SUBSCRIPTION","errorCount","EventLogTableColumns","labelClassName","toLabelProps","actionStatus","EventLogTable","onSort","columnIndex","sortByDirection","_extraData","externalOnSort","sortOptions","EVENT","SERVICE","DATE","sortBy","direction","sortDirection","index","sortColumn","rows","Array","_","i","event","LabelGroup","a","Label","DateFormat","EmptyStateSearch","EmptyStateVariant","full","components","table","notFound","sort","ButtonVariant","plain","useNotifications","insights","getInsights","environment","getInsightsEnvironment","EventLogFilterColumn","areEqual","arr1","arr2","noOrder","idx","isChecked","treeNode","checkProps","checked","childChecked","some","child","allChildrenChecked","EventLogTreeFilter","groups","filters","updateFilters","initialize","init","forEach","group","currentFilter","currentFilterChipValues","chips","chip","items","checkAll","item","initTreeNodeById","treeNodeById","setTreeNodeById","isToggled","setIsToggled","treeDataArray","activeFilters","activeBundleIds","bundleIds","parentFilter","category","childNode","childFilter","isRead","keys","activeFilter","activeChips","prevBundles","prevFilter","entry","prevChips","currChips","Dropdown","toggle","DropdownToggle","toggleIndicator","AngleDownIcon","TreeView","hasCheckboxes","onCheck","parentNode","leafNode","notificationTypes","Notification","DRAWER","INTEGRATION","actionStatusMetadata","chipValue","EventLogToolbar","useIntegrations","actionTypeMetadata","notification","toUpperCase","concat","filterMetadata","ACTION_TYPE","exclusive","ACTION_STATUS","primaryToolbarFilterConfig","setFilters","clearFilter","metaData","customFilters","setCustomFilters","toolbarConfig","usePrimaryToolbarFilterConfig","defaultDelete","activeFiltersConfig","onDelete","customDelete","rawFilterConfigs","regularFilterConfigs","customFilterConfigs","filterConfig","idxToRemove","deleteFilter","deletedChipValues","adjusted","splice","mapToEventLogCustomFilter","createCustomFilterObj","applications","applicationsByBundle","service","queryParam","nameSplit","split","partialBundleFilters","applicationFilter","filterValues","bundleProducer","currBundleFilters","bundleFilter","usePrimaryToolbarFilterConfigWrapper","bundleOptions","pageChanged","inner","perPageChanged","perPage","topPaginationProps","itemCount","count","isCompact","Pagination","top","onSetPage","onFirstClick","onPreviousClick","onNextClick","onLastClick","onPageInput","onPerPageSelect","bottomPaginationProps","bottom","getOuiaProps","PrimaryToolbar","dedicatedAction","dateFilter","setDateFilter","pagination","subtitle","toNotificationEvent","serverEvent","event_type","fromUtc","created","sortEventActions","groupActions","first","second","localeCompare","actionsById","actionsWithoutEndpoint","endpoint_id","newAction","initAction","isFailed","endpoint_type","sub_type","endpoint_sub_type","eventDecoder","getEndpointAction","EndpointResourceGetEndpoint","DATE_FORMAT","EventLogPage","getEndpoint","useParameterizedQuery","eventLogFilters","debounce","useStateFactory","useService","useUrlStateMultipleOptions","useBundle","useActionType","useActionStatus","useEvent","useUrlStateString","column","BUNDLE","useFilters","useEventLogFilter","setSortDirection","setSortColumn","filterBuilder","useCallback","Filter","selectedBundleNames","queryParams","and","Operator","EQUAL","selectedAppNames","appName","applicationName","endpointTypes","filterPeriod","today","toUtc","sub","toDate","yesterday","useFilterBuilder","eventsPage","usePage","paging","defaultPerPage","eventsQuery","toQuery","EventResourceGetEvents","limit","offset","filterBundleIds","appIds","filterAppIds","invocationResults","filterInvocationResults","filterStatus","filterEndpointTypes","filterStart","endDate","filterEnd","eventTypeDisplayName","filterEvent","includeActions","useGetEvents","meta","eventNotificationPageUrl","endpoint","properties","only_admins","secondary","viewNotifications","changeItemsPerPage","changePage","size","pageCount","getApplicationsAction","NotificationResourceGetApplicationsFacets","useGetApplicationsLazy","TabComponent","activeKey","activeTabKey","setActiveTabKey","Tabs","role","tabIndex","verticalAlign","height","WebhookIcon","alt","src","ActionTypeToIcon","actionType","ActionComponentWrapper","ActionComponent","Spinner","hasError","GroupNotFound","onClose","CommaSeparator","position","users","join","u","ignorePreferences","g","groupId","BehaviorGroupActionsSummaryLayout","h6","BehaviorGroupActionsSummaryImpl","BehaviorGroupActionsSummarySkeleton","contentWidth","_unused","BehaviorGroupActionsSummary","cardClassName","BehaviorGroupCardLayout","switchOpen","isFlat","CardHeader","isDefaultBehavior","KebabToggle","dropdownItems","isPlain","right","menuAppendTo","document","hasNoOffset","appendTo","h4","BehaviorGroupCardImpl","onClickEdit","onEdit","onClickDelete","DropdownItem","BehaviorGroupCardSkeleton","BehaviorGroupCard","cardsWrapperClassName","overflow","BehaviorGroupCardListLayout","Flex","alignItems","alignContent","flexWrap","BehaviorGroupaCrdListImpl","behaviorGroups","FlexItem","BehaviorGroupCardListSkeleton","BehaviorGroupCardList","BehaviorGroupWizardFooter","wizardContext","WizardContext","WizardFooter","primary","onNext","activeStep","enableNext","nextButtonText","hideBackButton","onBack","hideCancelButton","link","BehaviorGroupWizard","useFormikContext","onPointerEnterCapture","onPointerLeaveCapture","Wizard","steps","footer","startAtStep","onGoToStep","onSave","RecipientContext","createContext","getIntegrations","getNotificationRecipients","useRecipientContext","useContext","RecipientContextProvider","Provider","SaveBehaviorGroupOperation","RecipientOption","equals","ReducerActionType","reducerFunction","state","SET_FILTER_VALUE","lastSearch","loadingFilter","LOAD_FILTER_VALUE","show","USE_DEFAULTS","SET_DEFAULTS","defaultValues","loadingDefault","useTypeaheadReducer","dispatch","useReducer","debouncedState","setDebouncedState","useDebounce","setFilterValue","loadFilterValue","setDefaults","useDefaults","IntegrationRecipientTypeahead","integrationType","selected","onSelected","chooseText","toLowerCase","setIsOpen","inputValue","setInputValue","focusedItemIndex","setFocusedItemIndex","activeItem","setActiveItem","textInputRef","dispatchers","existingIntegrations","integrationActions","Set","then","defaults","integrationsMapper","recipients","has","currRecipient","isSelected","isFocused","selection","sel","onInputKeyDown","enabledMenuItems","menuItem","firstMenuItem","focusedItem","prevIsOpen","indexToFocus","option","replace","handleMenuArrowKeys","onToggleClick","onTextInputChange","currentTarget","trim","_ev","onOpenChange","toggleRef","MenuToggle","innerRef","isExpanded","isFullWidth","TextInputGroup","TextInputGroupMain","onKeyDown","autoComplete","SelectList","getOptions","mapper","loadingMapper","isNoResultsOption","rbacGroupKey","rbacGroupLabel","renderSelectGroup","SelectGroup","r","getKey","recipientMapper","userOptions","RecipientTypeahead","prevOpen","usePrevious","rbacOptions","useRecipientOptionMemo","s","selectContent","unselect","element","evt","stopPropagation","Chip","maxHeight","checkbox","onClear","isGrouped","isCheckboxSelectionBadgeHidden","isInputValuePersisted","placeholderText","ChipGroup","dummyOnToggle","RecipientForm","integrationSelected","WEBHOOK","recipientSelected","recipientOnClear","typeahead","ActionOption","kind","notificationType","actionName","NoIntegrationConfigured","Comp","pointerEvents","testNoIntegrationRenderWithoutRelAndTarget","ActionTypeahead","hasIntegrations","setHasIntegrations","reduce","actionSelected","selectedOption","integrationTypes","selectableOptions","availableNotificationTypes","availableIntegrationTypes","selectedNotifications","o","cssRaw","tableHeaderClassName","borderBottom","paddingLeft","paddingRight","tableBodyClassName","alignLeftClassName","textAlign","cells","transforms","cellWidth","emptySpan","BehaviorGroupFormActionsTable","setValues","touched","setFieldTouched","form","touchedActions","errorActions","setValueDispatch","updater","Function","addAction","rowHandlers","setActions","handleActionSelected","row","handleIntegrationSelected","handleRecipientSelected","rowAsNotification","originalRecipient","findIndex","handleRecipientOnClear","path","isTouched","toTableRows","actionResolver","rowData","handleRemove","isOutsideDropdown","actionsToggle","EditBehaviorGroupForm","FieldArray","helpers","ActionIntegration","oneOf","required","integrationId","ActionNotify","ActionsArray","obj","hasOwnProperty","context","foundEmail","integrationIds","createError","ActionAndRecipientsStep","Title","schema","BasicInformationStep","ouiaId","FormTextInput","max","EventTypeTable","applicationDisplayName","ReviewStep","DescriptionList","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","noOp","InternalBehaviorGroupWizardPage","currentStep","setCurrentStep","validateForm","saving","originalBehaviorGroup","saveBehaviorGroupMutation","ClientContext","fetchingIntegrations","setFetchingIntegrations","save","needsSavingDisplayName","needsSavingActions","needsSavingEventTypes","originalEvents","newEvents","toFetch","uniqWith","isEqual","enpointIds","Promise","all","systemProps","systemProperties","EndpointResourceGetOrCreateEmailSubscriptionEndpoint","onlyAdmins","group_id","EndpointResourceGetOrCreateDrawerSubscriptionEndpoint","result","newIds","remainingIds","ids","toAdd","shift","actionsToIdList","request","operation","CREATE","UPDATE","catch","isSaving","useSaveBehaviorGroup","addSuccessNotification","associateEventTypeStep","basicInformationStep","associateEventTypesStep","actionAndRecipientStep","maxStep","setMaxStep","invalidSteps","setInvalidSteps","Math","delete","lastAvailableStep","from","canJumpTo","useSteps","currentStepModel","stepValidationSchema","setValidationSchema","validationSchema","goNext","shouldGoNext","goBack","BehaviorGroupWizardPage","getRecipients","rbacGroups","useGetRecipients","of","useGetIntegrations","actionsContextValue","Formik","validateOnMount","onSubmit","initialValues","validateOnBlur","validateOnChange","BehaviorGroupDeleteModal","toDelete","useOnDeleteWrapper","cancelButtonTitle","conflictingNotifications","cancelButtonVariant","ackDelete","setAckDelete","Stack","Checkbox","ExpandableSection","toggleText","DeleteModal","isDeleting","titleIconVariant","actionButtonDisabled","BehaviorGroupDeleteModalSkeleton","deleteBehaviorGroupAction","NotificationResourceDeleteBehaviorGroup","defaultNotificationsDecoder","DeleteBehaviorGroupPage","deleteBehaviorGroup","affected","NotificationResourceGetEventTypesAffectedByRemovalOfBehaviorGroup","getAffectedNotificationsByBehaviorGroupAction","BehaviorGroupAddButton","buttonProps","isOrgAdmin","setIsOrgAdmin","auth","getUser","user","identity","is_org_admin","button","isAriaDisabled","BehaviorGroupsSection","setFilter","filteredBehaviors","behaviorGroupContent","lowerCaseFilter","bg","editModalState","editModalActions","useFormModalReducer","deleteModalState","deleteModalActions","useDeleteModalReducer","createGroup","create","onCloseModal","saved","reload","reset","edit","onCloseDelete","deleted","onClearFilter","p","SearchInput","canWriteNotifications","template","behaviorGroupDecoder","NotificationNotFound","getNotification","tabMapping","configuration","noEvents","BundlePageBehaviorGroupContent","NotificationResourceFindBehaviorGroupsByBundleId","useGetBehaviorGroups","isLoadingGroups","originalValues","bgIndex","aIndex","recipientIndex","rbacRecipient","useBehaviorGroupContent","navigate","useNavigate","tab","URLSearchParams","get","onExport","eventTypePage","useEventTypesPage","useListNotifications","pageController","notificationRows","updateBehaviorGroupLink","startEditMode","finishEditMode","cancelEditMode","updateBehaviorGroups","setNotificationRows","prevNotificationInput","removeBehaviorGroup","behaviors","linkBehavior","setEditMode","command","isEditMode","loadingActionStatus","draftNotification","oldBehaviors","_prev","useBehaviorGroupNotificationRows","onBehaviorGroupLinkUpdated","isLinked","onStartEditing","onFinishEditing","onCancelEditing","searchParams","set","newSearchParams","selectedTab","Tab","eventKey","TabTitleText","clearFilters","appFilterOptions","pageAdapter","NotificationsBehaviorGroupTable","bundleMapping","rhel","openshift","NotificationListBundlePage","isFedramp","eventLogPageUrl","getApplications","mainPage","Main","paddingLeftClassName","global_spacer_lg","eventLogButton","viewHistory","timeConfigPage","TimeConfig","TimeConfigComponent","bundleTabs","getInitialApplications","selectedBundle","settings","BundleStatus","NotificationsListPage","bundleList","NOT_FOUND","FAILED_TO_LOAD","LOADING","AppSkeleton","getbundleTabs","isBundleStatus","NotificationsLogDateFilterValue","formatPeriod","NotificationsLogDateFilter","Bullseye","sm","SearchIcon","isEmptyState","drawer","onPagination","getSortParams","defaultDirection","colSpan","source","newPage","widgetId","ToolbarContent","ToolbarItem","T","FilterIcon","sortMapper","NotificationsLogPage","setData","setPagination","setSort","filterPeriodMapper","createFilter","callApi","sort_by","append","fetch","ok","json","prevState","notificationsLog","IconName","heading","linkTitle","linkTarget","expandableContent","isRedirect","iconElement","expanded","setExpanded","USER","RUNNING","USERS","BELL","DataListItem","DataListItemRow","DataListToggle","DataListItemCells","dataListCells","DataListCell","DataListAction","isPlainButtonAction","DataListContent","isHidden","LEARN_MORE","CONFIGURE_INTEGRATIONS","CONFIGURE_SOURCES","overview","configureEvents","legacyRoutes","routesOverhaul","isSourcesIntegrations","md","lg","CardTitle","CardFooter","DataList","window","open","Routes","pathRoutes","unshift","pathRoute","Route","Navigate","AppContext","canWriteIntegrationsEndpoints","server","S","useAppContext","ouia","centered","RbacGroupContext","useRbacGroups","Schemas","Operations","zodSchemaAccess","permission","resourceDefinitions","zodSchemaResourceDefinition","nonstrict","zodSchemaAdditionalGroup","optional","nullable","zodSchemaCrossAccountRequest","end_date","request_id","start_date","target_account","zodSchemaCrossAccountRequestByAccount","email","first_name","last_name","zodSchemaCrossAccountRequestByUserId","user_id","zodSchemaCrossAccountRequestDetailByAccount","zodSchemaCrossAccountRequestWithRoles","zodSchemaCrossAccountRequestDetailByUseId","roles","permissions","zodSchemaPermission","zodSchemaGroup","zodSchemaGroupOut","zodSchemaUUID","zodSchemaTimestamped","admin_default","platform_default","principalCount","int","roleCount","system","zodSchemaListPagination","links","zodSchemaPaginationLinks","zodSchemaPaginationMeta","next","previous","resource_type","verb","zodSchemaPolicy","zodSchemaPolicyExtended","zodSchemaRoleOut","zodSchemaPrincipal","is_active","username","zodSchemaPrincipalIn","attributeFilter","zodSchemaResourceDefinitionFilter","zodSchemaRole","accessCount","policyCount","zodSchemaRoleOutDynamic","groups_in","groups_in_count","modified","Access","AccessPagination","AdditionalGroup","CrossAccountRequest","CrossAccountRequestByAccount","CrossAccountRequestByUserId","CrossAccountRequestDetail","CrossAccountRequestDetailByAccount","CrossAccountRequestDetailByUseId","CrossAccountRequestIn","CrossAccountRequestOut","CrossAccountRequestPagination","CrossAccountRequestPatch","CrossAccountRequestUpdateIn","CrossAccountRequestWithRoles","detail","Error403","Group","GroupOut","GroupPagination","GroupPrincipalIn","principals","GroupRoleIn","GroupRolesPagination","GroupWithPrincipals","GroupWithPrincipalsAndRoles","ListPagination","PaginationLinks","PaginationMeta","Permission","PermissionOptionsPagination","PermissionPagination","Policy","PolicyExtended","PolicyIn","PolicyPagination","Principal","PrincipalIn","PrincipalOut","PrincipalPagination","ResourceDefinition","ResourceDefinitionFilter","Role","RoleIn","access","RoleOut","RoleOutDynamic","RolePagination","RolePaginationDynamic","RolePatch","RoleWithAccess","api_version","commit","Timestamped","UUID","__Empty","GetPrincipalAccess","ListCrossAccountRequests","CreateCrossAccountRequests","GetCrossAccountRequest","PutCrossAccountRequest","ListGroups","CreateGroup","GetGroup","UpdateGroup","DeleteGroup","GetPrincipalsFromGroup","AddPrincipalToGroup","DeletePrincipalFromGroup","ListRolesForGroup","AddRoleToGroup","DeleteRoleFromGroup","ListPermissions","ListPermissionOptions","ListPolicies","CreatePolicies","GetPolicy","UpdatePolicy","DeletePolicy","ListPrincipals","ListRoles","CreateRoles","GetRole","UpdateRole","DeleteRole","GetRoleAccess","GetStatus","orderBy","order_by","actionBuilder","config","rules","ValidateRule","build","queryBy","query_by","account","approvedOnly","approved_only","nameMatch","name_match","scope","roleNames","role_names","roleDiscriminator","role_discriminator","platformDefault","adminDefault","principalUsername","principal_username","usernames","exclude","roleName","role_name","roleDisplayName","role_display_name","roleDescription","role_description","roleSystem","role_system","Response200","resourceType","excludeGlobals","exclude_globals","excludeRoles","exclude_roles","allowedOnly","allowed_only","field","groupName","group_name","groupUuid","group_uuid","matchCriteria","match_criteria","sortOrder","sort_order","adminOnly","admin_only","addFields","add_fields","getPage","hasMore","RbacGroupContextProvider","setLoading","setRbacGroups","sync","allGroups","hasMorePages","useSyncInterval","zodSchemaApplication","zodSchemaApplication1","zodSchemaLocalDateTime","updated","zodSchemaBasicAuthentication","password","zodSchemaBehaviorGroupAction","zodSchemaEndpoint","zodSchemaBehaviorGroupActionId","endpointId","zodSchemaBundle","zodSchemaCamelProperties","basic_authentication","disable_ssl_verification","extras","secret_token","zodSchemaEmailSubscriptionProperties","ignore_preferences","zodSchemaEmailSubscriptionType","enabled","zodSchemaWebhookProperties","server_errors","zodSchemaEndpointStatus","zodSchemaEndpointType","zodSchemaEnvironment","zodSchemaEventLogEntry","zodSchemaEventLogEntryAction","details","invocation_result","zodSchemaEventLogEntryActionStatus","zodSchemaEventType","application_id","zodSchemaEventTypeBehavior","zodSchemaEventTypeBehaviorId","zodSchemaHttpType","zodSchemaMeta","zodSchemaNotificationStatus","zodSchemaStatus","zodSchemaTemplate","method","AddAccessRequest","AddApplicationRequest","owner_role","AggregationEmailTemplate","body_template","body_template_id","subject_template","subject_template_id","subscription_type","Application","Application1","BasicAuthentication","BehaviorGroup","default_behavior","BehaviorGroupAction","BehaviorGroupActionId","Bundle","CamelProperties","CreateBehaviorGroupRequest","CreateBehaviorGroupResponse","endpoints","event_types","CurrentStatus","end_time","start_time","EmailSubscriptionProperties","EmailSubscriptionType","Endpoint","EndpointPage","EndpointProperties","EndpointStatus","EndpointType","Environment","EventLogEntry","EventLogEntryAction","EventLogEntryActionStatus","EventType","EventTypeBehavior","EventTypeBehaviorId","Facet","zodSchemaFacet","HttpType","InstantEmailTemplate","event_type_id","InternalApplicationUserPermission","application_display_name","InternalRoleAccess","InternalUserPermissions","is_admin","LocalDate","LocalDateTime","MessageValidationResponse","Meta","NotificationHistory","endpointSubType","invocationResult","invocationTime","NotificationStatus","PageEventLogEntry","PageEventType","RenderEmailTemplateRequest","RequestDefaultBehaviorGroupPropertyList","RequestEmailSubscriptionProperties","ServerInfo","Template","UpdateBehaviorGroupRequest","WebhookProperties","StatusResourceGetCurrentStatus","adapter","currentStatus","Enum","MAINTENANCE","Server","useApp","serverStatus","setRbac","setServer","setOrgAdmin","fetchRBAC","hasPermission","AnyNotificationsPortal","NotificationsPortal","store","useStore","removeBorderBottomClass","meaning","UseDeleteModalReducerActionType","initialState","reducer","DELETE","RESET","makeDeleteAction","UseFormModalReducerActionType","isEdit","isTest","isCopy","copyFunction","TEST","EDIT","buildReducer","EmptyIntegrationCard","TitleIcon","isFullHeight","maxWidth","isInline","IntegrationsEmptyState","onAddIntegration","Gallery","minWidths","disabled","toolbar","addIntegration","AggregatedConnectionAttemptStatus","aggregateConnectionAttemptStatus","attempts","UNKNOWN","failures","ERROR","WARNING","SUCCESS","ConnectionAttemptType","ConnectionAttempt","FAILED","getIcon","ConnectionAlert","Alert","alertVariant","attempt","ConnectionDegraded","warning","ConnectionFailed","danger","GoogleChatExpandedContent","TextList","dl","TextListItem","expandedContentTitleClass","dt","dd","IntegrationExpandedContent","SlackExpandedContent","TeamsExpandedContent","fontWeight","ExpandedContent","SLACK","TEAMS","GOOGLE_CHAT","degradedClassName","Degraded","IntegrationStatus","StatusCreationFailure","includeDetails","StatusProcessing","lastConnectionAttempts","aggregatedConnectionAttemptStatus","StatusReady","lastConnectionAttemptStatus","StatusSuccess","StatusEventFailure","StatusUnknown","getConnectionAlert","columns","cellFormatters","sortable","lastConnectionAttempt","info","popover","popoverProps","tableClassName","borderStyle","buildClassNames","RowWrapper","trRef","rowProps","rest","hidden","IntegrationsTable","onCollapseHandler","_index","onCollapse","propsOnSort","mapping","asc","DESCENDING","propsSortBy","desc","onEnable","isConnectionAttemptLoading","isEnabledLoading","Switch","fullWidth","parent","actionsResolverCallback","integrationIndex","integrationRow","ouiaSafe","SkeletonTable","loadingCount","integrationsEmptyStateTitle","integrationsTableEmptyStateBody","rowWrapper","IntegrationFilterColumn","enabledTextClassName","marginLeft","NAME","ENABLED","IntegrationsToolbar","actionsConfig","kebabToggleProps","exportConfig","useTableExportConfig","IntegrationExporterCsv","ExporterCsv","serialize","headers","IntegrationExporterJson","ExporterJson","AddNotificationBody","buttonText","switchEnabled","IntegrationSchemaBase","serverErrors","IntegrationHttpSchema","shape","notRequired","POST","IntegrationAnsibleSchema","ANSIBLE","IntegrationCamelSchema","basicAuth","when","is","pass","transform","JSON","parse","IntegrationSchema","IntegrationTypeCamelExtrasForm","ouiaIdConcat","secretTokenDescription","IntegrationTypeCamelForm","FormSection","FormTextArea","IntegrationTypeGoogleChatForm","IntegrationTypeHttpForm","IntegrationTypeSlackForm","IntegrationTypeTeamsForm","IntegrationTypeForm","SERVICE_NOW","IntegrationsForm","userIntegrations","FormSelectOption","maxLength","FormSelect","InternalIntegrationSaveModal","pageTitle","handleSubmit","isSubmitting","onSaveClicked","SaveModal","IntegrationSaveModal","initialIntegration","initial","cast","stringify","transformedIntegration","switchIntegrationEnabledStatusActionCreator","EndpointResourceDisableEndpoint","EndpointResourceEnableEndpoint","savedNotificationScopeSelector","savedNotificationScope","ConnectedAddNotificationBodyContainer","connect","reduxDispatch","switchIntegrationEnabledStatus","SavedNotificationScopeAction","finish","setIntegration","unset","CreatePage","saveIntegrationMutation","onSaveIntegration","savedIntegration","isModalOpen","addWarningNotification","Modal","medium","notificationMessage","testFailedMessage","statusText","handleNotificationTest","registry","getStore","IntegrationTest","IntegrationDeleteModal","onDeleteInternal","behaviorGroupText","List","actionButtonTitle","behaviorGroupsForEndpointActionCreator","NotificationResourceGetBehaviorGroupsAffectedByRemovalOfEndpoint","defaultBehaviorGroupDecoder","deleteIntegrationActionCreator","EndpointResourceDeleteEndpoint","IntegrationDeleteModalPage","deleteIntegrationMutation","getBehaviorGroupsQuery","deleteIntegration","useUrlStateName","defaultValue","useUrlStateEnabled","_defaultValue","SUCCESS_STATUS","integrationCards","COMMUNICATIONS","communication","REPORTING","reporting","WEBHOOKS","dividerVariant","MultiContentCard","left","PageSection","isExpandable","defaultExpanded","cards","userIntegrationCopier","userIntegration","selector","useDispatch","wizardEnabled","useSelector","selectedIntegration","setSelectedIntegration","isTestModalOpen","setIsTestModalOpen","integrationFilter","useIntegrationFilter","integrationFilterBuilder","toLocaleLowerCase","stringValue","modalIsOpenState","modalIsOpenActions","useSort","pageData","integrationsQuery","useListIntegrations","exportIntegrationsQuery","integrationRows","setIntegrationRows","prevIntegrationsInput","setIntegrationRowByIndex","partialIntegration","prevIntegrations","newIntegrations","setIntegrationRowById","clearQueue","EndpointResourceGetEndpointHistory","includeDetail","last5","_integration","enableError","disableError","useIntegrationRows","onAddIntegrationClicked","onTest","exporter","ExporterType","CSV","integrationExporterFactory","exportedIntegrations","export","now","integrationTest","canWrite","useActionResolver","closeFormModal","closeDeleteModal","integrationsEmpty","IntegrationWizard","closeModal","afterSubmit","defaultMessage","noFiredEventsTitle","noFiredEventsDescription","manageEvents","cache","locale","navigator","language","slice","onError","intlSettings","appNameIntegrations","emptyState","showDetails","goToIndex","editIntegration","common","choose","listIntegrationsActionCreator","pager","EndpointResourceGetEndpoints","filterType","active","filterActive","filterName","listIntegrationIntegrationDecoder","useListIntegrationsQuery","useListIntegrationPQuery","saveIntegrationActionCreator","EndpointResourceUpdateEndpoint","EndpointResourceCreateEndpoint","createIntegrationActionCreator","useSaveIntegrationMutation","SavedNotificationScopeReducer","getType","DONE","getNotificationsRegistry","middleware","register","SavedNotificationScopeKeys","SavedNotificationScopeActions","createAction","SET_INTEGRATION","START","FINISH","UNSET","ServerStatus","reportBehaviorGroup","toBehaviorGroup","serverBehaviorGroup","behaviorAction"],"sourceRoot":""}