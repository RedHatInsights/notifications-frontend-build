"use strict";(self.webpackChunknotifications_frontend=self.webpackChunknotifications_frontend||[]).push([[355],{60817:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Portal=t.NotificationPortal=void 0;var r=n(46458),o=i(n(72837)),a=n(53446);t.NotificationPortal=(0,r.connect)((function(e,t){var n=e.notifications;return{notifications:t.notifications||n}}),(function(e,t){return{removeNotification:t.removeNotification?t.removeNotification:function(t){return e((0,a.removeNotification)(t))},onClearAll:t.clearNotifications?t.clearNotifications:function(){return e((0,a.clearNotifications)())}}}))(o.default);var c=n(72837);Object.defineProperty(t,"Portal",{enumerable:!0,get:function(){return i(c).default}}),t.default=t.NotificationPortal},72871:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(60817);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}}),r(n(60817),t)},72837:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(93264),r=n.n(i),o=n(3644),a=n(21242),c=n(43551),l=function(){return l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)};const u=function(e){var t=e.description,n=e.dismissable,o=void 0===n||n,u=e.onDismiss,f=e.dismissDelay,s=void 0===f?8e3:f,d=e.title,p=e.sentryId,O=e.requestId,I=e.autoDismiss,N=void 0===I||I,y=e.id,m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["description","dismissable","onDismiss","dismissDelay","title","sentryId","requestId","autoDismiss","id"]),v=(0,i.useRef)(),T=function(){u(y)},A=function(){N&&(v.current=setTimeout((function(){return T()}),s))},g=function(){v.current&&clearTimeout(v.current)};return(0,i.useEffect)((function(){return A(),function(){g()}}),[]),r().createElement(a.Alert,l({className:"notification-item",id:"".concat(y),title:"string"==typeof d?d.replace(/<\/?[^>]+(>|$)/g,""):d},m,{actionClose:o?r().createElement(a.AlertActionCloseButton,{"aria-label":"close-notification",variant:"plain",onClick:T},r().createElement(c.CloseIcon,null)):null,onMouseEnter:g,onMouseLeave:A}),"string"==typeof t?t.replace(/<\/?[^>]+(>|$)/g,""):t,p&&r().createElement(a.TextContent,null,r().createElement(a.Text,{component:a.TextVariants.small},"Tracking Id: ",p)),O&&r().createElement(a.TextContent,null,r().createElement(a.Text,{component:a.TextVariants.small},"Request Id: ",O)))},f=function(e){var t=e.page,n=void 0===t?1:t,i=e.onSetPage,o=e.onClearAll,c=e.count,l=void 0===c?0:c;return r().createElement(a.Card,{className:"notification-item"},r().createElement(a.CardBody,null,r().createElement(a.Level,null,r().createElement(a.LevelItem,null,r().createElement(a.Button,{variant:a.ButtonVariant.link,className:"ins-c-pagination__clear-all",onClick:o},"Clear all")),r().createElement(a.LevelItem,null,r().createElement(a.Pagination,{itemCount:l,variant:a.PaginationVariant.bottom,perPageOptions:[{title:"5",value:5}],titles:{items:"Notifications"},perPage:5,page:n,onSetPage:i})))))};var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const d=function(e){var t=e.notifications,n=void 0===t?[]:t,a=e.removeNotification,c=void 0===a?function(){}:a,l=e.rootId,d=e.onClearAll,p=(0,i.useState)({page:1}),O=p[0],I=p[1],N=O.page,y=n&&n.length<=5?n:n&&n.slice(5*(N-1),5*N);return 0===n.length?null:(0,o.createPortal)(r().createElement("div",{className:"notifications-portal"},n.length>5&&r().createElement(f,{onSetPage:function(e,t){I((function(e){return s(s({},e),{page:t})}))},count:n.length,page:N,onClearAll:d}),y.map((function(e){return r().createElement(u,s({onDismiss:c,key:"".concat(e.id)},e))}))),l&&document.getElementById(l)||document.body)}},51712:(e,t,n)=>{n.r(t),n.d(t,{createNotificationsMiddleware:()=>O,default:()=>I,notificationsMiddleware:()=>I});var i=n(27361),r=n.n(i),o=n(18721),a=n.n(o),c="@@INSIGHTS-CORE/NOTIFICATIONS/",l="".concat(c,"ADD_NOTIFICATION");"".concat(c,"REMOVE_NOTIFICATION"),"".concat(c,"CLEAR_NOTIFICATIONS");var u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},f=function(e){return{type:l,payload:u({id:("notification","cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2))},e)}},s=n(21242),d=function(){return d=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)},p=function(e,t,n){if("string"==typeof e)return{title:"Error",description:e};var i=t;Array.isArray(t)&&(i=t.find((function(t){return a()(e,t)})));var o=n;return Array.isArray(n)&&(o=n.find((function(t){return a()(e,t)}))),{title:r()(e,i)||"Error",description:r()(e,o),sentryId:null==e?void 0:e.sentryId,requestId:null==e?void 0:e.requestId}},O=function(e){var t=d(d({},{dispatchDefaultFailure:!0,pendingSuffix:"_PENDING",fulfilledSuffix:"_FULFILLED",rejectedSuffix:"_REJECTED",autoDismiss:!1,dismissDelay:5e3,errorTitleKey:"title",errorDescriptionKey:"detail",useStatusText:!1}),e),n=function(e){return Boolean(e.match(new RegExp("^.*".concat(t.rejectedSuffix,"$"))))},i={dismissable:!t.autoDismiss,dismissDelay:t.dismissDelay};return function(e){var o=e.dispatch;return function(e){return function(c){var l=c.meta,u=c.type;if(l&&l.notifications){var O=l.notifications;(function(e){return Boolean(e.match(new RegExp("^.*".concat(t.pendingSuffix,"$"))))})(u)&&O.pending?("function"==typeof O.pending&&(O.pending=O.pending(c.payload)),o(f(d(d({},i),O.pending)))):function(e){return Boolean(e.match(new RegExp("^.*".concat(t.fulfilledSuffix,"$"))))}(u)&&O.fulfilled?("function"==typeof O.fulfilled&&(O.fulfilled=O.fulfilled(c.payload)),o(f(d(d({},i),O.fulfilled)))):n(u)&&O.rejected&&("function"==typeof O.rejected&&(O.rejected=O.rejected(c.payload)),o(f(d(d(d({},i),O.rejected),{sentryId:c.payload&&c.payload.sentryId,requestId:c.payload&&c.payload.requestId}))))}if(function(e){return e.isRejected&&!e.hasCustomNotification&&!e.noErrorOverride&&e.dispatchDefaultFailure}({isRejected:n(u),hasCustomNotification:l&&l.notifications&&l.notifications.rejected,noErrorOverride:l&&l.noError,dispatchDefaultFailure:t.dispatchDefaultFailure}))if(t.useStatusText)o(f(d({variant:s.AlertVariant.danger,dismissable:!0},p(c.payload,t.errorTitleKey,"statusText"))));else{var I=Array.isArray(t.errorNamespaceKey)&&t.errorNamespaceKey.find((function(e){return a()(c.payload,e)}));I?r()(c.payload,I).map((function(e){o(f(d({variant:s.AlertVariant.danger,dismissable:!0},p(e,t.errorTitleKey,t.errorDescriptionKey))))})):Array.isArray(c.payload)?c.payload.map((function(e){o(f(d({variant:s.AlertVariant.danger,dismissable:!0},p(e,t.errorTitleKey,t.errorDescriptionKey))))})):o(f(d({variant:s.AlertVariant.danger,dismissable:!0},p(c.payload,t.errorTitleKey,t.errorDescriptionKey))))}e(c)}}}};const I=O},71355:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsMiddleware=t.clearNotifications=t.removeNotification=t.addNotification=t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=t.notificationsReducers=t.notifications=t.NotificationsPortal=void 0;var r=n(72871);Object.defineProperty(t,"NotificationsPortal",{enumerable:!0,get:function(){return i(r).default}});var o=n(24778);Object.defineProperty(t,"notifications",{enumerable:!0,get:function(){return i(o).default}}),Object.defineProperty(t,"notificationsReducers",{enumerable:!0,get:function(){return o.notificationsReducers}});var a=n(68129);Object.defineProperty(t,"ADD_NOTIFICATION",{enumerable:!0,get:function(){return a.ADD_NOTIFICATION}}),Object.defineProperty(t,"REMOVE_NOTIFICATION",{enumerable:!0,get:function(){return a.REMOVE_NOTIFICATION}}),Object.defineProperty(t,"CLEAR_NOTIFICATIONS",{enumerable:!0,get:function(){return a.CLEAR_NOTIFICATIONS}});var c=n(53446);Object.defineProperty(t,"addNotification",{enumerable:!0,get:function(){return c.addNotification}}),Object.defineProperty(t,"removeNotification",{enumerable:!0,get:function(){return c.removeNotification}}),Object.defineProperty(t,"clearNotifications",{enumerable:!0,get:function(){return c.clearNotifications}});var l=n(51712);Object.defineProperty(t,"notificationsMiddleware",{enumerable:!0,get:function(){return i(l).default}})},68129:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=void 0;var n="@@INSIGHTS-CORE/NOTIFICATIONS/";t.ADD_NOTIFICATION="".concat(n,"ADD_NOTIFICATION"),t.REMOVE_NOTIFICATION="".concat(n,"REMOVE_NOTIFICATION"),t.CLEAR_NOTIFICATIONS="".concat(n,"CLEAR_NOTIFICATIONS"),t.default={ADD_NOTIFICATION:t.ADD_NOTIFICATION,REMOVE_NOTIFICATION:t.REMOVE_NOTIFICATION,CLEAR_NOTIFICATIONS:t.CLEAR_NOTIFICATIONS}},53446:function(e,t,n){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clearNotifications=t.removeNotification=t.addNotification=void 0;var r=n(68129);t.addNotification=function(e){return{type:r.ADD_NOTIFICATION,payload:i({id:("notification","cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2))},e)}},t.removeNotification=function(e){return{type:r.REMOVE_NOTIFICATION,payload:e}},t.clearNotifications=function(){return{type:r.CLEAR_NOTIFICATIONS}},t.default={addNotification:t.addNotification,removeNotification:t.removeNotification,clearNotifications:t.clearNotifications}},24778:function(e,t,n){var i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=t.notificationsReducers=t.defaultState=void 0;var r=n(68129);t.defaultState=[],t.notificationsReducers=function(e,n){switch(void 0===e&&(e=t.defaultState),n.type){case r.ADD_NOTIFICATION:return o=e,a=n.payload,i(i([],o,!0),[a],!1);case r.REMOVE_NOTIFICATION:return function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));return i(i([],e.slice(0,r),!0),e.slice(r+1),!0)}(e,n);case r.CLEAR_NOTIFICATIONS:return[];default:return e}var o,a},t.notifications=t.notificationsReducers,t.default=t.notifications}}]);
//# sourceMappingURL=../sourcemaps/355.443509843ebb6bbc007847b75fed9ac2.js.map