"use strict";(self.webpackChunknotifications=self.webpackChunknotifications||[]).push([[5216,6675],{8473:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(74848),a=n(32485),r=n.n(a),o=n(95010),l=n(34400),s=n(90695),c=n.n(s),m=function(){return m=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},m.apply(this,arguments)};const u=function(e){var t=e.utcStartTime,n=void 0===t?"10am":t,a=e.utcEndTime,s=void 0===a?"12am":a,u=e.startTime,d=void 0===u?"6am":u,g=e.endTime,p=void 0===g?"8am":g,E=e.timeZone,h=void 0===E?"EST":E,v=e.description,f=e.redirectLink,T=void 0===f?"https://status.redhat.com/incidents":f,y=e.className,b=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["utcStartTime","utcEndTime","startTime","endTime","timeZone","description","redirectLink","className"]),C=r()(y,"ins-c-empty-state__maintenance");return(0,i.jsxs)(o.EmptyState,m({className:C},b,{children:[(0,i.jsx)(o.EmptyStateHeader,{titleText:"Maintenance in progress",icon:(0,i.jsx)(o.EmptyStateIcon,{icon:c()}),headingLevel:"h4"}),(0,i.jsx)(o.EmptyStateBody,{children:v||(0,i.jsxs)(l.Stack,{children:[(0,i.jsx)(l.StackItem,{children:"We are currently undergoing scheduled maintenance and will be"}),(0,i.jsxs)(l.StackItem,{children:["unavailable from ",n," to ",s," UTC (",d,"-",p," ",h,")."]}),(0,i.jsxs)(l.StackItem,{children:["For more information please visit ",(0,i.jsx)("a",{href:T,children:"status.redhat.com"}),"."]})]})})]}))}},44748:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(35637),a=n(5864),r=n(41261),o=n(80578),l=n(47503),s=n.n(l),c=n(20269),m=n(61225),u=n(85110),d=n(77002),g=n(42338);(0,r.IP)();const p=e=>{const t=s().useMemo((()=>(0,a.createFetchingClient)(a.getInsights,{responseInterceptors:[o.validateSchemaResponseInterceptor]})),[]),n=s().useMemo((()=>(e.logger?(0,g.g)(e.logger):(0,g.g)()).getStore()),[e.logger]);return s().createElement(i.A,{locale:navigator.language.slice(0,2),messages:u,onError:console.log},s().createElement(m.Provider,{store:n},s().createElement(c.ClientContextProvider,{client:t},s().createElement(d.A,null))))}},77002:(e,t,n)=>{n.d(t,{A:()=>T});var i=n(25211),a=n(8473),r=n(20881),o=n(5864),l=n(72374),s=n(47503),c=n(12178),m=n(22233),u=n(17933),d=n(40564),g=n(66245),p=n(81923),E=n(86594),h=n(36516);const v="HH:mm",f="hh:mma",T=()=>{const{updateDocumentTitle:e}=(0,r.A)();null==e||e("Notifications");const{rbac:t,server:n,isOrgAdmin:T}=(0,h.n)(),y=(0,o.getInsights)(),[b,C]=s.useState(!1),A=s.useCallback((e=>{e?(y.chrome.getEnvironmentOriginal=y.chrome.getEnvironment,y.chrome.getEnvironment=()=>"ci"):y.chrome.getEnvironment=y.chrome.getEnvironmentOriginal,C(e)}),[y]);if(!t||!n)return s.createElement(p.z,null);if(n.status===d.S.MAINTENANCE){const e=(0,l.A)((0,o.toUtc)(n.from),v),t=(0,l.A)((0,o.toUtc)(n.to),v),i=(0,l.A)(n.from,f),r=(0,l.A)(n.to,f),c=(0,l.A)(n.to,"O");return s.createElement(a.A,{utcStartTime:e,utcEndTime:t,startTime:i,endTime:r,timeZone:c})}return s.createElement(g.B.Provider,{value:{rbac:t,server:n,isOrgAdmin:!!T}},s.createElement(E.O,null,s.createElement(c.P,null),s.createElement(o.InsightsEnvDetector,{insights:y,onEnvironment:u.mr},s.createElement(o.RenderIfTrue,null,s.createElement(i.d,{className:"pf-v5-u-p-sm",isChecked:b,onChange:A,labelOff:"Enable experimental features",label:"Disable experimental features"}))),s.createElement(m.B,null)))}},40874:(e,t,n)=>{n.r(t),n.d(t,{TimeConfigComponent:()=>D,default:()=>L});var i=n(30155),a=n(16165),r=n(72583),o=n(90678),l=n(73113),s=n(60316),c=n(22069),m=n(59257),u=n(49318),d=n(30666),g=n(93973),p=n(71906),E=n(73539),h=n(14243),v=n(76774),f=n(74225),T=n(94494),y=n(75797),b=n(64361),C=n(17661),A=n(89915),I=n(21524),S=n(47503),x=n.n(S),k=n(77621),O=n(90682),N=n(2173),R=n(15640),j=n(17368),P=n(51237),M=n.n(P);const w=(0,O.style)({marginTop:"12px"}),U=(0,O.style)({maxHeight:"200px",maxWidth:"400px",overflowY:"auto"}),D=()=>{var e,t;const[n,O]=x().useState(!1),[P,D]=x().useState(),[L,z]=(0,S.useState)(!1),_=x().useRef(null),F=x().useRef(null),B=(0,N.I)(),W=(0,R.L)(),{addSuccessNotification:H,addDangerNotification:$}=(0,j.h)(),G=(0,S.useMemo)((()=>{var e;if(!B.error)return null===(e=B.payload)||void 0===e?void 0:e.value}),[null===(e=B.payload)||void 0===e?void 0:e.value,B.error]),q=(0,S.useMemo)((()=>`Any daily digest emails you've opted into will be sent at ${(null==P?void 0:P.utcTime)?null==P?void 0:P.utcTime:"00:00"} UTC`),[null==P?void 0:P.utcTime]);(0,S.useEffect)((()=>{G&&(D({baseCustomTime:G,utcTime:G,timezoneText:void 0}),O("00:00:00"!==G))}),[G]);const Y=x().useCallback((()=>{O(!1),D({utcTime:"00:00",baseCustomTime:"00:00",timezoneText:void 0})}),[]),[K,Z]=x().useState(!1),J=x().useCallback((()=>{O(!0)}),[]),V=x().useCallback(((e,t)=>{D({baseCustomTime:t,utcTime:t,timezoneText:void 0})}),[]),Q=x().useCallback((e=>{if(null==e?void 0:e.target){const t=e.target.textContent,n=k.find((e=>e.text===t));n&&D((e=>{if(null==e?void 0:e.baseCustomTime){const t=e.baseCustomTime.split(":").map((e=>parseInt(e))),i=new Date;i.setUTCHours(t[0],t[1]);const a=(0,I.A)(i,-n.offset),r=a.getUTCHours().toString().padStart(2,"0"),o=a.getUTCMinutes().toString().padStart(2,"0");return{...e,utcTime:`${r}:${o}`,timezoneText:n.text}}return e}))}Z(!1)}),[]),X=x().useCallback((()=>{if(P){const e=P.utcTime;M().put("/api/notifications/v1.0/org-config/daily-digest/time-preference",e,{headers:{"Content-Type":"application/json"}}).then((()=>{H("Action settings saved","")})).catch((()=>{$("Failed to save action settings","")}))}z(!1)}),[$,H,P]),ee=W.loading||B.loading,te=()=>{z(!L)};return x().createElement(x().Fragment,null,x().createElement(A.F,{className:w,isInline:!0,title:q,actionLinks:x().createElement(i.v,{onClick:te,ouiaId:"TimeConfigModal"},"Edit time settings")}),x().createElement(a.a,{className:"pf-v5-u-pl-xl",variant:a.d.small,isOpen:L,onClose:te,actions:[x().createElement(r.$n,{key:"save",variant:"primary",type:"submit",isLoading:ee,isDisabled:ee,onClick:X},ee?"Loading":"Save"),x().createElement(r.$n,{key:"cancel",variant:"link",onClick:te},"Cancel")],ouiaId:"TimeConfigModal"},x().createElement(o.B,{hasGutter:!0},x().createElement(l.a,null,x().createElement(s.h,{headingLevel:"h2"},"Action settings")),x().createElement(l.a,null,x().createElement(c.E,{component:c.Y.p},"Daily digest email receipt"),x().createElement(m.E,null,x().createElement(u.j,{variant:"indeterminate"},"Schedule the time at which to send your account's daily digest email. All times will be converted to UTC after saving.")))),x().createElement("br",null),x().createElement(d.B,null,x().createElement(g.o,{isFilled:!0},x().createElement(o.B,{hasGutter:!0},x().createElement(l.a,null,B.loading?x().createElement(p.E,null):x().createElement(E.s,{isChecked:!n,onChange:Y,id:"settings-time-config",label:"Default time",value:"Default",description:"00:00 UTC",name:"radio-select"})),x().createElement(l.a,null,B.loading?x().createElement(p.E,null):x().createElement(E.s,{isChecked:n,onChange:J,id:"settings-time-config-custom",label:"Custom time",name:"radio-select"})),n&&x().createElement(x().Fragment,null,x().createElement(l.a,{className:"pf-v5-u-pl-lg"},x().createElement(c.E,{component:c.Y.h6},"Time"),x().createElement(h.A,{onChange:V,time:null==P?void 0:P.baseCustomTime,width:"263px",stepMinutes:15,placeholder:"00:00",is24Hour:!0})),x().createElement(l.a,{className:"pf-v5-u-pl-lg"},x().createElement(c.E,{component:c.Y.h6},"Time zone"),x().createElement(v.$,{isOpen:K,onOpenChange:e=>Z(e),menu:x().createElement(f.W,{ref:F,isPlain:!1},x().createElement(T.r,{id:"timezoneMenu"},x().createElement(y.c,{className:U},k.map((e=>x().createElement(b.D,{onClick:Q,key:e.text},e.text)))))),menuRef:F,toggle:x().createElement(C.S,{id:"timezone",ref:_,onClick:()=>{Z(!K)},isExpanded:K},null!==(t=null==P?void 0:P.timezoneText)&&void 0!==t?t:"(UTC-00:00) Universal Time"),toggleRef:_}))))))))},L=D},64428:(e,t,n)=>{n.r(t),n.d(t,{IntegrationWizard:()=>v,default:()=>f});var i=n(49405),a=n(63537),r=n(97744),o=n(47503),l=n(15039),s=n(87677),c=n(1384),m=n(85433),u=n(64118),d=n(91360),g=n(61674),p=n(70910),E=n(75045),h=n(17368);const v=({isOpen:e,isEdit:t,template:n,afterSubmit:v,closeModal:f,category:T})=>{const y={[d.nb]:l.A,[d.c5]:s.A,[d.Lh]:c.A,[d.AU]:m.A,[d.pJ]:g.A},b=(0,p.useFlag)("platform.integrations.behavior-groups-move"),C=(0,p.useFlag)("platform.integrations.pager-duty"),A=(0,h.h)(),[I,S]=o.useState(e);return o.useEffect((()=>{S(e)}),[e]),o.createElement(o.Fragment,null,I&&o.createElement(r.A,{schema:(0,u.w)(T,t,b,C),componentMapper:{...i.Ay,...y},onSubmit:({url:e,[d.Iq]:i,name:a,"secret-token":r,"event-types-table":o,severity:l})=>{const[s,c]=(null==i?void 0:i.split(":"))||["webhook"],m={name:a,enabled:!0,type:s,...c&&{sub_type:c},description:"",properties:{method:"POST",url:e,disable_ssl_verification:!1,secret_token:r,severity:l},...b&&{event_types:o?Object.values(o).flatMap(Object.keys):[]}};t&&(null==n?void 0:n.id)?(0,E.l)(null==n?void 0:n.id,m,void 0,A,v):(0,E.U)(m,A,v),f()},initialValues:t?{...n,"secret-token":null==n?void 0:n.secretToken}:{},onCancel:f},(e=>o.createElement(a.Ay,{...e,showFormControls:!1}))))},f=v},33408:(e,t,n)=>{n.d(t,{D:()=>a,Ij:()=>l,K0:()=>c,_n:()=>r,ij:()=>i,tr:()=>o});const i=e=>e.type===r.EMAIL_SUBSCRIPTION||e.type===r.DRAWER,a=e=>e.type===r.INTEGRATION;var r;function o(e){return e.type===r.EMAIL_SUBSCRIPTION}function l(e){return e.type===r.DRAWER}!function(e){e.EMAIL_SUBSCRIPTION="EMAIL_SUBSCRIPTION",e.DRAWER="DRAWER",e.INTEGRATION="INTEGRATION"}(r||(r={}));const s=e=>e.map((e=>void 0===e?[void 0]:e.type===r.INTEGRATION?[e.integration.id]:e.recipient.map((e=>e.integrationId)))).flat(),c=(e,t)=>{if(e.length!==t.length)return!1;const n=s(e),i=s(t);return n.length===i.length&&n.every(((e,t)=>e===i[t]))}},92200:(e,t,n)=>{n.d(t,{AJ:()=>o,cx:()=>l,sT:()=>a});class i{constructor(e){this.displayName=e}}class a extends i{constructor(e){super(e.name+(e.isEnabled?"":" - Disabled")),this.integration=e}getKey(){return this.integration.id}equals(e){return e instanceof a&&e.integration.id===this.integration.id}}class r extends i{constructor(e,t,n,i){super(e),this.key=i,this.description=t,this.integrationId=n}getKey(){return this.key}}class o extends r{constructor(e,t,n){let i,a;t?(i="Admins",a="Organization administrators for your account"):(i="All",a="All users in your organization who subscribed to this email in their Notification Preferences"),super(i,a,e,t?"users-admin":"users-all"),this.sendToAdmin=t,this.ignorePreferences=n}equals(e){return e instanceof o&&e.sendToAdmin===this.sendToAdmin&&e.ignorePreferences===this.ignorePreferences}}class l extends r{constructor(e,t,n){let i,a,r;"string"==typeof n?(i=n,a=!1,r=!1):(i="Loading",a=n,r=!n),super(i,void 0,e,`rbac-group-${t}`),this.groupId=t,this.isLoading=a,this.hasError=r}equals(e){return e instanceof l&&e.groupId===this.groupId}}}}]);
//# sourceMappingURL=../../sourcemaps/exposed-./RootApp.3988507f760c6988f113c3f9584e374c.js.map