!function(e){function t(t){for(var r,o,i=t[0],a=t[1],l=t[2],s=0,c=[];s<i.length;s++)o=i[s],Object.prototype.hasOwnProperty.call(T,o)&&T[o]&&c.push(T[o][0]),T[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(N&&N(t);c.length;)c.shift()();return k.push.apply(k,l||[]),n()}function n(){for(var e,t=0;t<k.length;t++){for(var n=k[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==T[i]&&(r=!1)}r&&(k.splice(t--,1),e=D(D.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--v&&0===y&&I()}(e,t),r&&r(e,t)};var o,i=!0,a="d588d792b9e2bf7f83bf",l={},s=[],c=[];function u(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(h={})[t]=e[t],p("ready");break;case"ready":x(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:P,apply:M,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:l[t]};return o=void 0,n}var d=[],f="idle";function p(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var b,h,m,g,v=0,y=0,_={},O={},E={};function j(e){return+e+""===e?+e:e}function P(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return i=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=D.p+""+a+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p(C()?"ready":"idle"),null;O={},_={},E=e.c,m=e.h,p("prepare");var t=new Promise((function(e,t){b={resolve:e,reject:t}}));for(var n in h={},T)w(n);return"prepare"===f&&0===y&&0===v&&I(),t}));var t}function w(e){E[e]?(O[e]=!0,v++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=D.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):_[e]=!0}function I(){p("ready");var e=b;if(b=null,e)if(i)Promise.resolve().then((function(){return M(i)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(j(n));e.resolve(t)}}function M(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,i,c,u,d;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((u=S[i])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var l=0;l<u.parents.length;l++){var s=u.parents[l],c=S[s];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(c.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),b(n[s],[i])):(delete n[s],t.push(s),r.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}C();var v={},y=[],_={},O=function(){console.warn("[HMR] unexpected require("+w.moduleId+") to disposed module")};for(var P in h)if(Object.prototype.hasOwnProperty.call(h,P)){var w;d=j(P),w=h[P]?f(d):{type:"disposed",moduleId:P};var I=!1,M=!1,x=!1,k="";switch(w.chain&&(k="\nUpdate propagation: "+w.chain.join(" -> ")),w.type){case"self-declined":n.onDeclined&&n.onDeclined(w),n.ignoreDeclined||(I=new Error("Aborted because of self decline: "+w.moduleId+k));break;case"declined":n.onDeclined&&n.onDeclined(w),n.ignoreDeclined||(I=new Error("Aborted because of declined dependency: "+w.moduleId+" in "+w.parentId+k));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(w),n.ignoreUnaccepted||(I=new Error("Aborted because "+d+" is not accepted"+k));break;case"accepted":n.onAccepted&&n.onAccepted(w),M=!0;break;case"disposed":n.onDisposed&&n.onDisposed(w),x=!0;break;default:throw new Error("Unexception type "+w.type)}if(I)return p("abort"),Promise.reject(I);if(M)for(d in _[d]=h[d],b(y,w.outdatedModules),w.outdatedDependencies)Object.prototype.hasOwnProperty.call(w.outdatedDependencies,d)&&(v[d]||(v[d]=[]),b(v[d],w.outdatedDependencies[d]));x&&(b(y,[w.moduleId]),_[d]=O)}var A,F=[];for(i=0;i<y.length;i++)d=y[i],S[d]&&S[d].hot._selfAccepted&&_[d]!==O&&!S[d].hot._selfInvalidated&&F.push({module:d,parents:S[d].parents.slice(),errorHandler:S[d].hot._selfAccepted});p("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete T[e]}(e)}));var R,N,B=y.slice();for(;B.length>0;)if(d=B.pop(),u=S[d]){var H={},L=u.hot._disposeHandlers;for(c=0;c<L.length;c++)(r=L[c])(H);for(l[d]=H,u.hot.active=!1,delete S[d],delete v[d],c=0;c<u.children.length;c++){var U=S[u.children[c]];U&&((A=U.parents.indexOf(d))>=0&&U.parents.splice(A,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=S[d]))for(N=v[d],c=0;c<N.length;c++)R=N[c],(A=u.children.indexOf(R))>=0&&u.children.splice(A,1);p("apply"),void 0!==m&&(a=m,m=void 0);for(d in h=void 0,_)Object.prototype.hasOwnProperty.call(_,d)&&(e[d]=_[d]);var W=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=S[d])){N=v[d];var q=[];for(i=0;i<N.length;i++)if(R=N[i],r=u.hot._acceptedDependencies[R]){if(-1!==q.indexOf(r))continue;q.push(r)}for(i=0;i<q.length;i++){r=q[i];try{r(N)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:N[i],error:e}),n.ignoreErrored||W||(W=e)}}}for(i=0;i<F.length;i++){var z=F[i];d=z.module,s=z.parents,o=d;try{D(d)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||W||(W=t),W||(W=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||W||(W=e)}}if(W)return p("fail"),Promise.reject(W);if(g)return t(n).then((function(e){return y.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(y)}))}(t=t||{})}function C(){if(g)return h||(h={}),g.forEach(x),g=void 0,!0}function x(t){Object.prototype.hasOwnProperty.call(h,t)||(h[t]=e[t])}var S={},T={0:0},k=[];function D(t){if(S[t])return S[t].exports;var n=S[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=s,s=[],c),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=S[e];if(!t)return D;var n=function(n){return t.hot.active?(S[n]?-1===S[n].parents.indexOf(e)&&S[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),D(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===f&&p("prepare"),y++,D.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===f&&(_[e]||w(e),0===y&&0===v&&I())}},n.t=function(e,t){return 1&t&&(e=n(e)),D.t(e,-2&t)},n}(t)),n.l=!0,n.exports}D.m=e,D.c=S,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)D.d(n,r,function(t){return e[t]}.bind(null,r));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="/beta/apps/notifications/",D.h=function(){return a};var A=window.webpackJsonp=window.webpackJsonp||[],F=A.push.bind(A);A.push=t,A=A.slice();for(var R=0;R<A.length;R++)t(A[R]);var N=F;k.push([319,1,3,2,4]),n()}({212:function(e,t,n){var r=n(3),o=n(557),i=n(558);(t=r(!1)).i(o),t.i(i),t.push([e.i,":root{--ins-color--orange: #ec7a08}button:focus{outline:none}.pf-c-wizard__main-body{max-height:100%}\n",""]),e.exports=t},268:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=t.linkTo=void 0;const l=i(n(0)),s=n(63),c=n(559),u=n(560);t.linkTo={integrations:()=>"/integrations",addIntegration:()=>"/integrations/add",notifications:()=>"/notifications"};const d=[{path:t.linkTo.integrations(),component:u.IntegrationsListPage,rootClass:"integrations"},{path:t.linkTo.notifications(),component:()=>l.createElement("div",null,"I am the notifications page"),rootClass:"notifications"}],f=e=>{const{rootClass:t}=e,n=a(e,["rootClass"]),r=document.getElementById("root");if(!r)throw new Error("Root element not found");return r.removeAttribute("class"),r.classList.add("page__"+t,"pf-c-page__main"),r.setAttribute("role","main"),l.createElement(c.ErrorPage,null,l.createElement(s.Route,Object.assign({},n)))};t.Routes=()=>l.createElement(s.Switch,null,d.map(e=>l.createElement(f,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path,exact:!0})))},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationFilterColumn=void 0,function(e){e.NAME="name",e.TYPE="type",e.ENABLED="enabled"}(t.IntegrationFilterColumn||(t.IntegrationFilterColumn={}))},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationType=void 0,function(e){e.HTTP="http"}(t.IntegrationType||(t.IntegrationType={}))},271:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=void 0;const a=i(n(0));t.AppContext=a.createContext({rbac:{canReadAll:!1,canWriteAll:!1}})},317:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),l=n(63),s=n(91),c=n(209);n(556);const u=n(268),d=n(48),f=n(271),p=n(574),b=n(92);t.default=l.withRouter(()=>{const{rbac:e}=p.useApp();return e?a.createElement(f.AppContext.Provider,{value:{rbac:e}},e.canReadAll?a.createElement(a.Fragment,null,a.createElement(c.NotificationsPortal,null),a.createElement(u.Routes,null)):a.createElement(s.NotAuthorized,{serviceName:b.Messages.appName})):a.createElement(d.AppSkeleton,null)})},319:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(15),a=n.n(i),l=n(83),s=n(122),c=n(48),u=n(317),d=n.n(u),f=n(220),p=Object(c.createFetchingClient)(c.getInsights);Object(c.initStore)(),a.a.render(o.a.createElement(s.Provider,{store:Object(c.getStore)()},o.a.createElement(l.BrowserRouter,{basename:Object(c.getBaseName)(window.location.pathname)},o.a.createElement(f.ClientContextProvider,{client:p},o.a.createElement(d.a,null)))),document.getElementById("root"))},556:function(e,t,n){var r=n(212);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=n(4)(r,o);r.locals&&(e.exports=r.locals),e.hot.accept(212,(function(){var t=n(212);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},559:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=t.ErrorPageInternal=void 0;const a=i(n(0)),l=n(92),s=n(83),c=n(268),u=n(48);t.ErrorPageInternal=e=>{const t=a.useCallback(()=>{e.history.push(c.linkTo.notifications())},[e.history]);return a.createElement(u.ErrorBoundaryPage,{action:t,actionLabel:l.Messages.pages.error.emptyState.actions.goToIndex,pageHeader:l.Messages.pages.error.title,title:l.Messages.pages.error.emptyState.title,description:l.Messages.pages.error.emptyState.content},e.children)},t.ErrorPage=s.withRouter(t.ErrorPageInternal)},560:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsListPage=void 0;const l=i(n(0)),s=n(91),c=n(92),u=n(561),d=n(565),f=n(270),p=n(570),b=n(571),h=n(0),m=n(271),g=a(n(572)),v=n(573),y=e=>console.log("export to "+e);t.IntegrationsListPage=()=>{const{rbac:{canWriteAll:e}}=h.useContext(m.AppContext),[t,n]=h.useState([{id:"foo",isEnabled:!0,name:"Aha",type:f.IntegrationType.HTTP,url:"https://aha.com"},{id:"foo-2",isEnabled:!0,name:"Pager duty",type:f.IntegrationType.HTTP,url:"https://pagerduty.com/weebhook/thatthis"}]),r=p.useIntegrationRows(t),o=v.useIntegrationFilter(),[i,a]=h.useState(!1),[_,O]=h.useState(""),E=l.useCallback(()=>{a(!0)},[]),j=l.useCallback(e=>{O(e.id),a(!0)},[]),P=b.useActionResolver({canWriteAll:e,onEdit:j});return l.createElement(l.Fragment,null,l.createElement(s.PageHeader,null,l.createElement(s.PageHeaderTitle,{title:c.Messages.pages.integrations.list.title})),l.createElement(s.Main,null,l.createElement(s.Section,null,l.createElement(u.IntegrationsToolbar,{onAddIntegration:E,onExport:y,filters:o.filters,setFilters:o.setFilters,clearFilters:o.clearFilter},l.createElement(d.IntegrationsTable,{integrations:r.rows,onCollapse:r.onCollapse,onEnable:r.onEnable,actionResolver:P})),l.createElement(g.default,{isModalOpen:i,updateModal:a,updateModel:n,model:t,currentRow:_,updateCurrentRow:O}))))}},561:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsToolbar=void 0;const a=i(n(0)),l=n(91),s=n(92),c=n(269),u=n(98),d=n(562),f=n(48),p=u.style({marginLeft:4}),b={[c.IntegrationFilterColumn.NAME]:{label:"Name",placeholder:"Filter by name"},[c.IntegrationFilterColumn.TYPE]:{label:"Type",placeholder:"Filter by type"},[c.IntegrationFilterColumn.ENABLED]:{label:"Enabled",placeholder:"Filter by enabled",options:{exclusive:!0,items:[{value:"all",label:a.createElement(a.Fragment,null,"All")},{value:"Enabled",label:a.createElement(a.Fragment,null,a.createElement(d.EnabledIntegrationIcon,null)," ",a.createElement("span",{className:p},"Enabled"))},{value:"Disabled",label:a.createElement(a.Fragment,null,a.createElement(d.DisabledIntegrationIcon,null)," ",a.createElement("span",{className:p},"Disabled"))}],default:"all",exclude:["all"]}}};t.IntegrationsToolbar=e=>{const t=f.usePrimaryToolbarFilterConfig(c.IntegrationFilterColumn,e.filters,e.setFilters,e.clearFilters,b),n=a.useMemo(()=>({actions:[{key:"add-integration",label:s.Messages.components.integrations.toolbar.actions.addIntegration,onClick:e.onAddIntegration,props:{isDisabled:!e.onAddIntegration}}],kebabToggleProps:{isDisabled:!1}}),[e.onAddIntegration]),r=a.useMemo(()=>{const t=e.onExport;if(t)return{extraItems:[],onSelect:(e,n)=>t(n)}},[e.onExport]);return a.createElement(a.Fragment,null,a.createElement(l.PrimaryToolbar,{actionsConfig:n,exportConfig:r,filterConfig:t.filterConfig,activeFiltersConfig:t.activeFiltersConfig}),e.children,a.createElement(l.PrimaryToolbar,null))}},562:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(563),t),o(n(564),t)},563:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DisabledIntegrationIcon=void 0;const a=i(n(0)),l=n(214);t.DisabledIntegrationIcon=()=>a.createElement(l.OffIcon,null)},564:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EnabledIntegrationIcon=void 0;const a=i(n(0)),l=n(214);t.EnabledIntegrationIcon=()=>a.createElement(l.CheckCircleIcon,{color:"green"})},565:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsTable=void 0;const s=i(n(0)),c=n(272),u=l(n(566)),d=n(41),f=n(92),p=n(568),b=n(98),h=n(48),m=n(569),g=n(273),v=b.style({paddingLeft:h.Spacer.LG,paddingBottom:h.Spacer.LG}),y=b.style({marginLeft:10}),_=[{title:f.Messages.components.integrations.table.columns.name,cellFormatters:[c.expandable],transforms:[]},{title:f.Messages.components.integrations.table.columns.type,transforms:[]},{title:f.Messages.components.integrations.table.columns.enabled,transforms:[]}],{rowExpandedContentClassName:O,rowWrapperClassName:E,tableClassName:j}=(()=>{const e=g.important("none"),t=g.important("var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)"),n={borderBottom:e};return{rowExpandedContentClassName:b.style(n),rowWrapperClassName:b.style(n,{borderTop:t}),tableClassName:b.style({borderBottom:t})}})(),P=e=>{const{trRef:t,className:n,rowProps:r,row:o}=e,i=a(e,["trRef","className","rowProps","row"]);return o?s.createElement("tr",Object.assign({},i,{ref:t,className:m.css(n,!0===o.isExpanded?O:E,void 0!==o.isExpanded&&u.default.tableExpandableRow,o.isExpanded&&u.default.modifiers.expanded),hidden:void 0!==(null==o?void 0:o.isExpanded)&&!o.isExpanded}),e.children):s.createElement(s.Fragment,null)};t.IntegrationsTable=e=>{const t=s.useCallback((t,n,r,o)=>{const i=e.integrations,a=e.onCollapse,l=i.findIndex(e=>e.id===o.id);if(a&&-1!==l){a(i[l],l,r)}},[e.integrations,e.onCollapse]),n=s.useMemo(()=>{return t=e.integrations,n=e.onEnable,t.reduce((e,t,r)=>(e.push({id:t.id,key:t.id,isOpen:t.isOpen,selected:t.isSelected,cells:[t.name,t.type.toString().toUpperCase(),s.createElement(s.Fragment,null,t.isEnabledLoading?s.createElement(d.Spinner,{className:y,size:"md"}):s.createElement(d.Switch,{id:"table-row-switch-id-"+t.id,"aria-label":"Enabled",isChecked:t.isEnabled,onChange:e=>n&&n(t,r,e)}))]}),e.push({parent:2*r,fullWidth:!0,showSelect:!1,noPadding:!1,cells:[s.createElement(s.Fragment,null,s.createElement("div",{className:v},s.createElement(p.ExpandedContent,{integration:t})))]}),e),[]);var t,n},[e.integrations,e.onEnable]),r=s.useCallback(t=>{const n=e.actionResolver;if(void 0===t.parent&&t&&e.integrations){const r=e.integrations.find(e=>e.id===t.id);if(r)return n(r)}return[]},[e.actionResolver,e.integrations]);return s.createElement(c.Table,{className:j,"aria-label":f.Messages.components.integrations.table.title,rows:n,cells:_,onCollapse:t,rowWrapper:P,actionResolver:r},s.createElement(c.TableHeader,null),s.createElement(c.TableBody,null))}},568:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandedContent=void 0;const a=i(n(0)),l=n(41);t.ExpandedContent=e=>a.createElement(l.TextContent,null,a.createElement(l.TextList,{component:l.TextListVariants.dl},a.createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Webhook URL"),a.createElement(l.TextListItem,{component:l.TextListItemVariants.dd},e.integration.url)))},570:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useIntegrationRows=void 0;const a=i(n(0)),l=n(115);t.useIntegrationRows=e=>{const[t,n]=a.useState([]),r=l.usePrevious(e);a.useEffect(()=>{e!==r&&n(e.map(e=>Object.assign(Object.assign({},e),{isOpen:!1,isSelected:!1,isEnabledLoading:!1})))},[r,e]);return{rows:t,onCollapse:a.useCallback((e,t,r)=>{n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isOpen:r}),n})},[n]),onEnable:a.default.useCallback((e,t,r)=>{n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isEnabledLoading:!0}),n}),new Promise(e=>{setTimeout(e,1e3)}).then(()=>n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isEnabled:r,isEnabledLoading:!1}),n}))},[n])}}},571:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActionResolver=void 0;const r=n(0);t.useActionResolver=e=>r.useCallback(t=>{const n=e.onEdit;return e.canWriteAll?[{title:"Edit",onClick:()=>n(t)}]:[]},[e.onEdit,e.canWriteAll])},572:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),l=n(92),s=n(41),c=n(0),u=n(270),d=l.Messages.pages.integrations.types.hooks;t.default=e=>{const[t,n]=c.useState("(enter hooks url)"),[r,o]=c.useState(0),[i,f]=c.useState(l.Messages.components.integrations.toolbar.actions.addIntegration);c.useEffect(()=>{if(e.currentRow){f(l.Messages.components.integrations.toolbar.actions.editIntegration);const t=e.model.find(t=>t.id===e.currentRow);t&&n(t.url)}else f(l.Messages.components.integrations.toolbar.actions.addIntegration)},[e.currentRow,e.model]);const p=()=>{n("(enter hooks url)"),e.updateCurrentRow&&e.updateCurrentRow(""),e.updateModal(!1)},b=[{value:"webhook",label:{webhookType:d},disabled:!1}];return a.createElement("div",null,a.createElement(s.Modal,{title:i,isOpen:e.isModalOpen,onClose:p,actions:[a.createElement(s.Button,{key:"confirm",variant:"primary",onClick:()=>{if(t){if(o(r+1),e.currentRow){const n=e.model.find(t=>t.id===e.currentRow);if(n){const r=e.model.map((function(e){return e.id})).indexOf(n.id);n.url=t,0===r?e.updateModel([n,...e.model.slice(1)]):r===e.model.length-1?e.updateModel([...e.model.slice(0,e.model.length-1),n]):e.updateModel([...e.model.slice(0,r-1),n,...e.model.slice(r+1)])}}else e.updateModel([...e.model,{id:"newAddition-"+r,isEnabled:!0,name:"Pager duty-"+r,type:u.IntegrationType.HTTP,url:t}]);p()}}},"Submit"),a.createElement(s.Button,{key:"cancel",variant:"link",onClick:p},"Cancel")]},a.createElement(s.Form,null,a.createElement(s.FormGroup,{label:l.Messages.pages.integrations.add.name,fieldId:"age-1"},a.createElement(s.FormSelect,{value:"",id:"horzontal-form-title",name:"horizontal-form-title","aria-label":"Your title"},b.map((e,t)=>a.createElement(s.FormSelectOption,{isDisabled:e.disabled,key:t,value:e.value,label:"Webhook"}))),a.createElement(s.FormGroup,{label:l.Messages.pages.integrations.types.hooksUrl,isRequired:!0,fieldId:"form-url"},a.createElement(s.TextInput,{value:t,onChange:e=>{n(e)},isRequired:!0,type:"text",id:"horizontal-form-url",name:"horizontal-form-url"}))))))}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntegrationFilter=void 0;const r=n(269),o=n(48),i=n(48),a=e=>o.useUrlStateString("name",e),l=e=>o.useUrlStateString("type",e),s=e=>i.useUrlStateExclusiveOptions("enabled",["enabled","disabled"],void 0),c=e=>{switch(e){case r.IntegrationFilterColumn.NAME:return a;case r.IntegrationFilterColumn.TYPE:return l;case r.IntegrationFilterColumn.ENABLED:return s;default:o.assertNever(e)}};t.useIntegrationFilter=(e=250)=>i.useFilters(r.IntegrationFilterColumn,e,c)},574:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useApp=void 0;const o=n(0),i=n(83),a=n(48),l=r(n(575));t.useApp=()=>{const e=i.useHistory(),[t,n]=o.useState(void 0);return o.useEffect(()=>(a.waitForInsights().then(e=>{e.chrome.init(),e.chrome.identifyApp(l.default.appId)}),()=>{a.getInsights().chrome.on("APP_NAVIGATION",t=>e.push("/"+t.navId))}),[e]),o.useEffect(()=>{a.waitForInsights().then(e=>{e.chrome.auth.getUser().then(()=>{a.fetchRBAC("policies").then(n)})})},[]),{rbac:t}}},575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseUrl=void 0;t.withBaseUrl=e=>"/api/notifications/v1.0"+e;const r={appId:"policies",pages:{}};t.default=r},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;t.Messages={appName:"Notifications",pages:{integrations:{list:{title:"Integrations"},add:{name:"Integration name",type:"Type",submit:"Submit",cancel:"Cancel"},types:{hooks:"Webhook",hooksUrl:"Webhook URL"}},error:{title:"Notifications",emptyState:{title:"Unhandled error",content:"There was a problem trying to process your request.",showDetails:"Show details",actions:{goToIndex:"Go to Policy list"}}}},components:{integrations:{toolbar:{actions:{addIntegration:"Add integration",editIntegration:"Edit integration"}},table:{title:"Integrations",columns:{name:"Name",type:"Type",enabled:"Enabled"}}}},common:{choose:"Please choose"}}}});
//# sourceMappingURL=App.js.map