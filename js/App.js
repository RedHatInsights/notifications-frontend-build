!function(e){function t(t){for(var r,o,i=t[0],a=t[1],s=t[2],l=0,c=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(S,o)&&S[o]&&c.push(S[o][0]),S[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(B&&B(t);c.length;)c.shift()();return T.push.apply(T,s||[]),n()}function n(){for(var e,t=0;t<T.length;t++){for(var n=T[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==S[i]&&(r=!1)}r&&(T.splice(t--,1),e=A(A.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--v&&0===y&&M()}(e,t),r&&r(e,t)};var o,i=!0,a="70c63bfd9090d4b829ab",s={},l=[],c=[];function u(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(m={})[t]=e[t],p("ready");break;case"ready":C(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:j,apply:I,status:function(e){if(!e)return f;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:s[t]};return o=void 0,n}var d=[],f="idle";function p(e){f=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,m,b,g,v=0,y=0,_={},O={},E={};function w(e){return+e+""===e?+e:e}function j(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return i=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=A.p+""+a+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p(x()?"ready":"idle"),null;O={},_={},E=e.c,b=e.h,p("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in m={},S)P(n);return"prepare"===f&&0===y&&0===v&&M(),t}));var t}function P(e){E[e]?(O[e]=!0,v++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=A.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):_[e]=!0}function M(){p("ready");var e=h;if(h=null,e)if(i)Promise.resolve().then((function(){return I(i)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(w(n));e.resolve(t)}}function I(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,i,c,u,d;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((u=k[i])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<u.parents.length;s++){var l=u.parents[s],c=k[l];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(c.hot._acceptedDependencies[i]?(n[l]||(n[l]=[]),h(n[l],[i])):(delete n[l],t.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}x();var v={},y=[],_={},O=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var j in m)if(Object.prototype.hasOwnProperty.call(m,j)){var P;d=w(j),P=m[j]?f(d):{type:"disposed",moduleId:j};var M=!1,I=!1,C=!1,T="";switch(P.chain&&(T="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":n.onDeclined&&n.onDeclined(P),n.ignoreDeclined||(M=new Error("Aborted because of self decline: "+P.moduleId+T));break;case"declined":n.onDeclined&&n.onDeclined(P),n.ignoreDeclined||(M=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+T));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(P),n.ignoreUnaccepted||(M=new Error("Aborted because "+d+" is not accepted"+T));break;case"accepted":n.onAccepted&&n.onAccepted(P),I=!0;break;case"disposed":n.onDisposed&&n.onDisposed(P),C=!0;break;default:throw new Error("Unexception type "+P.type)}if(M)return p("abort"),Promise.reject(M);if(I)for(d in _[d]=m[d],h(y,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,d)&&(v[d]||(v[d]=[]),h(v[d],P.outdatedDependencies[d]));C&&(h(y,[P.moduleId]),_[d]=O)}var D,R=[];for(i=0;i<y.length;i++)d=y[i],k[d]&&k[d].hot._selfAccepted&&_[d]!==O&&!k[d].hot._selfInvalidated&&R.push({module:d,parents:k[d].parents.slice(),errorHandler:k[d].hot._selfAccepted});p("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete S[e]}(e)}));var H,B,N=y.slice();for(;N.length>0;)if(d=N.pop(),u=k[d]){var L={},U=u.hot._disposeHandlers;for(c=0;c<U.length;c++)(r=U[c])(L);for(s[d]=L,u.hot.active=!1,delete k[d],delete v[d],c=0;c<u.children.length;c++){var F=k[u.children[c]];F&&((D=F.parents.indexOf(d))>=0&&F.parents.splice(D,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=k[d]))for(B=v[d],c=0;c<B.length;c++)H=B[c],(D=u.children.indexOf(H))>=0&&u.children.splice(D,1);p("apply"),void 0!==b&&(a=b,b=void 0);for(d in m=void 0,_)Object.prototype.hasOwnProperty.call(_,d)&&(e[d]=_[d]);var W=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=k[d])){B=v[d];var q=[];for(i=0;i<B.length;i++)if(H=B[i],r=u.hot._acceptedDependencies[H]){if(-1!==q.indexOf(r))continue;q.push(r)}for(i=0;i<q.length;i++){r=q[i];try{r(B)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:B[i],error:e}),n.ignoreErrored||W||(W=e)}}}for(i=0;i<R.length;i++){var z=R[i];d=z.module,l=z.parents,o=d;try{A(d)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||W||(W=t),W||(W=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||W||(W=e)}}if(W)return p("fail"),Promise.reject(W);if(g)return t(n).then((function(e){return y.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(y)}))}(t=t||{})}function x(){if(g)return m||(m={}),g.forEach(C),g=void 0,!0}function C(t){Object.prototype.hasOwnProperty.call(m,t)||(m[t]=e[t])}var k={},S={0:0},T=[];function A(t){if(k[t])return k[t].exports;var n=k[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=l,l=[],c),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=k[e];if(!t)return A;var n=function(n){return t.hot.active?(k[n]?-1===k[n].parents.indexOf(e)&&k[n].parents.push(e):(l=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),l=[]),A(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===f&&p("prepare"),y++,A.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===f&&(_[e]||P(e),0===y&&0===v&&M())}},n.t=function(e,t){return 1&t&&(e=n(e)),A.t(e,-2&t)},n}(t)),n.l=!0,n.exports}A.m=e,A.c=k,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)A.d(n,r,function(t){return e[t]}.bind(null,r));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/beta/apps/notifications/",A.h=function(){return a};var D=window.webpackJsonp=window.webpackJsonp||[],R=D.push.bind(D);D.push=t,D=D.slice();for(var H=0;H<D.length;H++)t(D[H]);var B=R;T.push([315,1,3,2,4]),n()}({212:function(e,t,n){var r=n(3),o=n(550),i=n(551);(t=r(!1)).i(o),t.i(i),t.push([e.i,":root{--ins-color--orange: #ec7a08}button:focus{outline:none}.pf-c-wizard__main-body{max-height:100%}\n",""]),e.exports=t},265:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=t.linkTo=void 0;const s=i(n(0)),l=n(63),c=n(552),u=n(553);t.linkTo={integrations:()=>"/integrations",addIntegration:()=>"/integrations/add",notifications:()=>"/notifications"};const d=[{path:t.linkTo.integrations(),component:u.IntegrationsListPage,rootClass:"integrations"},{path:t.linkTo.notifications(),component:()=>s.createElement("div",null,"I am the notifications page"),rootClass:"notifications"}],f=e=>{const{rootClass:t}=e,n=a(e,["rootClass"]),r=document.getElementById("root");if(!r)throw new Error("Root element not found");return r.removeAttribute("class"),r.classList.add("page__"+t,"pf-c-page__main"),r.setAttribute("role","main"),s.createElement(c.ErrorPage,null,s.createElement(l.Route,Object.assign({},n)))};t.Routes=()=>s.createElement(l.Switch,null,d.map(e=>s.createElement(f,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path,exact:!0})))},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationType=void 0,function(e){e.HTTP="http"}(t.IntegrationType||(t.IntegrationType={}))},267:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=void 0;const a=i(n(0));t.AppContext=a.createContext({rbac:{canReadAll:!1,canWriteAll:!1}})},313:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(63),l=n(91),c=n(209);n(549);const u=n(265),d=n(62),f=n(267),p=n(563),h=n(92);t.default=s.withRouter(()=>{const{rbac:e}=p.useApp();return e?a.createElement(f.AppContext.Provider,{value:{rbac:e}},e.canReadAll?a.createElement(a.Fragment,null,a.createElement(c.NotificationsPortal,null),a.createElement(u.Routes,null)):a.createElement(l.NotAuthorized,{serviceName:h.Messages.appName})):a.createElement(d.AppSkeleton,null)})},315:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(15),a=n.n(i),s=n(83),l=n(122),c=n(62),u=n(313),d=n.n(u),f=n(219),p=Object(c.createFetchingClient)(c.getInsights);Object(c.initStore)(),a.a.render(o.a.createElement(l.Provider,{store:Object(c.getStore)()},o.a.createElement(s.BrowserRouter,{basename:Object(c.getBaseName)(window.location.pathname)},o.a.createElement(f.ClientContextProvider,{client:p},o.a.createElement(d.a,null)))),document.getElementById("root"))},549:function(e,t,n){var r=n(212);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},i=n(4)(r,o);r.locals&&(e.exports=r.locals),e.hot.accept(212,(function(){var t=n(212);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},552:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=t.ErrorPageInternal=void 0;const a=i(n(0)),s=n(92),l=n(83),c=n(265),u=n(62);t.ErrorPageInternal=e=>{const t=a.useCallback(()=>{e.history.push(c.linkTo.notifications())},[e.history]);return a.createElement(u.ErrorBoundaryPage,{action:t,actionLabel:s.Messages.pages.error.emptyState.actions.goToIndex,pageHeader:s.Messages.pages.error.title,title:s.Messages.pages.error.emptyState.title,description:s.Messages.pages.error.emptyState.content},e.children)},t.ErrorPage=l.withRouter(t.ErrorPageInternal)},553:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsListPage=void 0;const s=i(n(0)),l=n(91),c=n(92),u=n(554),d=n(555),f=n(266),p=n(560),h=n(561),m=n(0),b=n(267),g=a(n(562)),v=e=>console.log("export to "+e);t.IntegrationsListPage=()=>{const{rbac:{canWriteAll:e}}=m.useContext(b.AppContext),[t,n]=m.useState([{id:"foo",isEnabled:!0,name:"Aha",type:f.IntegrationType.HTTP,url:"https://aha.com"},{id:"foo-2",isEnabled:!0,name:"Pager duty",type:f.IntegrationType.HTTP,url:"https://pagerduty.com/weebhook/thatthis"}]),r=p.useIntegrationRows(t),[o,i]=m.useState(!1),[a,y]=m.useState(""),_=s.useCallback(()=>{i(!0)},[]),O=s.useCallback(e=>{y(e.id),i(!0)},[]),E=h.useActionResolver({canWriteAll:e,onEdit:O});return s.createElement(s.Fragment,null,s.createElement(l.PageHeader,null,s.createElement(l.PageHeaderTitle,{title:c.Messages.pages.integrations.list.title})),s.createElement(l.Main,null,s.createElement(l.Section,null,s.createElement(u.IntegrationsToolbar,{onAddIntegration:_,onExport:v}),s.createElement(d.IntegrationsTable,{integrations:r.rows,onCollapse:r.onCollapse,onEnable:r.onEnable,actionResolver:E}),s.createElement(g.default,{isModalOpen:o,updateModal:i,updateModel:n,model:t,currentRow:a,updateCurrentRow:y}))))}},554:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsToolbar=void 0;const a=i(n(0)),s=n(91),l=n(92);t.IntegrationsToolbar=e=>{const t=a.useMemo(()=>({actions:[{key:"add-integration",label:l.Messages.components.integrations.toolbar.actions.addIntegration,onClick:e.onAddIntegration,props:{isDisabled:!e.onAddIntegration}}],kebabToggleProps:{isDisabled:!1}}),[e.onAddIntegration]),n=a.useMemo(()=>{const t=e.onExport;if(t)return{extraItems:[],onSelect:(e,n)=>t(n)}},[e.onExport]);return a.createElement(s.PrimaryToolbar,{actionsConfig:t,exportConfig:n})}},555:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsTable=void 0;const l=i(n(0)),c=n(268),u=s(n(556)),d=n(41),f=n(92),p=n(558),h=n(115),m=n(62),b=n(559),g=n(269),v=h.style({paddingLeft:m.Spacer.LG,paddingBottom:m.Spacer.LG}),y=h.style({marginLeft:10}),_=[{title:f.Messages.components.integrations.table.columns.name,cellFormatters:[c.expandable],transforms:[]},{title:f.Messages.components.integrations.table.columns.type,transforms:[]},{title:f.Messages.components.integrations.table.columns.enabled,transforms:[]}],{rowExpandedContentClassName:O,rowWrapperClassName:E,tableClassName:w}=(()=>{const e=g.important("none"),t=g.important("var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)"),n={borderBottom:e};return{rowExpandedContentClassName:h.style(n),rowWrapperClassName:h.style(n,{borderTop:t}),tableClassName:h.style({borderBottom:t})}})(),j=e=>{const{trRef:t,className:n,rowProps:r,row:o}=e,i=a(e,["trRef","className","rowProps","row"]);return o?l.createElement("tr",Object.assign({},i,{ref:t,className:b.css(n,!0===o.isExpanded?O:E,void 0!==o.isExpanded&&u.default.tableExpandableRow,o.isExpanded&&u.default.modifiers.expanded),hidden:void 0!==(null==o?void 0:o.isExpanded)&&!o.isExpanded}),e.children):l.createElement(l.Fragment,null)};t.IntegrationsTable=e=>{const t=l.useCallback((t,n,r,o)=>{const i=e.integrations,a=e.onCollapse,s=i.findIndex(e=>e.id===o.id);if(a&&-1!==s){a(i[s],s,r)}},[e.integrations,e.onCollapse]),n=l.useMemo(()=>{return t=e.integrations,n=e.onEnable,t.reduce((e,t,r)=>(e.push({id:t.id,key:t.id,isOpen:t.isOpen,selected:t.isSelected,cells:[t.name,t.type.toString().toUpperCase(),l.createElement(l.Fragment,null,t.isEnabledLoading?l.createElement(d.Spinner,{className:y,size:"md"}):l.createElement(d.Switch,{id:"table-row-switch-id-"+t.id,"aria-label":"Enabled",isChecked:t.isEnabled,onChange:e=>n&&n(t,r,e)}))]}),e.push({parent:2*r,fullWidth:!0,showSelect:!1,noPadding:!1,cells:[l.createElement(l.Fragment,null,l.createElement("div",{className:v},l.createElement(p.ExpandedContent,{integration:t})))]}),e),[]);var t,n},[e.integrations,e.onEnable]),r=l.useCallback(t=>{const n=e.actionResolver;if(void 0===t.parent&&t&&e.integrations){const r=e.integrations.find(e=>e.id===t.id);if(r)return n(r)}return[]},[e.actionResolver,e.integrations]);return l.createElement(c.Table,{className:w,"aria-label":f.Messages.components.integrations.table.title,rows:n,cells:_,onCollapse:t,rowWrapper:j,actionResolver:r},l.createElement(c.TableHeader,null),l.createElement(c.TableBody,null))}},558:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandedContent=void 0;const a=i(n(0)),s=n(41);t.ExpandedContent=e=>a.createElement(s.TextContent,null,a.createElement(s.TextList,{component:s.TextListVariants.dl},a.createElement(s.TextListItem,{component:s.TextListItemVariants.dt},"Webhook URL"),a.createElement(s.TextListItem,{component:s.TextListItemVariants.dd},e.integration.url)))},560:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useIntegrationRows=void 0;const a=i(n(0)),s=n(114);t.useIntegrationRows=e=>{const[t,n]=a.useState([]),r=s.usePrevious(e);a.useEffect(()=>{e!==r&&n(e.map(e=>Object.assign(Object.assign({},e),{isOpen:!1,isSelected:!1,isEnabledLoading:!1})))},[r,e]);return{rows:t,onCollapse:a.useCallback((e,t,r)=>{n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isOpen:r}),n})},[n]),onEnable:a.default.useCallback((e,t,r)=>{n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isEnabledLoading:!0}),n}),new Promise(e=>{setTimeout(e,1e3)}).then(()=>n(e=>{const n=[...e];return n[t]=Object.assign(Object.assign({},n[t]),{isEnabled:r,isEnabledLoading:!1}),n}))},[n])}}},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActionResolver=void 0;const r=n(0);t.useActionResolver=e=>r.useCallback(t=>{const n=e.onEdit;return e.canWriteAll?[{title:"Edit",onClick:()=>n(t)}]:[]},[e.onEdit,e.canWriteAll])},562:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(0)),s=n(92),l=n(41),c=n(0),u=n(266),d=s.Messages.pages.integrations.types.hooks;t.default=e=>{const[t,n]=c.useState("(enter hooks url)"),[r,o]=c.useState(0),[i,f]=c.useState(s.Messages.components.integrations.toolbar.actions.addIntegration);c.useEffect(()=>{if(e.currentRow){f(s.Messages.components.integrations.toolbar.actions.editIntegration);const t=e.model.find(t=>t.id===e.currentRow);t&&n(t.url)}else f(s.Messages.components.integrations.toolbar.actions.addIntegration)},[e.currentRow,e.model]);const p=()=>{n("(enter hooks url)"),e.updateCurrentRow&&e.updateCurrentRow(""),e.updateModal(!1)},h=[{value:"webhook",label:{webhookType:d},disabled:!1}];return a.createElement("div",null,a.createElement(l.Modal,{title:i,isOpen:e.isModalOpen,onClose:p,actions:[a.createElement(l.Button,{key:"confirm",variant:"primary",onClick:()=>{if(t){if(o(r+1),e.currentRow){const n=e.model.find(t=>t.id===e.currentRow);if(n){const r=e.model.map((function(e){return e.id})).indexOf(n.id);n.url=t,0===r?e.updateModel([n,...e.model.slice(1)]):r===e.model.length-1?e.updateModel([...e.model.slice(0,e.model.length-1),n]):e.updateModel([...e.model.slice(0,r-1),n,...e.model.slice(r+1)])}}else e.updateModel([...e.model,{id:"newAddition-"+r,isEnabled:!0,name:"Pager duty-"+r,type:u.IntegrationType.HTTP,url:t}]);p()}}},"Submit"),a.createElement(l.Button,{key:"cancel",variant:"link",onClick:p},"Cancel")]},a.createElement(l.Form,null,a.createElement(l.FormGroup,{label:s.Messages.pages.integrations.add.name,fieldId:"age-1"},a.createElement(l.FormSelect,{value:"",id:"horzontal-form-title",name:"horizontal-form-title","aria-label":"Your title"},h.map((e,t)=>a.createElement(l.FormSelectOption,{isDisabled:e.disabled,key:t,value:e.value,label:"Webhook"}))),a.createElement(l.FormGroup,{label:s.Messages.pages.integrations.types.hooksUrl,isRequired:!0,fieldId:"form-url"},a.createElement(l.TextInput,{value:t,onChange:e=>{n(e)},isRequired:!0,type:"text",id:"horizontal-form-url",name:"horizontal-form-url"}))))))}},563:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useApp=void 0;const o=n(0),i=n(83),a=n(62),s=r(n(564));t.useApp=()=>{const e=i.useHistory(),[t,n]=o.useState(void 0);return o.useEffect(()=>(a.waitForInsights().then(e=>{e.chrome.init(),e.chrome.identifyApp(s.default.appId)}),()=>{a.getInsights().chrome.on("APP_NAVIGATION",t=>e.push("/"+t.navId))}),[e]),o.useEffect(()=>{a.waitForInsights().then(e=>{e.chrome.auth.getUser().then(()=>{a.fetchRBAC("policies").then(n)})})},[]),{rbac:t}}},564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseUrl=void 0;t.withBaseUrl=e=>"/api/notifications/v1.0"+e;const r={appId:"policies",pages:{}};t.default=r},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;t.Messages={appName:"Notifications",pages:{integrations:{list:{title:"Integrations"},add:{name:"Integration name",type:"Type",submit:"Submit",cancel:"Cancel"},types:{hooks:"Webhook",hooksUrl:"Webhook URL"}},error:{title:"Notifications",emptyState:{title:"Unhandled error",content:"There was a problem trying to process your request.",showDetails:"Show details",actions:{goToIndex:"Go to Policy list"}}}},components:{integrations:{toolbar:{actions:{addIntegration:"Add integration",editIntegration:"Edit integration"}},table:{title:"Integrations",columns:{name:"Name",type:"Type",enabled:"Enabled"}}}},common:{choose:"Please choose"}}}});
//# sourceMappingURL=App.js.map