!function(e){function t(t){for(var i,o,a=t[0],r=t[1],l=t[2],s=0,c=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(w,o)&&w[o]&&c.push(w[o][0]),w[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(F&&F(t);c.length;)c.shift()();return M.push.apply(M,l||[]),n()}function n(){for(var e,t=0;t<M.length;t++){for(var n=M[t],i=!0,o=1;o<n.length;o++){var a=n[o];0!==w[a]&&(i=!1)}i&&(M.splice(t--,1),e=D(D.s=n[0]))}return e}var i=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!_[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0==--v&&0===h&&T()}(e,t),i&&i(e,t)};var o,a=!0,r="374d16d1a349b1e1be90",l={},s=[],c=[];function u(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)n._acceptedDependencies[e[i]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(g={})[t]=e[t],f("ready");break;case"ready":P(t);break;case"prepare":case"check":case"dispose":case"apply":(y=y||[]).push(t)}},check:S,apply:j,status:function(e){if(!e)return p;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:l[t]};return o=void 0,n}var d=[],p="idle";function f(e){p=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var b,g,m,y,v=0,h=0,E={},O={},_={};function I(e){return+e+""===e?+e:e}function S(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var i=new XMLHttpRequest,o=D.p+""+r+".hot-update.json";i.open("GET",o,!0),i.timeout=t,i.send(null)}catch(e){return n(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===i.status)e();else if(200!==i.status&&304!==i.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(i.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(C()?"ready":"idle"),null;O={},E={},_=e.c,m=e.h,f("prepare");var t=new Promise((function(e,t){b={resolve:e,reject:t}}));for(var n in g={},w)N(n);return"prepare"===p&&0===h&&0===v&&T(),t}));var t}function N(e){_[e]?(O[e]=!0,v++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=D.p+""+e+"."+r+".hot-update.js",document.head.appendChild(t)}(e)):E[e]=!0}function T(){f("ready");var e=b;if(b=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(I(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var i,a,c,u,d;function p(e){for(var t=[e],n={},i=t.map((function(e){return{chain:[e],id:e}}));i.length>0;){var o=i.pop(),a=o.id,r=o.chain;if((u=A[a])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:a};if(u.hot._main)return{type:"unaccepted",chain:r,moduleId:a};for(var l=0;l<u.parents.length;l++){var s=u.parents[l],c=A[s];if(c){if(c.hot._declinedDependencies[a])return{type:"declined",chain:r.concat([s]),moduleId:a,parentId:s};-1===t.indexOf(s)&&(c.hot._acceptedDependencies[a]?(n[s]||(n[s]=[]),b(n[s],[a])):(delete n[s],t.push(s),i.push({chain:r.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];-1===e.indexOf(i)&&e.push(i)}}C();var v={},h=[],E={},O=function(){console.warn("[HMR] unexpected require("+N.moduleId+") to disposed module")};for(var S in g)if(Object.prototype.hasOwnProperty.call(g,S)){var N;d=I(S),N=g[S]?p(d):{type:"disposed",moduleId:S};var T=!1,j=!1,P=!1,M="";switch(N.chain&&(M="\nUpdate propagation: "+N.chain.join(" -> ")),N.type){case"self-declined":n.onDeclined&&n.onDeclined(N),n.ignoreDeclined||(T=new Error("Aborted because of self decline: "+N.moduleId+M));break;case"declined":n.onDeclined&&n.onDeclined(N),n.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+N.moduleId+" in "+N.parentId+M));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(N),n.ignoreUnaccepted||(T=new Error("Aborted because "+d+" is not accepted"+M));break;case"accepted":n.onAccepted&&n.onAccepted(N),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(N),P=!0;break;default:throw new Error("Unexception type "+N.type)}if(T)return f("abort"),Promise.reject(T);if(j)for(d in E[d]=g[d],b(h,N.outdatedModules),N.outdatedDependencies)Object.prototype.hasOwnProperty.call(N.outdatedDependencies,d)&&(v[d]||(v[d]=[]),b(v[d],N.outdatedDependencies[d]));P&&(b(h,[N.moduleId]),E[d]=O)}var R,k=[];for(a=0;a<h.length;a++)d=h[a],A[d]&&A[d].hot._selfAccepted&&E[d]!==O&&!A[d].hot._selfInvalidated&&k.push({module:d,parents:A[d].parents.slice(),errorHandler:A[d].hot._selfAccepted});f("dispose"),Object.keys(_).forEach((function(e){!1===_[e]&&function(e){delete w[e]}(e)}));var B,F,x=h.slice();for(;x.length>0;)if(d=x.pop(),u=A[d]){var L={},U=u.hot._disposeHandlers;for(c=0;c<U.length;c++)(i=U[c])(L);for(l[d]=L,u.hot.active=!1,delete A[d],delete v[d],c=0;c<u.children.length;c++){var G=A[u.children[c]];G&&((R=G.parents.indexOf(d))>=0&&G.parents.splice(R,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=A[d]))for(F=v[d],c=0;c<F.length;c++)B=F[c],(R=u.children.indexOf(B))>=0&&u.children.splice(R,1);f("apply"),void 0!==m&&(r=m,m=void 0);for(d in g=void 0,E)Object.prototype.hasOwnProperty.call(E,d)&&(e[d]=E[d]);var V=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(u=A[d])){F=v[d];var H=[];for(a=0;a<F.length;a++)if(B=F[a],i=u.hot._acceptedDependencies[B]){if(-1!==H.indexOf(i))continue;H.push(i)}for(a=0;a<H.length;a++){i=H[a];try{i(F)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:d,dependencyId:F[a],error:e}),n.ignoreErrored||V||(V=e)}}}for(a=0;a<k.length;a++){var W=k[a];d=W.module,s=W.parents,o=d;try{D(d)}catch(e){if("function"==typeof W.errorHandler)try{W.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),n.ignoreErrored||V||(V=t),V||(V=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:d,error:e}),n.ignoreErrored||V||(V=e)}}if(V)return f("fail"),Promise.reject(V);if(y)return t(n).then((function(e){return h.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(h)}))}(t=t||{})}function C(){if(y)return g||(g={}),y.forEach(P),y=void 0,!0}function P(t){Object.prototype.hasOwnProperty.call(g,t)||(g[t]=e[t])}var A={},w={0:0},M=[];function D(t){if(A[t])return A[t].exports;var n=A[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=s,s=[],c),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=A[e];if(!t)return D;var n=function(n){return t.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),D(n)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var a in D)Object.prototype.hasOwnProperty.call(D,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,i(a));return n.e=function(e){return"ready"===p&&f("prepare"),h++,D.e(e).then(t,(function(e){throw t(),e}));function t(){h--,"prepare"===p&&(E[e]||N(e),0===h&&0===v&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),D.t(e,-2&t)},n}(t)),n.l=!0,n.exports}D.m=e,D.c=A,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)D.d(n,i,function(t){return e[t]}.bind(null,i));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="/beta/apps/notifications/",D.h=function(){return r};var R=window.webpackJsonp=window.webpackJsonp||[],k=R.push.bind(R);R.push=t,R=R.slice();for(var B=0;B<R.length;B++)t(R[B]);var F=k;M.push([527,1,3,2,4]),n()}({132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationType=void 0,function(e){e.EMAIL_SUBSCRIPTION="EMAIL_SUBSCRIPTION",e.DRAWER="DRAWER",e.INTEGRATION="INTEGRATION"}(t.NotificationType||(t.NotificationType={}))},133:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Operations=t.Schemas=void 0;const r=n(160),l=n(379),s=a(n(210));var c;!function(e){function t(){return s.object({accountId:s.string().optional().nullable(),account_id:s.string().optional().nullable(),application:s.string().optional().nullable(),eventType:s.string().optional().nullable(),event_type:s.string().optional().nullable(),payload:T().optional().nullable(),schema:V().optional().nullable(),specificData:J().optional().nullable(),timestamp:s.string().optional().nullable()}).nonstrict()}function n(){return s.object({created:s.string().optional().nullable(),display_name:s.string(),eventTypes:$().optional().nullable(),id:X().optional().nullable(),name:s.string(),updated:s.string().optional().nullable()}).nonstrict()}function i(){return s.object({password:s.string().optional().nullable(),username:s.string().optional().nullable()}).nonstrict()}function o(){return s.record(y())}function a(){return s.object({convertedType:s.unknown().optional().nullable(),logicalTypeName:s.string().optional().nullable(),recommendedSchema:V().optional().nullable()}).nonstrict()}function r(){return s.unknown()}function l(){return s.object({created:s.string().optional().nullable(),description:s.string(),enabled:s.boolean().optional().nullable(),id:X().optional().nullable(),name:s.string(),properties:s.union([ee(),r()]).optional().nullable(),type:c(),updated:s.string().optional().nullable()}).nonstrict()}function c(){return s.enum(["webhook","email_subscription","default"])}function u(){return s.object({value:s.string().optional().nullable(),weak:s.boolean().optional().nullable()}).nonstrict()}function d(){return s.object({application:s.lazy(()=>n()).optional().nullable(),display_name:s.string(),endpoints:q().optional().nullable(),id:s.number().int().optional().nullable(),name:s.string()}).nonstrict()}function p(){return s.enum(["CLIENT_ERROR","INFORMATIONAL","OTHER","REDIRECTION","SERVER_ERROR","SUCCESSFUL"])}function f(){return s.object({classPropEnabled:s.boolean().optional().nullable(),data:g().optional().nullable(),keyClassEnabled:s.boolean().optional().nullable(),readerCache:P().optional().nullable()}).nonstrict()}function b(){return s.object({aliases:K().optional().nullable(),defaultValue:y().optional().nullable(),doc:s.string().optional().nullable(),name:s.string().optional().nullable(),objectProps:R().optional().nullable(),order:G().optional().nullable(),position:s.number().int().optional().nullable(),props:o().optional().nullable(),reserved:K().optional().nullable(),schema:s.lazy(()=>V()).optional().nullable()}).nonstrict()}function g(){return s.object({classLoader:s.unknown().optional().nullable(),conversions:M().optional().nullable(),conversionsByClass:j().optional().nullable(),defaultValueCache:C().optional().nullable(),fastReaderBuilder:s.lazy(()=>f()).optional().nullable(),fastReaderEnabled:s.boolean().optional().nullable()}).nonstrict()}function m(){return s.enum(["GET","POST","PUT"])}function y(){return s.object({array:s.boolean().optional().nullable(),bigDecimal:s.boolean().optional().nullable(),bigInteger:s.boolean().optional().nullable(),binary:s.boolean().optional().nullable(),boolean:s.boolean().optional().nullable(),containerNode:s.boolean().optional().nullable(),double:s.boolean().optional().nullable(),empty:s.boolean().optional().nullable(),float:s.boolean().optional().nullable(),floatingPointNumber:s.boolean().optional().nullable(),int:s.boolean().optional().nullable(),integralNumber:s.boolean().optional().nullable(),long:s.boolean().optional().nullable(),missingNode:s.boolean().optional().nullable(),nodeType:v().optional().nullable(),null:s.boolean().optional().nullable(),number:s.boolean().optional().nullable(),object:s.boolean().optional().nullable(),pojo:s.boolean().optional().nullable(),short:s.boolean().optional().nullable(),textual:s.boolean().optional().nullable(),valueNode:s.boolean().optional().nullable()}).nonstrict()}function v(){return s.enum(["ARRAY","BINARY","BOOLEAN","MISSING","NULL","NUMBER","OBJECT","POJO","STRING"])}function h(){return s.array(s.unknown())}function E(){return s.object({params:k().optional().nullable(),rel:s.string().optional().nullable(),rels:I().optional().nullable(),title:s.string().optional().nullable(),type:s.string().optional().nullable(),uri:s.string().optional().nullable(),uriBuilder:Z().optional().nullable()}).nonstrict()}function O(){return s.array(b())}function _(){return s.array(s.lazy(()=>V()))}function I(){return s.array(s.string())}function S(){return s.object({country:s.string().optional().nullable(),displayCountry:s.string().optional().nullable(),displayLanguage:s.string().optional().nullable(),displayName:s.string().optional().nullable(),displayScript:s.string().optional().nullable(),displayVariant:s.string().optional().nullable(),extensionKeys:H().optional().nullable(),iSO3Country:s.string().optional().nullable(),iSO3Language:s.string().optional().nullable(),language:s.string().optional().nullable(),script:s.string().optional().nullable(),unicodeLocaleAttributes:K().optional().nullable(),unicodeLocaleKeys:K().optional().nullable(),variant:s.string().optional().nullable()}).nonstrict()}function N(){return s.object({name:s.string().optional().nullable()}).nonstrict()}function T(){return s.unknown()}function j(){return s.record(M())}function C(){return s.record(s.unknown())}function P(){return s.record(A())}function A(){return s.object({empty:s.boolean().optional().nullable()}).nonstrict()}function w(){return s.record(s.unknown())}function M(){return s.record(a())}function D(){return s.record(U())}function R(){return s.record(s.unknown())}function k(){return s.record(s.string())}function B(){return s.record(V())}function F(){return s.object({parameters:k().optional().nullable(),subtype:s.string().optional().nullable(),type:s.string().optional().nullable(),wildcardSubtype:s.boolean().optional().nullable(),wildcardType:s.boolean().optional().nullable()}).nonstrict()}function x(){return s.record(s.unknown())}function L(){return s.record(s.string())}function U(){return s.object({comment:s.string().optional().nullable(),domain:s.string().optional().nullable(),expiry:s.string().optional().nullable(),httpOnly:s.boolean().optional().nullable(),maxAge:s.number().int().optional().nullable(),name:s.string().optional().nullable(),path:s.string().optional().nullable(),secure:s.boolean().optional().nullable(),value:s.string().optional().nullable(),version:s.number().int().optional().nullable()}).nonstrict()}function G(){return s.enum(["ASCENDING","DESCENDING","IGNORE"])}function V(){return s.object({aliases:K().optional().nullable(),doc:s.string().optional().nullable(),elementType:s.lazy(()=>V()).optional().nullable(),enumDefault:s.string().optional().nullable(),enumSymbols:I().optional().nullable(),error:s.boolean().optional().nullable(),fields:O().optional().nullable(),fixedSize:s.number().int().optional().nullable(),fullName:s.string().optional().nullable(),hashCode:s.number().int().optional().nullable(),logicalType:N().optional().nullable(),name:s.string().optional().nullable(),namespace:s.string().optional().nullable(),nullable:s.boolean().optional().nullable(),objectProps:R().optional().nullable(),props:o().optional().nullable(),reserved:K().optional().nullable(),type:Y().optional().nullable(),types:_().optional().nullable(),union:s.boolean().optional().nullable(),valueType:s.lazy(()=>V()).optional().nullable()}).nonstrict()}function H(){return s.array(s.string())}function W(){return s.array(s.unknown())}function q(){return s.array(l())}function $(){return s.array(d())}function z(){return s.array(E())}function K(){return s.array(s.string())}function J(){return s.object({classCache:w().optional().nullable(),classLoader:s.unknown().optional().nullable(),conversions:M().optional().nullable(),conversionsByClass:j().optional().nullable(),customCoders:s.boolean().optional().nullable(),defaultValueCache:C().optional().nullable(),fastReaderBuilder:f().optional().nullable(),fastReaderEnabled:s.boolean().optional().nullable(),schemaClassCache:s.unknown().optional().nullable(),schemaTypeCache:B().optional().nullable(),stringableClasses:W().optional().nullable(),useCustomCoderFlag:s.boolean().optional().nullable()}).nonstrict()}function Q(){return s.object({family:p().optional().nullable(),reasonPhrase:s.string().optional().nullable(),statusCode:s.number().int().optional().nullable()}).nonstrict()}function Y(){return s.enum(["ARRAY","BOOLEAN","BYTES","DOUBLE","ENUM","FIXED","FLOAT","INT","LONG","MAP","NULL","RECORD","STRING","UNION"])}function X(){return s.string()}function Z(){return s.unknown()}function ee(){return s.object({basic_authentication:i().optional().nullable(),disable_ssl_verification:s.boolean().optional().nullable(),method:m(),secret_token:s.string().optional().nullable(),url:s.string()}).nonstrict()}e.Action=t(),e.Application=n(),e.ApplicationFacet=s.object({label:s.string(),value:s.string()}).nonstrict(),e.Attributes=s.unknown(),e.BasicAuthentication=i(),e.ConcurrentMapStringJsonNode=o(),e.ConversionObject=a(),e.EmailSubscriptionAttributes=r(),e.Endpoint=l(),e.EndpointType=c(),e.EntityTag=u(),e.EventType=d(),e.Family=p(),e.FastReaderBuilder=f(),e.Field=b(),e.GenericData=g(),e.HttpType=m(),e.JsonNode=y(),e.JsonNodeType=v(),e.JsonObject=h(),e.Link=E(),e.ListField=O(),e.ListSchema=_(),e.ListString=I(),e.Locale=S(),e.LogicalType=N(),e.Map=T(),e.MapClassObjectMapStringConversionObject=j(),e.MapFieldObject=C(),e.MapSchemaMapSchemaRecordReader=P(),e.MapSchemaRecordReader=A(),e.MapStringClass=w(),e.MapStringConversionObject=M(),e.MapStringNewCookie=D(),e.MapStringObject=R(),e.MapStringString=k(),e.MapTypeSchema=B(),e.MediaType=F(),e.MultivaluedMapStringObject=x(),e.MultivaluedMapStringString=L(),e.NewCookie=U(),e.Notification=s.object({action:t().optional().nullable(),endpoint:l().optional().nullable(),tenant:s.string().optional().nullable()}).nonstrict(),e.NotificationHistory=s.object({created:s.string().optional().nullable(),details:h().optional().nullable(),endpointId:X().optional().nullable(),eventId:s.string().optional().nullable(),id:s.number().int().optional().nullable(),invocationResult:s.boolean().optional().nullable(),invocationTime:s.number().int().optional().nullable()}).nonstrict(),e.Order=G(),e.Response=s.object({allowedMethods:K().optional().nullable(),cookies:D().optional().nullable(),date:s.string().optional().nullable(),entity:s.unknown().optional().nullable(),entityTag:u().optional().nullable(),headers:x().optional().nullable(),language:S().optional().nullable(),lastModified:s.string().optional().nullable(),length:s.number().int().optional().nullable(),links:z().optional().nullable(),location:s.string().optional().nullable(),mediaType:F().optional().nullable(),metadata:x().optional().nullable(),status:s.number().int().optional().nullable(),statusInfo:Q().optional().nullable(),stringHeaders:L().optional().nullable()}).nonstrict(),e.Schema=V(),e.SetCharacter=H(),e.SetClass=W(),e.SetEndpoint=q(),e.SetEventType=$(),e.SetLink=z(),e.SetString=K(),e.SetUUID=s.array(s.string()),e.SpecificData=J(),e.StatusType=Q(),e.Type=Y(),e.UUID=X(),e.UriBuilder=Z(),e.WebhookAttributes=ee()}(c=t.Schemas||(t.Schemas={})),function(e){let t,n,i,o,a,u,d,p,f,b;!function(e){const t=s.array(c.Endpoint);e.actionCreator=()=>l.actionBuilder("GET","/api/notifications/v1.0/notifications/defaults").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(t=e.NotificationServiceGetEndpointsForDefaults||(e.NotificationServiceGetEndpointsForDefaults={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/notifications/v1.0/notifications/defaults/{endpointId}".replace("{endpointId}",e.endpointId.toString());return l.actionBuilder("PUT",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(n=e.NotificationServiceAddEndpointToDefaults||(e.NotificationServiceAddEndpointToDefaults={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/notifications/v1.0/notifications/defaults/{endpointId}".replace("{endpointId}",e.endpointId.toString());return l.actionBuilder("DELETE",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(i=e.NotificationServiceDeleteEndpointFromDefaults||(e.NotificationServiceDeleteEndpointFromDefaults={})),function(e){s.number().int(),s.number().int(),s.number().int(),s.string();const t=s.array(c.EventType);e.actionCreator=e=>{const n={};return void 0!==e.applicationIds&&(n.applicationIds=e.applicationIds),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.offset&&(n.offset=e.offset),void 0!==e.pageNumber&&(n.pageNumber=e.pageNumber),void 0!==e.sortBy&&(n.sort_by=e.sortBy),l.actionBuilder("GET","/api/notifications/v1.0/notifications/eventTypes").queryParams(n).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(o=e.NotificationServiceGetEventTypes||(e.NotificationServiceGetEventTypes={})),function(e){s.number().int(),s.number().int(),s.number().int(),s.number().int(),s.string();const t=s.array(c.Endpoint);e.actionCreator=e=>{const n="/api/notifications/v1.0/notifications/eventTypes/{eventTypeId}".replace("{eventTypeId}",e.eventTypeId.toString()),i={};return void 0!==e.limit&&(i.limit=e.limit),void 0!==e.offset&&(i.offset=e.offset),void 0!==e.pageNumber&&(i.pageNumber=e.pageNumber),void 0!==e.sortBy&&(i.sort_by=e.sortBy),l.actionBuilder("GET",n).queryParams(i).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(a=e.NotificationServiceGetLinkedEndpoints||(e.NotificationServiceGetLinkedEndpoints={})),function(e){s.number().int();const t=s.string();e.actionCreator=e=>{const n="/api/notifications/v1.0/notifications/eventTypes/{eventTypeId}/{endpointId}".replace("{endpointId}",e.endpointId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return l.actionBuilder("PUT",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(u=e.NotificationServiceLinkEndpointToEventType||(e.NotificationServiceLinkEndpointToEventType={})),function(e){s.number().int();const t=s.string();e.actionCreator=e=>{const n="/api/notifications/v1.0/notifications/eventTypes/{eventTypeId}/{endpointId}".replace("{endpointId}",e.endpointId.toString()).replace("{eventTypeId}",e.eventTypeId.toString());return l.actionBuilder("DELETE",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(d=e.NotificationServiceUnlinkEndpointFromEventType||(e.NotificationServiceUnlinkEndpointFromEventType={})),function(e){const t=s.array(c.ApplicationFacet);e.actionCreator=()=>l.actionBuilder("GET","/api/notifications/v1.0/notifications/facets/applications").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(p=e.NotificationServiceGetApplicationsFacets||(e.NotificationServiceGetApplicationsFacets={})),function(e){const t=s.array(c.Notification);e.actionCreator=()=>l.actionBuilder("GET","/api/notifications/v1.0/notifications/updates").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(f=e.NotificationServiceGetNotificationUpdates||(e.NotificationServiceGetNotificationUpdates={})),function(e){s.number().int();const t=s.string();e.actionCreator=e=>l.actionBuilder("DELETE","/api/notifications/v1.0/notifications/{id}").queryParams({}).data(e.body).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(b=e.NotificationServiceMarkRead||(e.NotificationServiceMarkRead={}))}(t.Operations||(t.Operations={}))},142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserIntegrationType=t.IntegrationType=void 0,function(e){e.WEBHOOK="webhook",e.EMAIL_SUBSCRIPTION="email_subscription"}(t.IntegrationType||(t.IntegrationType={})),function(e){e.WEBHOOK="webhook"}(t.UserIntegrationType||(t.UserIntegrationType={}))},143:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Operations=t.Schemas=void 0;const r=n(160),l=n(379),s=a(n(210));var c;!function(e){function t(){return s.object({accountId:s.string().optional().nullable(),account_id:s.string().optional().nullable(),application:s.string().optional().nullable(),eventType:s.string().optional().nullable(),event_type:s.string().optional().nullable(),payload:T().optional().nullable(),schema:V().optional().nullable(),specificData:J().optional().nullable(),timestamp:s.string().optional().nullable()}).nonstrict()}function n(){return s.object({created:s.string().optional().nullable(),display_name:s.string(),eventTypes:$().optional().nullable(),id:X().optional().nullable(),name:s.string(),updated:s.string().optional().nullable()}).nonstrict()}function i(){return s.object({password:s.string().optional().nullable(),username:s.string().optional().nullable()}).nonstrict()}function o(){return s.record(y())}function a(){return s.object({convertedType:s.unknown().optional().nullable(),logicalTypeName:s.string().optional().nullable(),recommendedSchema:V().optional().nullable()}).nonstrict()}function r(){return s.unknown()}function l(){return s.object({created:s.string().optional().nullable(),description:s.string(),enabled:s.boolean().optional().nullable(),id:X().optional().nullable(),name:s.string(),properties:s.union([ee(),r()]).optional().nullable(),type:c(),updated:s.string().optional().nullable()}).nonstrict()}function c(){return s.enum(["webhook","email_subscription","default"])}function u(){return s.object({value:s.string().optional().nullable(),weak:s.boolean().optional().nullable()}).nonstrict()}function d(){return s.object({application:s.lazy(()=>n()).optional().nullable(),display_name:s.string(),endpoints:q().optional().nullable(),id:s.number().int().optional().nullable(),name:s.string()}).nonstrict()}function p(){return s.enum(["CLIENT_ERROR","INFORMATIONAL","OTHER","REDIRECTION","SERVER_ERROR","SUCCESSFUL"])}function f(){return s.object({classPropEnabled:s.boolean().optional().nullable(),data:g().optional().nullable(),keyClassEnabled:s.boolean().optional().nullable(),readerCache:P().optional().nullable()}).nonstrict()}function b(){return s.object({aliases:K().optional().nullable(),defaultValue:y().optional().nullable(),doc:s.string().optional().nullable(),name:s.string().optional().nullable(),objectProps:R().optional().nullable(),order:G().optional().nullable(),position:s.number().int().optional().nullable(),props:o().optional().nullable(),reserved:K().optional().nullable(),schema:s.lazy(()=>V()).optional().nullable()}).nonstrict()}function g(){return s.object({classLoader:s.unknown().optional().nullable(),conversions:M().optional().nullable(),conversionsByClass:j().optional().nullable(),defaultValueCache:C().optional().nullable(),fastReaderBuilder:s.lazy(()=>f()).optional().nullable(),fastReaderEnabled:s.boolean().optional().nullable()}).nonstrict()}function m(){return s.enum(["GET","POST","PUT"])}function y(){return s.object({array:s.boolean().optional().nullable(),bigDecimal:s.boolean().optional().nullable(),bigInteger:s.boolean().optional().nullable(),binary:s.boolean().optional().nullable(),boolean:s.boolean().optional().nullable(),containerNode:s.boolean().optional().nullable(),double:s.boolean().optional().nullable(),empty:s.boolean().optional().nullable(),float:s.boolean().optional().nullable(),floatingPointNumber:s.boolean().optional().nullable(),int:s.boolean().optional().nullable(),integralNumber:s.boolean().optional().nullable(),long:s.boolean().optional().nullable(),missingNode:s.boolean().optional().nullable(),nodeType:v().optional().nullable(),null:s.boolean().optional().nullable(),number:s.boolean().optional().nullable(),object:s.boolean().optional().nullable(),pojo:s.boolean().optional().nullable(),short:s.boolean().optional().nullable(),textual:s.boolean().optional().nullable(),valueNode:s.boolean().optional().nullable()}).nonstrict()}function v(){return s.enum(["ARRAY","BINARY","BOOLEAN","MISSING","NULL","NUMBER","OBJECT","POJO","STRING"])}function h(){return s.array(s.unknown())}function E(){return s.object({params:k().optional().nullable(),rel:s.string().optional().nullable(),rels:I().optional().nullable(),title:s.string().optional().nullable(),type:s.string().optional().nullable(),uri:s.string().optional().nullable(),uriBuilder:Z().optional().nullable()}).nonstrict()}function O(){return s.array(b())}function _(){return s.array(s.lazy(()=>V()))}function I(){return s.array(s.string())}function S(){return s.object({country:s.string().optional().nullable(),displayCountry:s.string().optional().nullable(),displayLanguage:s.string().optional().nullable(),displayName:s.string().optional().nullable(),displayScript:s.string().optional().nullable(),displayVariant:s.string().optional().nullable(),extensionKeys:H().optional().nullable(),iSO3Country:s.string().optional().nullable(),iSO3Language:s.string().optional().nullable(),language:s.string().optional().nullable(),script:s.string().optional().nullable(),unicodeLocaleAttributes:K().optional().nullable(),unicodeLocaleKeys:K().optional().nullable(),variant:s.string().optional().nullable()}).nonstrict()}function N(){return s.object({name:s.string().optional().nullable()}).nonstrict()}function T(){return s.unknown()}function j(){return s.record(M())}function C(){return s.record(s.unknown())}function P(){return s.record(A())}function A(){return s.object({empty:s.boolean().optional().nullable()}).nonstrict()}function w(){return s.record(s.unknown())}function M(){return s.record(a())}function D(){return s.record(U())}function R(){return s.record(s.unknown())}function k(){return s.record(s.string())}function B(){return s.record(V())}function F(){return s.object({parameters:k().optional().nullable(),subtype:s.string().optional().nullable(),type:s.string().optional().nullable(),wildcardSubtype:s.boolean().optional().nullable(),wildcardType:s.boolean().optional().nullable()}).nonstrict()}function x(){return s.record(s.unknown())}function L(){return s.record(s.string())}function U(){return s.object({comment:s.string().optional().nullable(),domain:s.string().optional().nullable(),expiry:s.string().optional().nullable(),httpOnly:s.boolean().optional().nullable(),maxAge:s.number().int().optional().nullable(),name:s.string().optional().nullable(),path:s.string().optional().nullable(),secure:s.boolean().optional().nullable(),value:s.string().optional().nullable(),version:s.number().int().optional().nullable()}).nonstrict()}function G(){return s.enum(["ASCENDING","DESCENDING","IGNORE"])}function V(){return s.object({aliases:K().optional().nullable(),doc:s.string().optional().nullable(),elementType:s.lazy(()=>V()).optional().nullable(),enumDefault:s.string().optional().nullable(),enumSymbols:I().optional().nullable(),error:s.boolean().optional().nullable(),fields:O().optional().nullable(),fixedSize:s.number().int().optional().nullable(),fullName:s.string().optional().nullable(),hashCode:s.number().int().optional().nullable(),logicalType:N().optional().nullable(),name:s.string().optional().nullable(),namespace:s.string().optional().nullable(),nullable:s.boolean().optional().nullable(),objectProps:R().optional().nullable(),props:o().optional().nullable(),reserved:K().optional().nullable(),type:Y().optional().nullable(),types:_().optional().nullable(),union:s.boolean().optional().nullable(),valueType:s.lazy(()=>V()).optional().nullable()}).nonstrict()}function H(){return s.array(s.string())}function W(){return s.array(s.unknown())}function q(){return s.array(l())}function $(){return s.array(d())}function z(){return s.array(E())}function K(){return s.array(s.string())}function J(){return s.object({classCache:w().optional().nullable(),classLoader:s.unknown().optional().nullable(),conversions:M().optional().nullable(),conversionsByClass:j().optional().nullable(),customCoders:s.boolean().optional().nullable(),defaultValueCache:C().optional().nullable(),fastReaderBuilder:f().optional().nullable(),fastReaderEnabled:s.boolean().optional().nullable(),schemaClassCache:s.unknown().optional().nullable(),schemaTypeCache:B().optional().nullable(),stringableClasses:W().optional().nullable(),useCustomCoderFlag:s.boolean().optional().nullable()}).nonstrict()}function Q(){return s.object({family:p().optional().nullable(),reasonPhrase:s.string().optional().nullable(),statusCode:s.number().int().optional().nullable()}).nonstrict()}function Y(){return s.enum(["ARRAY","BOOLEAN","BYTES","DOUBLE","ENUM","FIXED","FLOAT","INT","LONG","MAP","NULL","RECORD","STRING","UNION"])}function X(){return s.string()}function Z(){return s.unknown()}function ee(){return s.object({basic_authentication:i().optional().nullable(),disable_ssl_verification:s.boolean().optional().nullable(),method:m(),secret_token:s.string().optional().nullable(),url:s.string()}).nonstrict()}e.Action=t(),e.Application=n(),e.ApplicationFacet=s.object({label:s.string(),value:s.string()}).nonstrict(),e.Attributes=s.unknown(),e.BasicAuthentication=i(),e.ConcurrentMapStringJsonNode=o(),e.ConversionObject=a(),e.EmailSubscriptionAttributes=r(),e.Endpoint=l(),e.EndpointType=c(),e.EntityTag=u(),e.EventType=d(),e.Family=p(),e.FastReaderBuilder=f(),e.Field=b(),e.GenericData=g(),e.HttpType=m(),e.JsonNode=y(),e.JsonNodeType=v(),e.JsonObject=h(),e.Link=E(),e.ListField=O(),e.ListSchema=_(),e.ListString=I(),e.Locale=S(),e.LogicalType=N(),e.Map=T(),e.MapClassObjectMapStringConversionObject=j(),e.MapFieldObject=C(),e.MapSchemaMapSchemaRecordReader=P(),e.MapSchemaRecordReader=A(),e.MapStringClass=w(),e.MapStringConversionObject=M(),e.MapStringNewCookie=D(),e.MapStringObject=R(),e.MapStringString=k(),e.MapTypeSchema=B(),e.MediaType=F(),e.MultivaluedMapStringObject=x(),e.MultivaluedMapStringString=L(),e.NewCookie=U(),e.Notification=s.object({action:t().optional().nullable(),endpoint:l().optional().nullable(),tenant:s.string().optional().nullable()}).nonstrict(),e.NotificationHistory=s.object({created:s.string().optional().nullable(),details:h().optional().nullable(),endpointId:X().optional().nullable(),eventId:s.string().optional().nullable(),id:s.number().int().optional().nullable(),invocationResult:s.boolean().optional().nullable(),invocationTime:s.number().int().optional().nullable()}).nonstrict(),e.Order=G(),e.Response=s.object({allowedMethods:K().optional().nullable(),cookies:D().optional().nullable(),date:s.string().optional().nullable(),entity:s.unknown().optional().nullable(),entityTag:u().optional().nullable(),headers:x().optional().nullable(),language:S().optional().nullable(),lastModified:s.string().optional().nullable(),length:s.number().int().optional().nullable(),links:z().optional().nullable(),location:s.string().optional().nullable(),mediaType:F().optional().nullable(),metadata:x().optional().nullable(),status:s.number().int().optional().nullable(),statusInfo:Q().optional().nullable(),stringHeaders:L().optional().nullable()}).nonstrict(),e.Schema=V(),e.SetCharacter=H(),e.SetClass=W(),e.SetEndpoint=q(),e.SetEventType=$(),e.SetLink=z(),e.SetString=K(),e.SetUUID=s.array(s.string()),e.SpecificData=J(),e.StatusType=Q(),e.Type=Y(),e.UUID=X(),e.UriBuilder=Z(),e.WebhookAttributes=ee()}(c=t.Schemas||(t.Schemas={})),function(e){let t,n,i,o,a,u,d,p,f,b,g,m,y;!function(e){s.boolean(),s.number().int(),s.number().int(),s.number().int(),s.string(),s.string();const t=s.array(c.Endpoint);e.actionCreator=e=>{const n={};return void 0!==e.active&&(n.active=e.active),void 0!==e.limit&&(n.limit=e.limit),void 0!==e.offset&&(n.offset=e.offset),void 0!==e.pageNumber&&(n.pageNumber=e.pageNumber),void 0!==e.sortBy&&(n.sort_by=e.sortBy),void 0!==e.type&&(n.type=e.type),l.actionBuilder("GET","/api/integrations/v1.0/endpoints").queryParams(n).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(t=e.EndpointServiceGetEndpoints||(e.EndpointServiceGetEndpoints={})),function(e){e.actionCreator=e=>l.actionBuilder("POST","/api/integrations/v1.0/endpoints").queryParams({}).data(e.body).config({rules:[new r.ValidateRule(c.Endpoint,"Endpoint",200)]}).build()}(n=e.EndpointServiceCreateEndpoint||(e.EndpointServiceCreateEndpoint={})),function(e){const t=s.boolean();e.actionCreator=()=>l.actionBuilder("PUT","/api/integrations/v1.0/endpoints/email/subscription/daily").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(i=e.EndpointServiceSubscribeDailyEmail||(e.EndpointServiceSubscribeDailyEmail={})),function(e){const t=s.boolean();e.actionCreator=()=>l.actionBuilder("DELETE","/api/integrations/v1.0/endpoints/email/subscription/daily").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(o=e.EndpointServiceUnsubscribeDailyEmail||(e.EndpointServiceUnsubscribeDailyEmail={})),function(e){const t=s.boolean();e.actionCreator=()=>l.actionBuilder("PUT","/api/integrations/v1.0/endpoints/email/subscription/instant").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(a=e.EndpointServiceSubscribeInstantEmail||(e.EndpointServiceSubscribeInstantEmail={})),function(e){const t=s.boolean();e.actionCreator=()=>l.actionBuilder("DELETE","/api/integrations/v1.0/endpoints/email/subscription/instant").queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}(u=e.EndpointServiceUnsubscribeInstantEmail||(e.EndpointServiceUnsubscribeInstantEmail={})),function(e){e.actionCreator=e=>{const t="/api/integrations/v1.0/endpoints/{id}".replace("{id}",e.id.toString());return l.actionBuilder("GET",t).queryParams({}).config({rules:[new r.ValidateRule(c.Endpoint,"Endpoint",200)]}).build()}}(d=e.EndpointServiceGetEndpoint||(e.EndpointServiceGetEndpoint={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}".replace("{id}",e.id.toString());return l.actionBuilder("PUT",n).queryParams({}).data(e.body).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(p=e.EndpointServiceUpdateEndpoint||(e.EndpointServiceUpdateEndpoint={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}".replace("{id}",e.id.toString());return l.actionBuilder("DELETE",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(f=e.EndpointServiceDeleteEndpoint||(e.EndpointServiceDeleteEndpoint={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}/enable".replace("{id}",e.id.toString());return l.actionBuilder("PUT",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(b=e.EndpointServiceEnableEndpoint||(e.EndpointServiceEnableEndpoint={})),function(e){const t=s.string();e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}/enable".replace("{id}",e.id.toString());return l.actionBuilder("DELETE",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(g=e.EndpointServiceDisableEndpoint||(e.EndpointServiceDisableEndpoint={})),function(e){const t=s.array(c.NotificationHistory);e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}/history".replace("{id}",e.id.toString());return l.actionBuilder("GET",n).queryParams({}).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(m=e.EndpointServiceGetEndpointHistory||(e.EndpointServiceGetEndpointHistory={})),function(e){s.number().int(),s.number().int(),s.number().int(),s.number().int(),s.number().int(),s.string();const t=s.string();e.actionCreator=e=>{const n="/api/integrations/v1.0/endpoints/{id}/history/{history_id}/details".replace("{history_id}",e.historyId.toString()).replace("{id}",e.id.toString()),i={};return void 0!==e.limit&&(i.limit=e.limit),void 0!==e.offset&&(i.offset=e.offset),void 0!==e.pageNumber&&(i.pageNumber=e.pageNumber),void 0!==e.pageSize&&(i.pageSize=e.pageSize),void 0!==e.sortBy&&(i.sort_by=e.sortBy),l.actionBuilder("GET",n).queryParams(i).config({rules:[new r.ValidateRule(t,"unknown",200)]}).build()}}(y=e.EndpointServiceGetDetailedEndpointHistory||(e.EndpointServiceGetDetailedEndpointHistory={}))}(t.Operations||(t.Operations={}))},224:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStagingBetaOrProdBeta=t.stagingBetaAndProdBetaEnvironment=void 0;const i=n(25);t.stagingBetaAndProdBetaEnvironment=["stage-beta","prod-beta"],t.isStagingBetaOrProdBeta=e=>t.stagingBetaAndProdBetaEnvironment.includes(i.getInsightsEnvironment(e))},225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupByEnum=void 0,function(e){e.Application="application",e.None="none"}(t.GroupByEnum||(t.GroupByEnum={}))},226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toActions=t.toNotifications=t.toAction=t.toNotification=t.usesDefault=void 0;const i=n(63),o=n(133),a=n(132),r=n(384),l=(e,t)=>{if(e===a.NotificationType.INTEGRATION){const n=r.toUserIntegration(t);return{type:e,integrationId:n.id,integration:n}}return{type:e,integrationId:r.toIntegration(t).id,recipient:[]}};t.usesDefault=e=>-1!==e.findIndex(e=>e.type===o.Schemas.EndpointType.enum.default),t.toNotification=e=>{var n,i;if(!e.id||!e.application)throw new Error("Unexpected notification from server "+JSON.stringify(e));return{id:e.id,applicationDisplayName:e.application.display_name,eventTypeDisplayName:e.display_name,actions:t.toActions(r.filterOutDefaultAction(null!==(n=e.endpoints)&&void 0!==n?n:[])),useDefault:t.usesDefault(null!==(i=e.endpoints)&&void 0!==i?i:[])}},t.toAction=e=>{switch(e.type){case o.Schemas.EndpointType.enum.webhook:return l(a.NotificationType.INTEGRATION,e);case o.Schemas.EndpointType.enum.email_subscription:return l(a.NotificationType.EMAIL_SUBSCRIPTION,e);case o.Schemas.EndpointType.enum.default:throw new Error("EndpointType.default should not reach this point");default:i.assertNever(e.type)}},t.toNotifications=e=>e.map(t.toNotification),t.toActions=e=>r.filterOutDefaultAction(e).map(t.toAction)},380:function(e,t,n){var i=n(8),o=n(743),a=n(744);(t=i(!1)).i(o),t.i(a),t.push([e.i,":root{--ins-color--orange: #ec7a08}button:focus{outline:none}.pf-c-wizard__main-body{max-height:100%}.page__notifications#root{--pf-c-page__main-section--BackgroundColor: var(--pf-global--Color--light-100)}\n",""]),e.exports=t},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(212);t.default=i.defineMessages({notifications:{id:"notifications",description:"Application name",defaultMessage:"Notifications"},integrations:{id:"integrations",description:"Application name",defaultMessage:"Integrations"},integrationsEmptyStateTitle:{id:"integrationsEmptyStateTitle",description:"Integrations Empty State title",defaultMessage:"No integrations"},integrationsTableEmptyStateBody:{id:"integrationsTableEmptyStateBody",description:"Integrations Empty State body",defaultMessage:"Connect to webhooks and external applications."}})},382:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useAppContext=t.AppContext=void 0;const r=a(n(1)),l=n(1);t.AppContext=r.createContext({rbac:{canReadAll:!1,canWriteAll:!1},applications:[]}),t.useAppContext=()=>l.useContext(t.AppContext)},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterOutDefaultAction=t.toServerIntegrationRequest=t.toIntegrationProperties=t.toIntegrations=t.toUserIntegrations=t.toUserIntegration=t.toIntegration=t.getEndpointType=void 0;const i=n(63),o=n(143),a=n(142),r=e=>{switch(e){case o.Schemas.EndpointType.Enum.webhook:return a.IntegrationType.WEBHOOK;case o.Schemas.EndpointType.Enum.email_subscription:return a.IntegrationType.EMAIL_SUBSCRIPTION;case o.Schemas.EndpointType.Enum.default:case void 0:throw new Error("Unexpected type: "+e);default:i.assertNever(e)}};t.getEndpointType=e=>{switch(e){case a.IntegrationType.WEBHOOK:case a.UserIntegrationType.WEBHOOK:return o.Schemas.EndpointType.Enum.webhook;case a.IntegrationType.EMAIL_SUBSCRIPTION:return o.Schemas.EndpointType.Enum.email_subscription;default:i.assertNever(e)}},t.toIntegration=e=>{var t;const n={id:e.id||"",name:e.name||"",isEnabled:!!e.enabled,type:r(e.type)};switch(n.type){case a.IntegrationType.WEBHOOK:const r=e.properties;return Object.assign(Object.assign({},n),{url:r.url||"",sslVerificationEnabled:!r.disable_ssl_verification,secretToken:null===r.secret_token?void 0:r.secret_token,method:null!==(t=r.method)&&void 0!==t?t:o.Schemas.HttpType.Enum.GET});case a.IntegrationType.EMAIL_SUBSCRIPTION:return Object.assign(Object.assign({},n),{type:a.IntegrationType.EMAIL_SUBSCRIPTION});default:i.assertNever(n.type)}},t.toUserIntegration=e=>{const n=t.toIntegration(e);if(console.log(Object.values(a.UserIntegrationType)),!Object.values(a.UserIntegrationType).includes(n.type))throw new Error("Unknown UserIntegrationType "+n.type);return n},t.toUserIntegrations=e=>t.toIntegrations(e).filter(e=>Object.values(a.UserIntegrationType).includes(e.type)),t.toIntegrations=e=>t.filterOutDefaultAction(e).map(t.toIntegration),t.toIntegrationProperties=e=>{switch(e.type){case a.IntegrationType.WEBHOOK:case a.UserIntegrationType.WEBHOOK:const t=e;return{url:t.url,method:t.method,disable_ssl_verification:!t.sslVerificationEnabled,secret_token:t.secretToken};case a.IntegrationType.EMAIL_SUBSCRIPTION:return{};default:i.assertNever(e)}},t.toServerIntegrationRequest=e=>({id:e.id,name:e.name,enabled:e.isEnabled,type:t.getEndpointType(e.type),description:"",properties:t.toIntegrationProperties(e)}),t.filterOutDefaultAction=e=>e.filter(e=>e.type!==o.Schemas.EndpointType.enum.default)},386:function(e,t,n){(t=n(8)(!1)).push([e.i,".notification-table .pf-c-table tbody>tr>:first-child::after{--pf-c-table__expandable-row--after--BorderLeftWidth: 0\n}.pf-m-grid-md.pf-c-table tbody::after{--pf-c-table--tbody--after--BorderLeftWidth: 0\n}\n",""]),e.exports=t},387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationFilterColumn=void 0,function(e){e.NAME="name",e.APPLICATION="application",e.ACTION="action"}(t.NotificationFilterColumn||(t.NotificationFilterColumn={}))},388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecipientOption=void 0;class i{constructor(e){this.recipientOrIntegration=e}compareTo(e){return e instanceof i&&typeof e.recipientOrIntegration==typeof this.recipientOrIntegration&&("string"==typeof e.recipientOrIntegration?e.recipientOrIntegration===this.recipientOrIntegration:e.recipientOrIntegration.id===this.recipientOrIntegration.id)}toString(){if("string"==typeof this.recipientOrIntegration)return this.recipientOrIntegration;return`${this.recipientOrIntegration.isEnabled?"":"Disabled - "}${this.recipientOrIntegration.name}`}}t.RecipientOption=i},451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withBaseUrl=void 0;t.withBaseUrl=e=>"/api/notifications/v1.0"+e;const i={appId:"notifications",integrations:{subAppId:"integrations",title:"Integrations | Settings"},notifications:{subAppId:"notifications",title:"Notifications | Settings"},pages:{}};t.default=i},453:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionAlert=void 0;const r=n(45),l=n(134),s=a(n(1)),c=n(80),u=n(71),d=n(752),p=c.style({marginLeft:l.global_spacer_sm.var}),f=c.style({marginTop:l.global_spacer_sm.var});t.ConnectionAlert=e=>s.createElement("div",Object.assign({},u.getOuiaProps("ConnectionAlert",e)),s.createElement(r.Alert,{title:e.title,variant:e.alertVariant,isInline:!0},s.createElement("p",{className:f},e.description),s.createElement("p",{className:f},"Last attempts: ",e.attempts.map((e,t)=>s.createElement("span",{key:t,className:p},s.createElement(d.ConnectionAttempt,{type:e.isSuccess?d.ConnectionAttemptType.SUCCESS:d.ConnectionAttemptType.FAILED,date:e.date}))))))},454:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useTableExportConfig=void 0;const r=n(25),l=a(n(1));t.useTableExportConfig=e=>l.useMemo(()=>{if(e)return{extraItems:[],onSelect:(t,n)=>{e(r.exporterTypeFromString(n))}}},[e])},455:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationFilterColumn=void 0,function(e){e.NAME="name",e.ENABLED="enabled"}(t.IntegrationFilterColumn||(t.IntegrationFilterColumn={}))},456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useListIntegrationsQuery=t.listIntegrationIntegrationDecoder=t.listIntegrationsActionCreator=void 0;const i=n(25),o=n(160),a=n(85),r=n(143),l=n(384);t.listIntegrationsActionCreator=e=>{const t=(null!=e?e:i.Page.defaultPage()).toQuery();return r.Operations.EndpointServiceGetEndpoints.actionCreator({limit:+t.limit,offset:+t.offset,type:t.filterType?l.getEndpointType(t.filterType):void 0})},t.listIntegrationIntegrationDecoder=o.validationResponseTransformer(e=>200===(null==e?void 0:e.status)?o.validatedResponse("integrationArray",200,l.toUserIntegrations(e.value),e.errors):e),t.useListIntegrationsQuery=(e,n)=>i.useTransformQueryResponse(a.useQuery(t.listIntegrationsActionCreator(e),n),t.listIntegrationIntegrationDecoder)},463:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationSchema=t.IntegrationHttpSchema=t.IntegrationSchemaBase=t.maxIntegrationNameLength=void 0;const r=a(n(473)),l=n(143),s=n(142);t.maxIntegrationNameLength=150,t.IntegrationSchemaBase=r.object({name:r.string().required("Write a name for this Integration.").max(t.maxIntegrationNameLength).trim(),type:r.mixed().oneOf([s.IntegrationType.WEBHOOK]).default(s.IntegrationType.WEBHOOK),isEnabled:r.boolean().default(!0).required()}),t.IntegrationHttpSchema=t.IntegrationSchemaBase.concat(r.object().shape({type:r.mixed().oneOf([s.IntegrationType.WEBHOOK]).required(),url:r.string().url().required("Write a valid url for this Integration."),sslVerificationEnabled:r.boolean().default(!0),secretToken:r.string().notRequired(),method:r.mixed().oneOf(Object.values(l.Schemas.HttpType.Enum)).default(l.Schemas.HttpType.Enum.POST)})),t.IntegrationSchema=r.lazy(e=>e&&e.type===s.IntegrationType.WEBHOOK?t.IntegrationHttpSchema:t.IntegrationSchemaBase)},464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSaveIntegrationMutation=t.saveIntegrationActionCreator=t.createIntegrationActionCreator=void 0;const i=n(25),o=n(85),a=n(143),r=n(384);t.createIntegrationActionCreator=e=>a.Operations.EndpointServiceCreateEndpoint.actionCreator({body:r.toServerIntegrationRequest(e)}),t.saveIntegrationActionCreator=e=>e.id?a.Operations.EndpointServiceUpdateEndpoint.actionCreator({body:r.toServerIntegrationRequest(e),id:e.id}):t.createIntegrationActionCreator(e);const l=e=>"Endpoint"===e.type?Object.assign(Object.assign({},e),{type:"Integration",value:r.toIntegration(e.value)}):e;t.useSaveIntegrationMutation=()=>i.useTransformQueryResponse(o.useMutation(t.saveIntegrationActionCreator),l)},465:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionComponent=void 0;const l=n(45),s=n(98),c=r(n(803)),u=n(134),d=n(63),p=a(n(1)),f=n(80),b=n(97),g=n(132),m=n(71),y=n(805),v=f.style({marginLeft:u.global_spacer_sm.var}),h=f.style({color:"#888"}),E=e=>{switch(e.actionType){case g.NotificationType.DRAWER:return p.createElement(c.default,null);case g.NotificationType.EMAIL_SUBSCRIPTION:return p.createElement(s.EnvelopeIcon,null);case g.NotificationType.INTEGRATION:return p.createElement(y.WebhookIcon,null);default:d.assertNever(e.actionType)}},O=e=>p.createElement("div",Object.assign({},m.getOuiaProps("Notifications/ActionComponent",e)),e.children);t.ActionComponent=e=>e.loading?p.createElement(O,Object.assign({},e),p.createElement(l.Spinner,{size:"md"})):e.hasError?p.createElement(O,Object.assign({},e),p.createElement("span",null,"Error loading actions")):e.isDefault?p.createElement(O,Object.assign({},e),p.createElement("span",null,"Default behavior")):e.action?p.createElement(O,Object.assign({},e),p.createElement(E,{actionType:e.action.type}),p.createElement("span",{className:v},b.Messages.components.notifications.types[e.action.type]),e.action.type===g.NotificationType.INTEGRATION&&p.createElement("span",null,": ",b.Messages.components.integrations.integrationType[e.action.integration.type])):p.createElement(O,Object.assign({},e),p.createElement("span",{className:h},p.createElement("div",null,"No actions."),p.createElement("div",null,"Users will not be notified.")))},466:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Recipient=void 0;const r=n(45),l=n(134),s=a(n(1)),c=n(80),u=n(132),d=c.style({marginRight:l.global_spacer_sm.var});t.Recipient=e=>e.action.type===u.NotificationType.INTEGRATION?s.createElement(s.Fragment,null,!e.action.integration.isEnabled&&s.createElement(s.Fragment,null,s.createElement(r.Tooltip,{content:"This integration has been disabled. This action wil not fire until it is enabled.",position:"bottom"},s.createElement(r.Label,{variant:e.hasOutline?"outline":"filled",className:d},"Disabled"))),s.createElement("span",null,e.action.integration.name)):s.createElement("span",null,"All registered users")},467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultNotificationBehavior=t.defaultNotificationsDecoder=t.defaultNotificationBehaviorCreator=void 0;const i=n(25),o=n(160),a=n(85),r=n(133),l=n(226);t.defaultNotificationBehaviorCreator=()=>r.Operations.NotificationServiceGetEndpointsForDefaults.actionCreator(),t.defaultNotificationsDecoder=o.validationResponseTransformer(e=>200===e.status?o.validatedResponse("DefaultNotificationBehavior",200,{actions:l.toActions(e.value)},e.errors):e),t.useDefaultNotificationBehavior=()=>i.useTransformQueryResponse(a.useQuery(t.defaultNotificationBehaviorCreator()),t.defaultNotificationsDecoder)},468:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useRecipientOptionMemo=void 0;const l=n(45),s=r(n(63)),c=a(n(1)),u=n(388),d=e=>c.createElement(l.SelectOption,{key:"string"==typeof e?e:e.id,value:new u.RecipientOption(e)});t.useRecipientOptionMemo=e=>c.useMemo(()=>"default"===e.show?e.loadingDefault?[c.createElement(l.SelectOption,{key:"loading-option",isNoResultsOption:!0,value:"Loading..."})]:e.defaultValues.map(d):"filter"===e.show?e.loadingFilter?[c.createElement(l.SelectOption,{key:"loading-option",isNoResultsOption:!0,value:"Loading..."})]:e.filterValues.map(d):void s.default(e.show),[e])},469:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTypeaheadReducer=void 0;const o=i(n(63)),a=n(1);var r;!function(e){e[e.LOAD_FILTER_VALUE=0]="LOAD_FILTER_VALUE",e[e.SET_FILTER_VALUE=1]="SET_FILTER_VALUE",e[e.USE_DEFAULTS=2]="USE_DEFAULTS",e[e.SET_DEFAULTS=3]="SET_DEFAULTS"}(r||(r={}));const l=(e,t)=>{switch(t.type){case r.SET_FILTER_VALUE:return t.search===e.lastSearch?t.values===e.filterValues?e:Object.assign(Object.assign({},e),{loadingFilter:!1,filterValues:t.values}):e;case r.LOAD_FILTER_VALUE:return t.search!==e.lastSearch||"filter"!==e.show?Object.assign(Object.assign({},e),{loadingFilter:!0,filterValues:[],lastSearch:t.search,show:"filter"}):e;case r.USE_DEFAULTS:return"default"!==e.show?Object.assign(Object.assign({},e),{show:"default"}):e;case r.SET_DEFAULTS:return Object.assign(Object.assign({},e),{defaultValues:t.values,loadingDefault:!1});default:o.default(t)}};t.useTypeaheadReducer=()=>{const[e,t]=a.useReducer(l,{filterValues:[],defaultValues:[],show:"default",loadingFilter:!1,loadingDefault:!0,lastSearch:""}),n=a.useCallback((e,n)=>t({type:r.SET_FILTER_VALUE,values:n,search:e}),[t]),i=a.useCallback(e=>t({type:r.LOAD_FILTER_VALUE,search:e}),[t]),o=a.useCallback(e=>t({type:r.SET_DEFAULTS,values:e}),[t]),s=a.useCallback(()=>t({type:r.USE_DEFAULTS}),[t]);return[e,a.useMemo(()=>({setFilterValue:n,loadFilterValue:i,setDefaults:o,useDefaults:s}),[n,i,o,s])]}},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotificationByIdActionDecoder=t.hasDefaultNotificationDecoder=t.getNotificationActionsByIdAction=void 0;const i=n(160),o=n(133),a=n(226);t.getNotificationActionsByIdAction=e=>o.Operations.NotificationServiceGetLinkedEndpoints.actionCreator({eventTypeId:e}),t.hasDefaultNotificationDecoder=i.validationResponseTransformer(e=>200===e.status?i.validatedResponse("defaultNotification",200,-1!==e.value.findIndex(e=>e.type===o.Schemas.EndpointType.enum.default),e.errors):e),t.getNotificationByIdActionDecoder=i.validationResponseTransformer(e=>200===e.status?i.validatedResponse("actionsArray",200,a.toActions(e.value),e.errors):e)},471:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubApp=t.getBaseName=void 0,t.getBaseName=e=>{let t="/";const n=e.split("/");return n.shift(),"beta"===n[0]&&(n.shift(),t="/beta/"),`${t}${n[0]}`},t.getSubApp=e=>{const t=e.split("/");return t.shift(),"beta"===t[0]?t[1]:t[0]}},527:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(409),a=n(25),r=n(379),l=i(n(1)),s=i(n(30)),c=n(85),u=n(391),d=n(213),p=i(n(740)),f=i(n(741)),b=n(471),g=a.createFetchingClient(a.getInsights,{responseInterceptors:[r.validateSchemaResponseInterceptor]});a.initStore(),s.default.render(l.default.createElement(o.IntlProvider,{locale:navigator.language.slice(0,2),messages:p.default,onError:console.log},l.default.createElement(u.Provider,{store:a.getStore()},l.default.createElement(d.BrowserRouter,{basename:b.getBaseName(window.location.pathname)},l.default.createElement(c.ClientContextProvider,{client:g},l.default.createElement(f.default,null))))),document.getElementById("root"))},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOuiaProps=void 0;const i=n(25);t.getOuiaProps=i.getOuiaPropsFactory("Notifications")},740:function(e){e.exports=JSON.parse('{"en-US":{"integrations":"Integrations","integrationsEmptyStateTitle":"No integrations","integrationsTableEmptyStateBody":"Connect to webhooks and external applications.","notifications":"Notifications"}}')},741:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(742);const l=n(170),s=n(431),c=n(25),u=a(n(1)),d=n(212),p=n(42),f=r(n(451)),b=r(n(381)),g=n(745),m=n(471),y=n(382),v=n(830);t.default=p.withRouter(()=>{const e=d.useIntl(),{rbac:t,applications:n}=v.useApp(),i=p.useLocation(),o=u.useMemo(()=>{switch(m.getSubApp(i.pathname)){case f.default.integrations.subAppId:return e.formatMessage(b.default.integrations);case f.default.notifications.subAppId:return e.formatMessage(b.default.notifications);default:return""}},[e,i.pathname]);return t&&n?u.createElement(y.AppContext.Provider,{value:{rbac:t,applications:n}},t.canReadAll?u.createElement(u.Fragment,null,u.createElement(s.NotificationsPortal,null),u.createElement(g.Routes,null)):u.createElement(l.NotAuthorized,{serviceName:o})):u.createElement(c.AppSkeleton,null)})},742:function(e,t,n){var i=n(380);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=n(10)(i,o);i.locals&&(e.exports=i.locals),e.hot.accept(380,(function(){var t=n(380);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,i=0;for(n in e){if(!t||e[n]!==t[n])return!1;i++}for(n in t)i--;return 0===i}(i.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(t)})),e.hot.dispose((function(){a()}))},745:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=t.linkTo=void 0;const l=a(n(1)),s=n(42),c=n(746),u=n(747),d=n(801);t.linkTo={integrations:()=>"/integrations",notifications:()=>"/notifications"};const p=[{path:t.linkTo.integrations(),component:u.IntegrationsListPage,rootClass:"integrations"},{path:t.linkTo.notifications(),component:d.NotificationsListPage,rootClass:"notifications"}],f=e=>{const{rootClass:t}=e,n=r(e,["rootClass"]),i=document.getElementById("root");if(!i)throw new Error("Root element not found");return i.removeAttribute("class"),i.classList.add("page__"+t,"pf-c-page__main"),i.setAttribute("role","main"),l.createElement(c.ErrorPage,null,l.createElement(s.Route,Object.assign({},n)))};t.Routes=()=>l.createElement(s.Switch,null,p.map(e=>l.createElement(f,{key:e.path,rootClass:e.rootClass,component:e.component,path:e.path,exact:!0})))},746:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=t.ErrorPageInternal=void 0;const r=n(25),l=a(n(1)),s=n(213),c=n(97);t.ErrorPageInternal=e=>{const t=l.useCallback(()=>{e.history.goBack()},[e.history]);return l.createElement(r.ErrorBoundaryPage,{action:t,actionLabel:c.Messages.pages.error.emptyState.actions.goToIndex,pageHeader:c.Messages.pages.error.title,title:c.Messages.pages.error.emptyState.title,description:c.Messages.pages.error.emptyState.content},e.children)},t.ErrorPage=s.withRouter(t.ErrorPageInternal)},747:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsListPage=void 0;const l=n(170),s=n(25),c=n(832),u=r(n(748)),d=a(n(1)),p=n(1),f=n(382),b=n(749),g=n(755),m=n(97),y=n(456),v=n(781),h=n(784),E=n(789),O=n(792),_=n(793),I=n(794),S=n(795),N=n(796);t.IntegrationsListPage=()=>{const{rbac:{canWriteAll:e}}=p.useContext(f.AppContext),t=y.useListIntegrationsQuery(),n=d.useMemo(()=>{const e=t.payload;return"integrationArray"===(null==e?void 0:e.type)?e.value:[]},[t.payload]),i=N.useIntegrationRows(n),o=S.useIntegrationFilter(),[a,r]=I.useFormModalReducer(),[T,j]=_.useDeleteModalReducer(),C=d.useCallback(()=>{r(I.makeCreateAction())},[r]),P=d.useCallback(e=>{r(I.makeEditAction(e))},[r]),A=d.useCallback(e=>{j(_.useDeleteModalReducer.makeDeleteAction(e))},[j]),w=d.useCallback(e=>{const t=v.integrationExporterFactory(e);n?u.default(t.export(n),`integrations-${c.format(new Date(Date.now()),"y-dd-MM")}.${t.type}`):s.addDangerNotification("Unable to download integrations","We were unable to download the integrations for exporting. Please try again.")},[n]),M=O.useActionResolver({canWriteAll:e,onEdit:P,onDelete:A,onEnable:i.onEnable}),D=d.useCallback(e=>{const n=t.query;r(I.makeNoneAction()),e&&n()},[r,t.query]),R=d.useCallback(e=>{const n=t.query;e&&n(),j(_.useDeleteModalReducer.makeNoneAction())},[j,t.query]);return d.createElement(d.Fragment,null,d.createElement(l.PageHeader,null,d.createElement(l.PageHeaderTitle,{title:m.Messages.pages.integrations.list.title})),d.createElement(l.Main,null,d.createElement(l.Section,{className:"pf-c-page__main-section pf-m-light"},d.createElement(g.IntegrationsToolbar,{onAddIntegration:C,onExport:w,filters:o.filters,setFilters:o.setFilters,clearFilters:o.clearFilter},d.createElement(b.IntegrationsTable,{integrations:i.rows,onCollapse:i.onCollapse,onEnable:i.onEnable,actionResolver:M})),a.isOpen&&d.createElement(h.CreatePage,{isEdit:a.isEdit,initialIntegration:a.template||{},onClose:D}),T.integration&&d.createElement(E.IntegrationDeleteModalPage,{onClose:R,integration:T.integration}))))}},749:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsTable=void 0;const s=n(45),c=n(98),u=n(2),d=l(n(452)),p=n(390),f=n(134),b=n(63),g=n(475),m=a(n(1)),y=n(212),v=n(80),h=l(n(381)),E=n(97),O=n(71),_=n(751),I=n(753),S=n(754);var N;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(N||(N={}));const T=v.style({paddingBottom:f.global_spacer_md.var}),j=v.style({paddingLeft:f.global_spacer_md.var,paddingBottom:0}),C=v.style({marginLeft:10}),P=v.style({marginLeft:f.global_spacer_sm.var}),A=v.style({fontWeight:600,color:f.global_warning_color_200.var,fontSize:"var(--pf-global--FontSize--sm)"}),w=e=>{if(0===e.length)return N.UNKNOWN;const t=e.filter(e=>!e.isSuccess).length;return t===e.length?N.ERROR:t>0?N.WARNING:N.SUCCESS},M=e=>{const t=w(e);switch(t){case N.UNKNOWN:case N.SUCCESS:return null;case N.ERROR:return m.createElement("div",{className:T},m.createElement(I.ConnectionFailed,{attempts:e}));case N.WARNING:return m.createElement("div",{className:T},m.createElement(_.ConnectionDegraded,{attempts:e}));default:b.assertNever(t)}},D=()=>m.createElement(m.Fragment,null,m.createElement(c.CheckCircleIcon,{color:f.global_success_color_100.value,"data-testid":"success-icon"}),m.createElement("span",{className:P},"Success")),R=()=>m.createElement(m.Fragment,null,m.createElement(c.ExclamationCircleIcon,{color:f.global_danger_color_100.value,"data-testid":"fail-icon"}),m.createElement("span",{className:P},"Failure")),k=(e,t)=>{if(void 0===e)return"Error fetching connection attempts";if(t)return m.createElement(s.Spinner,{size:"md"});const n=w(e);switch(n){case N.UNKNOWN:return m.createElement(m.Fragment,null,m.createElement(c.OffIcon,{"data-testid":"off-icon"}),m.createElement("span",{className:P},"Unknown"));case N.SUCCESS:return m.createElement(m.Fragment,null,m.createElement(D,null));case N.ERROR:return m.createElement(m.Fragment,null,m.createElement(R,null));case N.WARNING:return m.createElement(m.Fragment,null,e[0].isSuccess?m.createElement(D,null):m.createElement(R,null),m.createElement("br",null),m.createElement(s.Text,{className:A},"Degraded connection"));default:b.assertNever(n)}},B=[{title:E.Messages.components.integrations.table.columns.name,cellFormatters:[p.expandable],transforms:[]},{title:E.Messages.components.integrations.table.columns.type,transforms:[]},{title:E.Messages.components.integrations.table.columns.lastConnectionAttempt,transforms:[]},{title:E.Messages.components.integrations.table.columns.enabled,transforms:[]}],{rowExpandedContentClassName:F,rowWrapperClassName:x,tableClassName:L}=(()=>{const e=g.important("none"),t=g.important("var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)"),n={borderBottom:e};return{rowExpandedContentClassName:v.style(n),rowWrapperClassName:v.style(n,{borderTop:t}),tableClassName:v.style({borderBottom:t})}})(),U=e=>{const{trRef:t,className:n,rowProps:i,row:o}=e,a=r(e,["trRef","className","rowProps","row"]);return o?m.createElement("tr",Object.assign({},a,{ref:t,className:u.css(n,!0===o.isExpanded?F:x,void 0!==o.isExpanded&&d.default.tableExpandableRow,o.isExpanded&&d.default.modifiers.expanded),hidden:void 0!==(null==o?void 0:o.isExpanded)&&!o.isExpanded}),e.children):m.createElement(m.Fragment,null)};t.IntegrationsTable=e=>{const t=y.useIntl(),n=m.useCallback((t,n,i,o)=>{const a=e.integrations,r=e.onCollapse,l=a.findIndex(e=>e.id===o.id);if(r&&-1!==l){r(a[l],l,i)}},[e.integrations,e.onCollapse]),i=m.useMemo(()=>{return t=e.integrations,n=e.onEnable,t.reduce((e,t,i)=>(e.push({id:t.id,key:t.id,isOpen:t.isOpen,selected:t.isSelected,cells:[{title:t.name},{title:E.Messages.components.integrations.integrationType[t.type]},{title:k(t.lastConnectionAttempts,t.isConnectionAttemptLoading)},{title:m.createElement(m.Fragment,null,t.isEnabledLoading?m.createElement(s.Spinner,{className:C,size:"md"}):m.createElement(s.Switch,{id:"table-row-switch-id-"+t.id,"aria-label":"Enabled",isChecked:t.isEnabled,onChange:e=>n&&n(t,i,e),ouiaId:"enabled-"+t.id}))}]}),e.push({parent:2*i,fullWidth:!0,showSelect:!1,noPadding:!1,cells:[{title:m.createElement(m.Fragment,null,m.createElement("div",{className:j},void 0!==t.lastConnectionAttempts&&M(t.lastConnectionAttempts),m.createElement(S.ExpandedContent,{integration:t,ouiaId:t.id})))}]}),e),[]);var t,n},[e.integrations,e.onEnable]),o=m.useCallback(t=>{const n=e.actionResolver;if(void 0===t.parent&&t&&e.integrations){const i=e.integrations.findIndex(e=>e.id===t.id),o=e.integrations[i];if(o)return n(o,i)}return[]},[e.actionResolver,e.integrations]);return m.createElement("div",Object.assign({},O.getOuiaProps("Integrations/Table",e)),0===i.length?m.createElement(s.EmptyState,{variant:s.EmptyStateVariant.full},m.createElement(s.EmptyStateIcon,{icon:c.CubesIcon}),m.createElement(s.Title,{headingLevel:"h2",size:"lg"},t.formatMessage(h.default.integrationsEmptyStateTitle)),m.createElement(s.EmptyStateBody,null,t.formatMessage(h.default.integrationsTableEmptyStateBody))):m.createElement(p.Table,{className:L,"aria-label":E.Messages.components.integrations.table.title,rows:i,cells:B,onCollapse:n,rowWrapper:U,actionResolver:o},m.createElement(p.TableHeader,null),m.createElement(p.TableBody,null)))}},751:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionDegraded=void 0;const r=n(45),l=a(n(1)),s=n(453);t.ConnectionDegraded=e=>{const t=l.useMemo(()=>{const t=e.attempts.filter(e=>!e.isSuccess).length,n=e.attempts.length;return 1===t?`This connection has had 1 failure in the last ${n} connection attempts.`:`This connection has had ${t} failures in the last ${n} connection attempts.`},[e.attempts]);return l.createElement(s.ConnectionAlert,{attempts:e.attempts,alertVariant:r.AlertVariant.warning,description:t,title:"Connection is degraded"})}},752:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionAttempt=t.ConnectionAttemptType=void 0;const l=n(98),s=n(134),c=n(25),u=n(63),d=r(n(214)),p=a(n(1)),f=n(80);var b;!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(b=t.ConnectionAttemptType||(t.ConnectionAttemptType={}));const g=f.style({marginLeft:s.global_spacer_xs.var});t.ConnectionAttempt=e=>{const t=d.default(c.toUtc(e.date),"MMM d, HH:mm:ss");return p.createElement(p.Fragment,null,(e=>{switch(e){case b.SUCCESS:return p.createElement(l.CheckCircleIcon,{color:s.global_success_color_100.value});case b.FAILED:return p.createElement(l.ExclamationCircleIcon,{color:s.global_danger_color_100.value});default:u.assertNever(e)}})(e.type)," ",p.createElement("span",{className:g}," ",t," UTC "))}},753:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionFailed=void 0;const r=n(45),l=a(n(1)),s=n(453);t.ConnectionFailed=e=>l.createElement(s.ConnectionAlert,{attempts:e.attempts,alertVariant:r.AlertVariant.danger,description:"This connection has failed the most recent connection attempts.",title:"Failed connection"})},754:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandedContent=void 0;const r=n(45),l=a(n(1)),s=n(80),c=n(71),u=s.style({fontWeight:400});t.ExpandedContent=e=>l.createElement(r.TextContent,Object.assign({},c.getOuiaProps("Integrations/Table/ExpandedContent",e)),l.createElement(r.TextList,{component:r.TextListVariants.dl},l.createElement(r.TextListItem,{className:u,component:r.TextListItemVariants.dt},"Endpoint URL"),l.createElement(r.TextListItem,{component:r.TextListItemVariants.dd},e.integration.url),l.createElement(r.TextListItem,{className:u,component:r.TextListItemVariants.dt},"SSL verification"),l.createElement(r.TextListItem,{component:r.TextListItemVariants.dd},e.integration.sslVerificationEnabled?"Enabled":"Disabled"),l.createElement(r.TextListItem,{className:u,component:r.TextListItemVariants.dt},"Authentication type"),l.createElement(r.TextListItem,{component:r.TextListItemVariants.dd},void 0!==e.integration.secretToken?"Secret token":"None")))},755:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsToolbar=void 0;const r=n(170),l=n(25),s=a(n(1)),c=n(1),u=n(80),d=n(454),p=n(97),f=n(224),b=n(71),g=n(756),m=n(455),y=u.style({marginLeft:4}),v={[m.IntegrationFilterColumn.NAME]:{label:"Name",placeholder:"Filter by name"},[m.IntegrationFilterColumn.ENABLED]:{label:"Enabled",placeholder:"Filter by enabled",options:{exclusive:!0,items:[{value:"all",label:s.createElement(s.Fragment,null,"All")},{value:"Enabled",label:s.createElement(s.Fragment,null,s.createElement(g.EnabledIntegrationIcon,null)," ",s.createElement("span",{className:y},"Enabled"))},{value:"Disabled",label:s.createElement(s.Fragment,null,s.createElement(g.DisabledIntegrationIcon,null)," ",s.createElement("span",{className:y},"Disabled"))}],default:"all",exclude:["all"]}}};t.IntegrationsToolbar=e=>{const t=l.usePrimaryToolbarFilterConfig(m.IntegrationFilterColumn,e.filters,e.setFilters,e.clearFilters,v),n=s.useMemo(()=>({actions:[{key:"add-integration",label:p.Messages.components.integrations.toolbar.actions.addIntegration,onClick:e.onAddIntegration,props:{isDisabled:!e.onAddIntegration}}],kebabToggleProps:{isDisabled:!1}}),[e.onAddIntegration]),i=d.useTableExportConfig(e.onExport),o=l.useInsightsEnvironmentFlag(l.getInsights(),f.stagingBetaAndProdBetaEnvironment,void 0,c.useCallback(()=>t.filterConfig,[t])),a=l.useInsightsEnvironmentFlag(l.getInsights(),f.stagingBetaAndProdBetaEnvironment,void 0,c.useCallback(()=>t.activeFiltersConfig,[t]));return s.createElement("div",Object.assign({},b.getOuiaProps("Integrations/DualToolbar",e)),s.createElement(r.PrimaryToolbar,{actionsConfig:n,exportConfig:i,filterConfig:o,activeFiltersConfig:a,id:"integrations-top-toolbar"}),e.children,s.createElement(r.PrimaryToolbar,{id:"integrations-bottom-toolbar"}))}},756:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(757),t),o(n(758),t)},757:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DisabledIntegrationIcon=void 0;const r=n(98),l=a(n(1));t.DisabledIntegrationIcon=()=>l.createElement(r.OffIcon,null)},758:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EnabledIntegrationIcon=void 0;const r=n(98),l=a(n(1));t.EnabledIntegrationIcon=()=>l.createElement(r.CheckCircleIcon,{color:"green"})},781:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.integrationExporterFactory=void 0;const i=n(25),o=n(63),a=n(782),r=n(783);t.integrationExporterFactory=e=>{switch(e){case i.ExporterType.CSV:return new a.IntegrationExporterCsv;case i.ExporterType.JSON:return new r.IntegrationExporterJson}o.assertNever(e)}},782:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationExporterCsv=void 0;const i=n(25);class o extends i.ExporterCsv{serialize(e){return Object.assign({},e)}headers(){return[["id","id"],["name","name"],["isEnabled","isEnabled"],["type","type"],["url","url"]]}}t.IntegrationExporterCsv=o},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationExporterJson=void 0;const i=n(25);class o extends i.ExporterJson{}t.IntegrationExporterJson=o},784:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePage=void 0;const r=n(25),l=a(n(1)),s=n(785),c=n(464);t.CreatePage=e=>{const t=c.useSaveIntegrationMutation(),[n,i]=l.useState(!1),o=l.useCallback(n=>(n.id||(n.isEnabled=!0),i(!1),t.mutate(n).then(t=>200===t.status?(e.isEdit?r.addSuccessNotification(n.name+" saved successfully",n.isEnabled?"This integration is enabled and ready to use.":"This integration is disabled."):r.addSuccessNotification(n.name+" added successfully","This integration is enabled and ready to use."),!0):(i(!0),!1))),[t,e.isEdit]),a=l.useMemo(()=>{if(n)return e.isEdit?{title:"Integration failed to update",description:l.createElement("p",null,"There was an error trying to update the Integration. Please try again.")}:{title:"Failed to create Integration",description:l.createElement("p",null,"There was an error trying to create the Integration. Please try again.")}},[n,e.isEdit]);return l.createElement(s.IntegrationSaveModal,{initialIntegration:e.initialIntegration,onSave:o,isEdit:e.isEdit,isSaving:t.loading,onClose:e.onClose,error:a})}},785:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationSaveModal=void 0;const l=n(25),s=n(172),c=a(n(1)),u=n(97),d=n(463),p=n(786),f=e=>{const t=(e.isEdit?u.Messages.pages.integrations.edit:u.Messages.pages.integrations.add).title,{handleSubmit:n,isValid:i,isSubmitting:o}=s.useFormikContext(),a=c.useCallback(()=>(n(),!1),[n]);return c.createElement(l.SaveModal,{isOpen:!0,isSaving:o,onSave:a,title:t,content:c.createElement(p.IntegrationsForm,null),onClose:e.onClose,error:e.error,actionButtonDisabled:!i})};t.IntegrationSaveModal=e=>{const[t]=c.useState(()=>Object.assign(Object.assign({},d.IntegrationSchema.cast(d.IntegrationSchema.cast())),e.initialIntegration)),n=c.useCallback(t=>r(void 0,void 0,void 0,(function*(){const n=e.onSave,i=e.onClose,o=d.IntegrationSchema.cast(t);(yield n(o))&&i(!0)})),[e.onSave,e.onClose]);return c.createElement(s.Formik,{initialValues:t,validationSchema:d.IntegrationSchema,onSubmit:n,validateOnMount:!0},c.createElement(f,{isEdit:e.isEdit,onClose:e.onClose,error:e.error}))}},786:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsForm=void 0;const r=n(45),l=n(25),s=n(172),c=a(n(1)),u=n(97),d=n(463),p=n(142),f=n(71),b=n(787),g=[p.IntegrationType.WEBHOOK].map(e=>u.Messages.components.integrations.integrationType[e]).map(e=>c.createElement(r.FormSelectOption,{key:e,label:e}));t.IntegrationsForm=e=>{const{values:t}=s.useFormikContext();return c.createElement(l.Form,Object.assign({},f.getOuiaProps("Integrations/Form",e)),c.createElement(l.FormTextInput,{maxLength:d.maxIntegrationNameLength,isRequired:!0,label:"Integration name",type:"text",name:"name",id:"name",ouiaId:l.ouiaIdConcat(e.ouiaId,"name")}),c.createElement(l.FormSelect,{isRequired:!0,label:"Type",name:"type",id:"integration-type",ouiaId:l.ouiaIdConcat(e.ouiaId,"type")},g),c.createElement(b.IntegrationTypeForm,{type:t.type,ouiaId:l.ouiaIdConcat(e.ouiaId,"type-form")}))}},787:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationTypeForm=void 0;const r=n(63),l=a(n(1)),s=n(142),c=n(788);t.IntegrationTypeForm=e=>{switch(e.type){case s.UserIntegrationType.WEBHOOK:return l.createElement(c.IntegrationTypeHttpForm,Object.assign({},e));default:r.assertNever(e.type)}}},788:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationTypeHttpForm=void 0;const r=n(25),l=a(n(1)),s=n(71);t.IntegrationTypeHttpForm=e=>l.createElement("div",Object.assign({className:"pf-c-form"},s.getOuiaProps("Integrations/HttpForm",e)),l.createElement(r.FormTextInput,{isRequired:!0,label:"Endpoint URL",type:"url",name:"url",id:"integration-type-http-url",ouiaId:r.ouiaIdConcat(e.ouiaId,"endpoint-url")}),l.createElement(r.Checkbox,{id:"integration-type-http-ssl-verification-enabled",label:"Enable SSL verification",name:"sslVerificationEnabled",ouiaId:r.ouiaIdConcat(e.ouiaId,"is-ssl-verification-enabled")}),l.createElement(r.FormTextInput,{isRequired:!1,label:"Secret token",id:"integration-type-http-secret-token",name:"secretToken",ouiaId:r.ouiaIdConcat(e.ouiaId,"secret-token")}))},789:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationDeleteModalPage=void 0;const r=n(25),l=a(n(1)),s=n(790),c=n(791);t.IntegrationDeleteModalPage=e=>{const t=c.useDeleteIntegration(),[n,i]=l.useState(!1),o=l.useCallback(e=>{const n=t.mutate;return i(!1),n(e.id).then(e=>200===e.status?(r.addSuccessNotification("Integration removed","The integration was removed."),!0):(i(!0),!1))},[t.mutate,i]),a=l.useMemo(()=>{if(n)return{title:"Failed to remove Integration",description:l.createElement("p",null,"There was an error trying to remove the Integration. Please try again.")}},[n]);return l.createElement(s.IntegrationDeleteModal,{integration:e.integration,isDeleting:t.loading,onClose:e.onClose,onDelete:o,error:a})}},790:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationDeleteModal=void 0;const r=n(25),l=a(n(1));t.IntegrationDeleteModal=e=>{const t=l.useCallback(()=>{const t=e.integration,n=e.onDelete;return!!t&&n(t)},[e.onDelete,e.integration]);if(!e.integration)return null;const n=`Do you want to remove the integration: "${e.integration.name}"?`;return l.createElement(r.DeleteModal,{isOpen:!0,isDeleting:e.isDeleting,title:"Remove integration",content:n,onClose:e.onClose,onDelete:t,error:e.error})}},791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDeleteIntegration=void 0;const i=n(85),o=n(143),a=e=>o.Operations.EndpointServiceDeleteEndpoint.actionCreator({id:e});t.useDeleteIntegration=()=>i.useMutation(a)},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActionResolver=void 0;const i=n(1);t.useActionResolver=e=>i.useCallback((t,n)=>{const i=e.onEdit,o=e.onDelete,a=e.onEnable,r=!e.canWriteAll;return[{title:"Edit",isDisabled:r,onClick:()=>i(t)},{title:"Remove",isDisabled:r,onClick:()=>o(t)},{title:t.isEnabled?"Disable":"Enable",isDisabled:r,onClick:()=>a(t,n,!t.isEnabled)}]},[e.onEdit,e.onDelete,e.canWriteAll,e.onEnable])},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDeleteModalReducer=void 0;const i=n(63),o=n(1);var a;!function(e){e.DELETE="delete",e.NONE="none"}(a||(a={}));const r={integration:void 0},l=(e,t)=>{switch(t.type){case a.DELETE:return{integration:t.integration};case a.NONE:return r;default:i.assertNever(t)}};t.useDeleteModalReducer=()=>o.useReducer(l,r),t.useDeleteModalReducer.makeNoneAction=()=>({type:a.NONE}),t.useDeleteModalReducer.makeDeleteAction=e=>({type:a.DELETE,integration:e})},794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFormModalReducer=t.makeNoneAction=t.makeEditAction=t.makeCreateAction=void 0;const i=n(63),o=n(1);var a;!function(e){e.EDIT="edit",e.CREATE="create",e.NONE="none"}(a||(a={}));const r={isOpen:!1,isEdit:!1,template:void 0,isCopy:!1},l=(e,t)=>{switch(t.type){case a.CREATE:return{isOpen:!0,isEdit:!1,template:t.template?Object.assign(Object.assign({},t.template),{name:"Copy of "+t.template.name}):void 0,isCopy:!!t.template};case a.EDIT:return{isOpen:!0,isEdit:!0,template:t.template,isCopy:!1};case a.NONE:return r;default:i.assertNever(t)}};t.makeCreateAction=e=>({type:a.CREATE,template:e}),t.makeEditAction=e=>({type:a.EDIT,template:e}),t.makeNoneAction=()=>({type:a.NONE}),t.useFormModalReducer=()=>o.useReducer(l,r)},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntegrationFilter=void 0;const i=n(25),o=n(25),a=n(63),r=n(455),l=e=>i.useUrlStateString("name",e),s=e=>o.useUrlStateExclusiveOptions("enabled",["enabled","disabled"],void 0),c=e=>{switch(e){case r.IntegrationFilterColumn.NAME:return l;case r.IntegrationFilterColumn.ENABLED:return s;default:a.assertNever(e)}};t.useIntegrationFilter=(e=250)=>o.useFilters(r.IntegrationFilterColumn,e,c)},796:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useIntegrationRows=void 0;const o=n(25),a=i(n(385)),r=n(1),l=n(85),s=n(798),c=n(389),u=n(97),d=n(799),p=n(800);t.useIntegrationRows=e=>{const[t,n]=r.useState([]),i=c.usePrevious(e),f=p.useSwitchIntegrationEnabledStatus(),{query:b}=r.useContext(l.ClientContext),[g]=r.useState(()=>a.default(5)),m=r.useCallback((e,t)=>{n(n=>{const i=[...n];return i[e]=Object.assign(Object.assign({},i[e]),t),i})},[n]),y=r.useCallback((e,t)=>{n(n=>{const i=n.findIndex(t=>t.id===e);if(-1===i)return n;const o=[...n];return o[i]=Object.assign(Object.assign({},o[i]),t),o})},[n]);r.useEffect(()=>{e!==i&&(n(t=>e.map(e=>Object.assign(Object.assign({isOpen:!1,isSelected:!1,isEnabledLoading:!1,lastConnectionAttempts:[],isConnectionAttemptLoading:!0},t.find(t=>t.id===e.id)),e))),e&&(g.clearQueue(),e.map(e=>e.id).forEach(e=>{g(()=>b(d.listIntegrationHistoryActionCreator(e))).then(t=>{if(t.payload&&200===t.payload.status){const n=t.payload.value.reverse().slice(0,5).map(e=>({isSuccess:!!e.invocationResult,date:new Date(e.created)}));y(e,{isConnectionAttemptLoading:!1,lastConnectionAttempts:n})}else y(e,{isConnectionAttemptLoading:!1,lastConnectionAttempts:void 0})})})))},[i,e,y,g,b]);return{rows:t,onCollapse:r.useCallback((e,t,n)=>{m(t,{isOpen:n})},[m]),onEnable:r.useCallback((e,t,n)=>{m(t,{isEnabledLoading:!0}),f.mutate(e).then(i=>{if(200===i.status)m(t,{isEnabled:n,isEnabledLoading:!1});else{const i=n?u.Messages.components.integrations.enableError:u.Messages.components.integrations.disableError;o.addDangerNotification(i.title,s.format(i.description,e.name),!0),m(t,{isEnabled:e.isEnabled,isEnabledLoading:!1})}})},[m,f])}}},799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listIntegrationHistoryActionCreator=void 0;const i=n(143);t.listIntegrationHistoryActionCreator=e=>i.Operations.EndpointServiceGetEndpointHistory.actionCreator({id:e})},800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSwitchIntegrationEnabledStatus=t.switchIntegrationEnabledStatusActionCreator=void 0;const i=n(85),o=n(143);t.switchIntegrationEnabledStatusActionCreator=e=>e.isEnabled?o.Operations.EndpointServiceDisableEndpoint.actionCreator({id:e.id}):o.Operations.EndpointServiceEnableEndpoint.actionCreator({id:e.id}),t.useSwitchIntegrationEnabledStatus=()=>i.useMutation(t.switchIntegrationEnabledStatusActionCreator)},801:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsListPage=void 0;const r=n(45),l=n(134),s=n(170),c=n(25),u=a(n(1)),d=n(80),p=n(382),f=n(802),b=n(807),g=n(809),m=n(225),y=n(97),v=n(467),h=n(811),E=n(224),O=n(812),_=n(826),I=n(827),S=n(828),N=n(829),T=d.style({display:"inline"}),j=d.style({fontWeight:600,paddingTop:l.global_spacer_md.var,paddingBottom:l.global_spacer_md.var,fontSize:"17px"}),C=d.style({paddingTop:0}),P=[];t.NotificationsListPage=()=>{var e,t;const n=v.useDefaultNotificationBehavior(),{applications:i}=p.useAppContext(),o=I.useNotificationFilter(i.map(e=>e.label.toString())),[a,l]=u.useState(m.GroupByEnum.Application),d=u.useCallback(e=>{l(e)},[l]),A=S.useNotificationPage(o.debouncedFilters,i,10),w=h.useListNotifications(A.page),{rows:M,onCollapse:D}=N.useNotificationRows("eventTypesArray"===(null===(e=w.payload)||void 0===e?void 0:e.type)?w.payload.value:P,a),[R,k]=_.useFormModalReducer(),B=u.useCallback(e=>{const t=n.query,i=w.query;e&&R.isOpen&&("default"===R.type?t():"notification"===R.type&&i()),k(_.makeNoneAction())},[k,n.query,R,w.query]),F={className:T,title:y.Messages.pages.notifications.list.title},x=u.useCallback(e=>{console.log("Export to",e)},[]),L=u.useCallback(()=>{const e=n.payload;"DefaultNotificationBehavior"===(null==e?void 0:e.type)&&k(_.makeEditDefaultAction(e.value))},[k,n.payload]),U=u.useCallback(e=>{k(_.makeEditNotificationAction(e))},[k]);return u.createElement(u.Fragment,null,u.createElement(s.PageHeader,null,u.createElement(s.PageHeaderTitle,Object.assign({},F)),u.createElement(c.InsightsEnvDetector,{insights:c.getInsights(),onEnvironment:E.stagingBetaAndProdBetaEnvironment},u.createElement(c.RenderIfFalse,null,u.createElement(r.Button,{variant:r.ButtonVariant.link},y.Messages.pages.notifications.list.viewHistory)))),u.createElement(s.Main,{className:C},u.createElement(s.Section,null,u.createElement(f.DefaultBehavior,{loading:n.loading,defaultBehavior:"DefaultNotificationBehavior"===(null===(t=n.payload)||void 0===t?void 0:t.type)?n.payload.value:void 0,onEdit:L}),u.createElement("div",{className:j},"Insights notifications event types and behavior"),u.createElement(g.NotificationsToolbar,{filters:o.filters,setFilters:o.setFilters,clearFilter:o.clearFilter,appFilterOptions:i,groupBy:a,onGroupBySelected:d,onExport:x},u.createElement(b.NotificationsTable,{notifications:M,onCollapse:D,onEdit:U})),R.isOpen&&u.createElement(O.EditNotificationPage,Object.assign({onClose:B},R)))))}},802:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultBehavior=void 0;const r=n(45),l=n(134),s=a(n(1)),c=n(80),u=n(71),d=n(465),p=n(466);c.cssRaw(`\n    table.withDark300Skeleton .pf-c-skeleton {\n        ${l.c_skeleton_BackgroundColor.name}: ${l.global_palette_black_300.var} \n    }\n`);const f=c.style({backgroundColor:"#f0f0f0",paddingTop:l.global_spacer_md.var,paddingBottom:l.global_spacer_md.var,paddingLeft:l.global_spacer_md.var,paddingRight:l.global_spacer_md.var}),b=c.style({paddingTop:l.global_spacer_lg.var,display:"block",$nest:{"& td, & th":{paddingTop:l.global_spacer_sm.var,paddingBottom:l.global_spacer_sm.var,paddingLeft:l.global_spacer_md.var,paddingRight:l.global_spacer_md.var}}}),g=c.style({fontWeight:600});t.DefaultBehavior=e=>{var t;return s.createElement("div",Object.assign({},u.getOuiaProps("Notifications/DefaultBehavior",e),{className:f}),s.createElement(r.Flex,{justifyContent:{default:"justifyContentSpaceBetween"}},s.createElement(r.FlexItem,null,s.createElement("div",{className:g},"Default behavior")),s.createElement(r.FlexItem,null,s.createElement(r.Button,{onClick:e.onEdit,variant:r.ButtonVariant.link},"Edit"))),s.createElement("div",null,"Default behavior applies to all notifications in a bundle. You can override this default for any specific event type."),s.createElement("table",{className:b+" withDark300Skeleton"},s.createElement("thead",null,s.createElement("tr",null,s.createElement("th",null,"Action"),s.createElement("th",null,"Recipient"))),s.createElement("tbody",null,e.loading?s.createElement(s.Fragment,null,s.createElement("tr",null,s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"})),s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"}))),s.createElement("tr",null,s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"})),s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"}))),s.createElement("tr",null,s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"})),s.createElement("td",null,s.createElement(r.Skeleton,{width:"200px"})))):void 0===e.defaultBehavior?s.createElement("tr",null,s.createElement("td",null,"Error while loading the default behavior. ")):null===(t=e.defaultBehavior)||void 0===t?void 0:t.actions.map((e,t)=>s.createElement("tr",{key:t},s.createElement("td",null,s.createElement(d.ActionComponent,{isDefault:!1,action:e})),s.createElement("td",null," ",s.createElement(p.Recipient,{action:e,hasOutline:!0})))))))}},805:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebhookIcon=void 0;const l=a(n(1)),s=n(80),c=r(n(806)),u=s.style({verticalAlign:"-0.125em",width:"1em",height:"1em"});t.WebhookIcon=()=>l.createElement("img",{className:u,src:c.default})},806:function(e,t,n){e.exports=n.p+"fonts/WebhookIcon.svg"},807:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsTable=void 0,n(808);const s=n(45),c=n(2),u=l(n(452)),d=n(390),p=n(25),f=n(63),b=a(n(1)),g=n(80),m=n(97),y=n(71),v=n(465),h=n(466),E=n(225),O=g.style({borderBottom:"var(--pf-c-table--border-width--base) solid var(--pf-c-table--BorderColor)"}),_=g.style({borderBottom:"none !important"}),I=g.style({paddingBottom:"0 !important"}),S=g.style({paddingLeft:"16px !important"}),N={"--pf-c-table__expandable-row-content--PaddingBottom":"0"},T=g.style({paddingTop:"8px !important"}),j={"--pf-c-table__expandable-row-content--PaddingTop":"0"},C=g.style({color:"#888"}),P=g.style({$nest:{"&:after":{borderLeft:"none !important",paddingBottom:"0 !important"}}}),A=g.style({fontWeight:600}),w=[{title:m.Messages.components.notifications.table.columns.event,transforms:[],cellFormatters:[d.expandable]},{title:m.Messages.components.notifications.table.columns.action,transforms:[]},{title:m.Messages.components.notifications.table.columns.recipient,transforms:[]},{title:""}],M=e=>b.createElement(b.Fragment,null,b.createElement("div",null," ",e.eventTypeDisplayName," "),b.createElement("div",{className:C}," ",e.applicationDisplayName," ")),D=e=>{var t;const{trRef:n,className:i,rowProps:o,row:a}=e,l=r(e,["trRef","className","rowProps","row"]);if(!a)return b.createElement(b.Fragment,null);const s=(null===(t=a.props)||void 0===t?void 0:t.className)?a.props.className:"";return b.createElement("tr",Object.assign({},l,{ref:n,className:c.css(i,void 0!==a.isExpanded&&u.default.tableExpandableRow,a.isExpanded&&u.default.modifiers.expanded,s),hidden:void 0!==(null==a?void 0:a.isExpanded)&&!a.isExpanded}),e.children)},R=(e,t,n)=>e.reduce((e,i)=>{const o=Math.max(1,i.useDefault?1:i.actions.length),a=i.actions.length>0?i.actions[0]:void 0;e.push({id:`${void 0!==n?n.toString()+"-":""}${i.id}`,key:`${void 0!==n?n.toString()+"-":""}${i.id}`,cells:[{title:b.createElement(M,{applicationDisplayName:i.applicationDisplayName,eventTypeDisplayName:i.eventTypeDisplayName}),props:{rowSpan:o,className:p.joinClasses(P,O),colSpan:void 0===n?1:2}},{title:b.createElement(b.Fragment,null,b.createElement("span",null,b.createElement(v.ActionComponent,{isDefault:!!i.useDefault,action:a,loading:"loading"===i.loadingActionStatus,hasError:"error"===i.loadingActionStatus}))),props:{className:I,style:N}},{title:b.createElement(b.Fragment,null,b.createElement("span",null,a&&b.createElement(h.Recipient,{action:a}))),props:{className:I,style:N}},{title:b.createElement(b.Fragment,null,b.createElement(s.Button,{onClick:()=>t(i),variant:s.ButtonVariant.link},"Edit")),props:{className:I,style:N}}],props:{className:i.actions.length>1?_:""}}),void 0!==n&&(e[e.length-1].parent=n,e[e.length-1].fullWidth=!0);for(let t=1;t<o;++t){const a=p.joinClasses(t+1===o?"":I,T),r=`${i.id}-action-${t}`,l=Object.assign(Object.assign({},j),t+1===o?{}:N);e.push({id:`${void 0!==n?n.toString()+"-":""}${r}`,key:`${void 0!==n?n.toString()+"-":""}${r}`,cells:[{title:b.createElement(v.ActionComponent,{isDefault:!!i.useDefault,action:i.actions[t],loading:"loading"===i.loadingActionStatus,hasError:"error"===i.loadingActionStatus}),props:{className:p.joinClasses(P,a,void 0===n?"":S),style:l}},{title:b.createElement(h.Recipient,{action:i.actions[t]}),props:{className:a,style:l}},{props:{className:a,style:l}}],props:{className:t+1===o?"":_}}),void 0!==n&&(e[e.length-1].parent=n,e[e.length-1].fullWidth=!0)}return e},[]);t.NotificationsTable=e=>{const t=b.useMemo(()=>{const t=e.notifications;switch(t.grouped){case E.GroupByEnum.Application:return n=t.data,i=e.onEdit,n.reduce((e,t)=>(e.push({id:t.applicationDisplayName,key:t.applicationDisplayName,cells:[{title:b.createElement("span",{className:A}," Application: ",t.applicationDisplayName),props:{className:P}},{title:"",props:{colSpan:w.length-1}}],isOpen:t.isOpen}),e.push(...R(t.notifications,i,e.length-1)),e),[]);case E.GroupByEnum.None:return R(t.data,e.onEdit);default:f.assertNever(t)}var n,i},[e.notifications,e.onEdit]),n=b.useCallback((t,n,i,o)=>{const a=e.notifications,r=e.onCollapse;if(a.grouped===E.GroupByEnum.None)throw new Error("Invalid group None for CollapseHandler");const l=a.data.findIndex(e=>e.applicationDisplayName===o.id);r&&void 0!==l&&-1!==l&&r(l,i)},[e.onCollapse,e.notifications]);return b.createElement("div",Object.assign({},y.getOuiaProps("Notifications/Table",e),{className:"notification-table"}),b.createElement(d.Table,{"aria-label":m.Messages.components.notifications.table.title,rows:t,cells:w,onCollapse:n,rowWrapper:D},b.createElement(d.TableHeader,null),b.createElement(d.TableBody,null)))}},808:function(e,t,n){var i=n(386);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=n(10)(i,o);i.locals&&(e.exports=i.locals),e.hot.accept(386,(function(){var t=n(386);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,i=0;for(n in e){if(!t||e[n]!==t[n])return!1;i++}for(n in t)i--;return 0===i}(i.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(t)})),e.hot.dispose((function(){a()}))},809:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsToolbar=void 0;const r=n(170),l=n(25),s=a(n(1)),c=n(1),u=n(454),d=n(224),p=n(71),f=n(387),b=n(810);t.NotificationsToolbar=e=>{const t=c.useMemo(()=>{const t=e.appFilterOptions.map(e=>({value:e.label,label:s.createElement(s.Fragment,null," ",e.label)}));return{[f.NotificationFilterColumn.NAME]:{label:"Event type",placeholder:"Filter by event type"},[f.NotificationFilterColumn.APPLICATION]:{label:"Application",placeholder:"Filter by application",options:{exclusive:!1,default:[],items:t}},[f.NotificationFilterColumn.ACTION]:{label:"Action",placeholder:"Filter by action"}}},[e.appFilterOptions]),n=l.usePrimaryToolbarFilterConfig(f.NotificationFilterColumn,e.filters,e.setFilters,e.clearFilter,t),i=u.useTableExportConfig(e.onExport),o=l.useInsightsEnvironmentFlag(l.getInsights(),d.stagingBetaAndProdBetaEnvironment,void 0,c.useCallback(()=>n.filterConfig,[n])),a=l.useInsightsEnvironmentFlag(l.getInsights(),d.stagingBetaAndProdBetaEnvironment,void 0,c.useCallback(()=>n.activeFiltersConfig,[n])),g=l.useInsightsEnvironmentFlag(l.getInsights(),d.stagingBetaAndProdBetaEnvironment,void 0,c.useCallback(()=>i,[i]));return s.createElement("div",Object.assign({},p.getOuiaProps("Notifications/DualToolbar",e)),s.createElement(r.PrimaryToolbar,{filterConfig:o,activeFiltersConfig:a,dedicatedAction:s.createElement(b.GroupBy,{selected:e.groupBy,groupBy:e.onGroupBySelected}),exportConfig:g}),e.children,s.createElement(r.PrimaryToolbar,null))}},810:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupBy=void 0;const l=n(45),s=n(98),c=r(n(429)),u=a(n(1)),d=n(225);t.GroupBy=e=>{const t=[u.createElement(l.DropdownItem,{"data-group-by":d.GroupByEnum.Application,key:"application"},"Application"),u.createElement(l.DropdownItem,{"data-group-by":d.GroupByEnum.None,key:"none"},"None")],[n,i]=u.useState(!1),o=u.useCallback(t=>{const n=e.groupBy,o=e.selected;if(t.target.dataset.groupBy!==o)switch(t.target.dataset.groupBy){case d.GroupByEnum.Application:n(d.GroupByEnum.Application);break;case d.GroupByEnum.None:n(d.GroupByEnum.None)}i(!1)},[e.groupBy,e.selected]),a=u.useCallback(e=>{i(e)},[i]),r=u.useMemo(()=>"Group by: "+c.default(e.selected,{pascalCase:!0}),[e.selected]);return u.createElement(l.Dropdown,{onSelect:o,isOpen:n,toggle:u.createElement(l.DropdownToggle,{id:"group-by-dropdown-toggle",toggleIndicator:s.CaretDownIcon,onToggle:a},r),dropdownItems:t})}},811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useListNotifications=t.listNotificationsActionCreator=void 0;const i=n(25),o=n(160),a=n(85),r=n(133),l=n(226);t.listNotificationsActionCreator=e=>{const t=(null!=e?e:i.Page.defaultPage()).toQuery();return r.Operations.NotificationServiceGetEventTypes.actionCreator({limit:+t.limit,offset:+t.offset,applicationIds:t.filterApplicationId})};const s=o.validationResponseTransformer(e=>200===e.status?o.validatedResponse("eventTypesArray",200,l.toNotifications(e.value),e.errors):e);t.useListNotifications=e=>i.useTransformQueryResponse(a.useQuery(t.listNotificationsActionCreator(e)),s)},812:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((i=i.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EditNotificationPage=void 0;const s=n(25),c=l(n(63)),u=l(n(385)),d=a(n(1)),p=n(1),f=n(85),b=n(813),g=n(821),m=n(822),y=n(823),v=n(467),h=n(470),E=n(456),O=n(824),_=n(825),I=n(464),S=n(142),N=n(132),T=["Admin","Another one","Default user access","Security admin","Stakeholders"],j=e=>r(void 0,void 0,void 0,(function*(){return""!==e?(e=e.toLowerCase(),T.filter(t=>t.toLowerCase().includes(e))):T}));t.EditNotificationPage=e=>{const{query:t}=p.useContext(f.ClientContext),n=d.useCallback((e,n)=>r(void 0,void 0,void 0,(function*(){return t(E.listIntegrationsActionCreator(s.Page.of(1,20,(new s.Filter).and("type",s.Operator.EQUAL,e)))).then(e=>{let t=[];const n=e.payload?E.listIntegrationIntegrationDecoder(e.payload):void 0;return"integrationArray"===(null==n?void 0:n.type)&&(t=n.value),t})})),[t]),i=d.useCallback(n=>r(void 0,void 0,void 0,(function*(){const i=e=>{if(e.type!==N.NotificationType.INTEGRATION&&e.type!==N.NotificationType.EMAIL_SUBSCRIPTION)throw new Error("Only integrations and EmailSubscription are supported are supported");return e.integrationId},o=e.type;let a,r;if("notification"!==o&&"default"!==o&&c.default(o),"default"===e.type)a=yield t(v.defaultNotificationBehaviorCreator()).then(e=>e.payload?v.defaultNotificationsDecoder(e.payload):e.payload).then(e=>"DefaultNotificationBehavior"===(null==e?void 0:e.type)?e.value.actions:void 0),r=!1;else if("notification"===e.type){const n=e.data.id,i=t(h.getNotificationActionsByIdAction(n));a=yield i.then(e=>e.payload?h.getNotificationByIdActionDecoder(e.payload):e.payload).then(e=>"actionsArray"===(null==e?void 0:e.type)?e.value:void 0),r=yield i.then(e=>e.payload?h.hasDefaultNotificationDecoder(e.payload):e.payload).then(e=>"defaultNotification"===(null==e?void 0:e.type)?e.value:void 0)}const l="notification"===e.type&&n.useDefault;let d;if(d=l!==r?yield t(g.getDefaultActionIdAction()).then(e=>e.payload?g.getDefaultActionIdDecoder(e.payload):void 0).then(e=>"DefaultNotificationId"===(null==e?void 0:e.type)?e.value:void 0):"nothing",!a||void 0===r||void 0===d)return s.addDangerNotification("Error updating actions","Failed to update actions. Please try again."),!1;const p=u.default(5),f=a.map(i),b=n.actions.map((e,t)=>""===e.integrationId?Object.assign(Object.assign({},e),{integrationId:"new"+t}):e).map(i),E=[];if(n.actions.map((e,n)=>{""===e.integrationId&&e.type===N.NotificationType.EMAIL_SUBSCRIPTION&&E.push(p(()=>t(I.createIntegrationActionCreator({type:S.IntegrationType.EMAIL_SUBSCRIPTION,name:"Email subscription",isEnabled:!0})).then(e=>{var t;return"Endpoint"===(null===(t=e.payload)||void 0===t?void 0:t.type)?e.payload.value.id:void 0}).then(e=>{if(e){if(b[n]!=="new"+n)throw new Error(`Sync error, expected new${n} but found ${b[n]}`);return b[n]=e,!0}return!1})))}),E.length){if(!(yield Promise.all(E.map(e=>e.catch(()=>!1))).then(e=>e.every(e=>e))))return s.addDangerNotification("Actions not added/removed","Some actions were not correctly added or removed. Please try again."),!1}let T,j;if(l?(T=f.reduce((e,t)=>(e.includes(t)||e.push(t),e),[]),j=r?[]:[d]):(T=f.reduce((e,t)=>(b.includes(t)||e.includes(t)||e.push(t),e),[]),r&&T.push(d),j=b.reduce((e,t)=>(f.includes(t)||e.includes(t)||e.push(t),e),[])),0===j.length&&0===T.length)return s.addSuccessNotification("Actions updated","All the actions were updated."),!0;const C=[];if("notification"===e.type){const n=e.data.id;C.push(...T.map(e=>p(()=>t(_.actionRemoveActionFromNotification(n,e)).then(e=>200===e.status)))),C.push(...j.map(e=>p(()=>t(y.actionAddActionToNotification(n,e)).then(e=>200===e.status))))}else"default"===e.type&&(C.push(...T.map(e=>p(()=>t(O.actionRemoveActionFromDefault(e)).then(e=>200===e.status)))),C.push(...j.map(e=>p(()=>t(m.actionAddActionToDefault(e)).then(e=>200===e.status)))));const P=yield Promise.all(C.map(e=>e.catch(()=>!1))).then(e=>e.every(e=>e));return P?s.addSuccessNotification("Actions updated","All the actions were updated."):s.addDangerNotification("Actions not added/removed","Some actions were not correctly added or removed. Please try again."),P})),[e.type,t,e.data]);return d.createElement(b.NotificationSaveModal,Object.assign({onSave:i,isSaving:!1},e,{getRecipients:j,getIntegrations:n}))}},813:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationSaveModal=void 0;const l=n(45),s=n(25),c=n(172),u=a(n(1)),d=n(814),p=n(815),f=e=>{const t=`Edit${"default"===e.type?" default":""} notification actions`,{handleSubmit:n,isValid:i,isSubmitting:o}=c.useFormikContext(),a=u.useCallback(()=>(n(),!1),[n]);return u.createElement(s.SaveModal,{content:u.createElement(p.NotificationForm,{type:e.type,getRecipients:e.getRecipients,getIntegrations:e.getIntegrations}),isSaving:o,onSave:a,isOpen:!0,title:t,onClose:e.onClose,variant:l.ModalVariant.large,actionButtonDisabled:!i})};t.NotificationSaveModal=e=>{const t=u.useCallback(t=>r(void 0,void 0,void 0,(function*(){const n=e.onClose;let i=!1;if("notification"===e.type){const n=e.onSave;i=yield n(t)}else if("default"===e.type){const n=e.onSave;i=yield n(t)}i&&n(!0)})),[e.onSave,e.onClose,e.type]);return u.createElement(c.Formik,{initialValues:e.data,validationSchema:d.WithActions,onSubmit:t,validateOnMount:!0},u.createElement(f,{type:e.type,onClose:e.onClose,getRecipients:e.getRecipients,getIntegrations:e.getIntegrations}))}},814:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WithActions=void 0;const r=a(n(473)),l=n(132),s=r.object({type:r.mixed().oneOf([l.NotificationType.INTEGRATION]).required(),integration:r.object({id:r.string().required()}).required(),integrationId:r.string().min(1)}),c=r.object({type:r.mixed().oneOf([l.NotificationType.EMAIL_SUBSCRIPTION]).required(),recipient:r.array(r.string()).min(0),integrationId:r.string().min(0)});t.WithActions=r.object({actions:r.array(r.lazy(e=>e.hasOwnProperty("type")&&e.type===l.NotificationType.INTEGRATION?s:c))})},815:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationForm=void 0;const r=n(45),l=n(98),s=n(134),c=n(25),u=n(172),d=a(n(1)),p=n(80),f=n(132),b=n(71),g=n(816),m=p.style({textAlign:"left"}),y=p.style({display:"block",$nest:{"& td, & th":{paddingTop:s.global_spacer_sm.var,paddingBottom:s.global_spacer_sm.var,paddingLeft:s.global_spacer_md.var,paddingRight:s.global_spacer_md.var},"& th":{width:"500px"},"& th:last-child":{width:"80px"}}}),v=e=>{const{values:t,isSubmitting:n}=e.form,i=t.actions,o=d.useCallback(()=>{(0,e.push)({type:f.NotificationType.EMAIL_SUBSCRIPTION,integrationId:"",recipient:[]})},[e.push]);return d.createElement(d.Fragment,null,(void 0===i||0===i.length)&&d.createElement("tbody",Object.assign({},b.getOuiaProps("Notifications/Form/NoActions",{})),d.createElement("tr",null,d.createElement("td",{colSpan:3},d.createElement("span",null,"No actions. Users will not be notified.")))),i&&i.length>0&&d.createElement(g.EditableActionTable,{path:e.name,actions:i,getRecipients:e.getRecipients,getIntegrations:e.getIntegrations,handleRemove:e.handleRemove,isDisabled:n}),d.createElement("tbody",Object.assign({},b.getOuiaProps("Notifications/Form/Button",{})),d.createElement("tr",null,d.createElement("td",null,d.createElement(r.Button,{className:m,variant:r.ButtonVariant.link,icon:d.createElement(l.PlusCircleIcon,null),onClick:o,isDisabled:n},"Add action")))))};t.NotificationForm=e=>{const{values:t,isSubmitting:n}=u.useFormikContext(),{type:i}=e,o="default"===i||!t.useDefault;return d.createElement("div",Object.assign({},b.getOuiaProps("Notifications/Form",e)),d.createElement(c.Form,null,d.createElement("table",{className:y},"notification"===e.type&&d.createElement(d.Fragment,null,d.createElement("thead",null),d.createElement("tbody",Object.assign({},b.getOuiaProps("Notifications/Form/ApplicationHeader",{})),d.createElement("tr",null,d.createElement("td",null,d.createElement(c.FormText,{ouiaId:c.ouiaIdConcat(e.ouiaId,"event-name"),label:"Event name",name:"eventTypeDisplayName",id:"event"})),d.createElement("td",null,d.createElement(c.FormText,{ouiaId:c.ouiaIdConcat(e.ouiaId,"application"),label:"Application",name:"applicationDisplayName",id:"application"}))),d.createElement("tr",null,d.createElement("td",{colSpan:2},d.createElement(c.Checkbox,{ouiaId:c.ouiaIdConcat(e.ouiaId,"use-default"),name:"useDefault",id:"useDefault",label:"Use default notification actions",isDisabled:n}))))),"default"===e.type&&d.createElement("tbody",Object.assign({},b.getOuiaProps("Notifications/Form/DefaultHeader",{})),d.createElement("tr",null,d.createElement("td",{colSpan:3},d.createElement("div",null,"Change the default notification actions for ",d.createElement("b",null,"Red Hat Insights"),"."),d.createElement("div",null,"These actions apply to all events that use the default actions.")))),o&&d.createElement(d.Fragment,null,d.createElement(u.FieldArray,{name:"actions"},t=>d.createElement(v,Object.assign({type:e.type},t,{getRecipients:e.getRecipients,getIntegrations:e.getIntegrations})))))))}},816:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EditableActionTable=void 0;const r=n(45),l=n(98),s=n(172),c=a(n(1)),u=n(142),d=n(132),p=n(71),f=n(817),b=n(819),g=n(820),m=e=>{var t,n;const{setFieldValue:i}=s.useFormikContext(),[o,a,p]=s.useField(e.path+".recipient"),m=c.useCallback(t=>{i(e.path+".type",t.notificationType),t.integrationType?(i(e.path+".integration",{type:t.integrationType}),i(e.path+".recipient",[]),i(e.path+".integrationId","")):(i(e.path+".recipient",[]),i(e.path+".integration",void 0),i(e.path+".integrationId",""))},[i,e.path]),y=c.useCallback(t=>{"string"!=typeof t.recipientOrIntegration&&(i(e.path+".integration",t.recipientOrIntegration),i(e.path+".integrationId",t.recipientOrIntegration.id))},[i,e.path]),v=c.useCallback(e=>{if(o.value){const t=o.value,n=t.indexOf(e.toString());-1===n?p.setValue([...t,e.toString()]):p.setValue([...t].filter((e,t)=>t!==n))}},[o,p]),h=c.useCallback(()=>{p.setValue([])},[p]);return c.createElement("tr",null,c.createElement("td",null,c.createElement(f.ActionTypeahead,{action:e.action,onSelected:m,isDisabled:e.isDisabled,ouiaId:""+(e.ouiaId?"action-"+e.ouiaId:void 0)})),c.createElement("td",null,e.action.type===d.NotificationType.INTEGRATION?c.createElement(b.IntegrationRecipientTypeahead,{onSelected:y,integrationType:null!==(n=null===(t=e.action.integration)||void 0===t?void 0:t.type)&&void 0!==n?n:u.UserIntegrationType.WEBHOOK,selected:e.action.integration,getIntegrations:e.getIntegrations,isDisabled:e.isDisabled,ouiaId:""+(e.ouiaId?"recipient-"+e.ouiaId:void 0)}):c.createElement(g.RecipientTypeahead,{onSelected:v,selected:e.action.recipient,getRecipients:e.getRecipients,isDisabled:e.isDisabled,onClear:h,ouiaId:""+(e.ouiaId?"recipient-"+e.ouiaId:void 0)})),c.createElement("td",null,c.createElement(r.Button,{onClick:e.onRemove,variant:r.ButtonVariant.plain},c.createElement(l.TimesIcon,null))))};t.EditableActionTable=e=>c.createElement(c.Fragment,null,c.createElement("thead",Object.assign({},p.getOuiaProps("Notifications/Form/EditableActionHeader",{})),c.createElement("tr",null,c.createElement("th",null,"Action"),c.createElement("th",null,"Recipient"),c.createElement("th",null))),c.createElement("tbody",Object.assign({},p.getOuiaProps("Notifications/Form/EditableActionBody",{})),e.actions.map((t,n)=>c.createElement(m,{key:n,ouiaId:""+n,action:t,isDisabled:e.isDisabled,path:`${e.path}.${n}`,getRecipients:e.getRecipients,getIntegrations:e.getIntegrations,onRemove:e.handleRemove?e.handleRemove(n):void 0}))))},817:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypeahead=void 0;const r=n(45),l=n(25),s=a(n(1)),c=n(224),u=n(142),d=n(132),p=n(71),f=n(818);t.ActionTypeahead=e=>{const[t,n]=s.useState(!1),i=s.useCallback(()=>{n(e=>!e)},[n]),o=s.useCallback((t,i)=>{const o=e.onSelected;i instanceof f.ActionOption&&(o(i),n(!1))},[e.onSelected,n]),a=s.useMemo(()=>e.action.type===d.NotificationType.INTEGRATION?new f.ActionOption({kind:"integration",type:e.action.integration.type}):new f.ActionOption({kind:"notification",type:e.action.type}),[e.action]),b=c.isStagingBetaOrProdBeta(l.getInsights());return s.createElement("div",Object.assign({},p.getOuiaProps("ActionTypeahead",e)),s.createElement(r.Select,{variant:r.SelectVariant.typeahead,typeAheadAriaLabel:"Select an action type",selections:a,onToggle:i,isOpen:t,onSelect:o,menuAppendTo:document.body,isDisabled:e.isDisabled},[...[d.NotificationType.DRAWER,d.NotificationType.EMAIL_SUBSCRIPTION].map(e=>new f.ActionOption({kind:"notification",type:e})),...[u.UserIntegrationType.WEBHOOK].map(e=>new f.ActionOption({kind:"integration",type:e}))].filter(e=>!b||e.notificationType===d.NotificationType.INTEGRATION).map(e=>s.createElement(r.SelectOption,{key:e.toString(),value:e}))))}},818:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOption=void 0;const i=n(97),o=n(132);class a{constructor(e){"integration"===e.kind?(this.notificationType=o.NotificationType.INTEGRATION,this.integrationType=e.type):(this.notificationType=e.type,this.integrationType=void 0)}compareTo(e){return e instanceof a&&(e.notificationType===this.notificationType&&e.integrationType===this.integrationType)}toString(){const e=i.Messages.components.notifications.types[this.notificationType];if(this.integrationType){return`${e}: ${i.Messages.components.integrations.integrationType[this.integrationType]}`}return e}}t.ActionOption=a},819:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationRecipientTypeahead=void 0;const r=n(45),l=a(n(1)),s=n(71),c=n(388),u=n(468),d=n(469);t.IntegrationRecipientTypeahead=e=>{const[t,n]=l.useState(!1),[i,o]=d.useTypeaheadReducer(),a=l.useCallback(e=>{n(e)},[n]);l.useEffect(()=>{(0,e.getIntegrations)(e.integrationType,"").then(e=>o.setDefaults(e))},[e.getIntegrations,e.integrationType,o]),l.useEffect(()=>{const t=e.getIntegrations;i.loadingFilter&&t(e.integrationType,i.lastSearch).then(e=>o.setFilterValue(i.lastSearch,e))},[e.getIntegrations,e.integrationType,i.loadingFilter,i.lastSearch,o]);const p=l.useCallback(e=>{var t;const n=null===(t=e.target.value)||void 0===t?void 0:t.trim();return""===n?o.useDefaults():o.loadFilterValue(n),[]},[o]),f=u.useRecipientOptionMemo(i),b=l.useMemo(()=>{const t=e.selected;if(void 0!==t&&void 0!==t.name&&void 0!==t.id&&void 0!==t.type)return new c.RecipientOption(t)},[e.selected]),g=l.useCallback((t,i)=>{const o=e.onSelected;i instanceof c.RecipientOption&&(o(i),n(!1))},[e.onSelected]);return l.createElement("div",Object.assign({},s.getOuiaProps("IntegrationRecipientTypeahead",e)),l.createElement(r.Select,{variant:r.SelectVariant.typeahead,typeAheadAriaLabel:"Choose webhook",placeholderText:"Choose webhook",selections:b,onSelect:g,onToggle:a,isOpen:t,onFilter:p,menuAppendTo:document.body,isDisabled:e.isDisabled},f))}},820:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecipientTypeahead=void 0;const r=n(45),l=a(n(1)),s=n(71),c=n(388),u=n(468),d=n(469);t.RecipientTypeahead=e=>{const[t,n]=l.useState(!1),[i,o]=d.useTypeaheadReducer();l.useEffect(()=>{(0,e.getRecipients)("").then(e=>o.setDefaults(e))},[e.getRecipients,o]),l.useEffect(()=>{const t=e.getRecipients;i.loadingFilter&&t(i.lastSearch).then(e=>o.setFilterValue(i.lastSearch,e))},[e.getRecipients,i.loadingFilter,i.lastSearch,o]);const a=l.useCallback(e=>{n(e)},[n]),p=l.useCallback(e=>{var t;const n=null===(t=e.target.value)||void 0===t?void 0:t.trim();return""===n?o.useDefaults():o.loadFilterValue(n),[]},[o]),f=u.useRecipientOptionMemo(i),b=(l.useMemo(()=>{const t=e.selected;if(void 0!==t)return t.map(e=>new c.RecipientOption(e))},[e.selected]),l.useCallback((t,n)=>{const i=e.onSelected;n instanceof c.RecipientOption&&i(n)},[e.onSelected]));return l.createElement("div",Object.assign({},s.getOuiaProps("RecipientTypeahead",e)),l.createElement(r.Select,{variant:r.SelectVariant.single,typeAheadAriaLabel:"Select the recipients",selections:"All registered users",onSelect:b,onToggle:a,isOpen:t,onFilter:p,menuAppendTo:document.body,isDisabled:!0},f))}},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultActionIdDecoder=t.getDefaultActionIdAction=void 0;const i=n(160),o=n(143);t.getDefaultActionIdAction=()=>o.Operations.EndpointServiceCreateEndpoint.actionCreator({body:{type:o.Schemas.EndpointType.enum.default,name:"Default endpoint type",description:"",enabled:!0,properties:null}}),t.getDefaultActionIdDecoder=i.validationResponseTransformer(e=>"Endpoint"===e.type?i.validatedResponse("DefaultNotificationId",e.status,e.value.id,e.errors):e)},822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionAddActionToDefault=void 0;const i=n(133);t.actionAddActionToDefault=e=>i.Operations.NotificationServiceAddEndpointToDefaults.actionCreator({endpointId:e})},823:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionAddActionToNotification=void 0;const i=n(133);t.actionAddActionToNotification=(e,t)=>i.Operations.NotificationServiceLinkEndpointToEventType.actionCreator({endpointId:t,eventTypeId:e})},824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionRemoveActionFromDefault=void 0;const i=n(133);t.actionRemoveActionFromDefault=e=>i.Operations.NotificationServiceDeleteEndpointFromDefaults.actionCreator({endpointId:e})},825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionRemoveActionFromNotification=void 0;const i=n(133);t.actionRemoveActionFromNotification=(e,t)=>i.Operations.NotificationServiceUnlinkEndpointFromEventType.actionCreator({endpointId:t,eventTypeId:e})},826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFormModalReducer=t.makeNoneAction=t.makeEditDefaultAction=t.makeEditNotificationAction=void 0;const i=n(63),o=n(1);var a;!function(e){e.EDIT_NOTIFICATION="edit-notification",e.EDIT_DEFAULTS="edit-defaults",e.NONE="none"}(a||(a={}));const r={isOpen:!1},l=(e,t)=>{switch(t.type){case a.EDIT_DEFAULTS:return{isOpen:!0,type:"default",data:t.template};case a.EDIT_NOTIFICATION:return{isOpen:!0,type:"notification",data:t.template};case a.NONE:return r;default:i.assertNever(t)}};t.makeEditNotificationAction=e=>({type:a.EDIT_NOTIFICATION,template:e}),t.makeEditDefaultAction=e=>({type:a.EDIT_DEFAULTS,template:e}),t.makeNoneAction=()=>({type:a.NONE}),t.useFormModalReducer=()=>o.useReducer(l,r)},827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationFilter=void 0;const i=n(25),o=n(63),a=n(1),r=n(387);t.useNotificationFilter=(e,t=250)=>{const n=a.useMemo(()=>{const t=e=>i.useUrlStateString("name",e),n=t=>i.useUrlStateMultipleOptions("app",e,t),a=e=>i.useUrlStateString("action",e);return e=>{switch(e){case r.NotificationFilterColumn.NAME:return t;case r.NotificationFilterColumn.ACTION:return a;case r.NotificationFilterColumn.APPLICATION:return n;default:o.assertNever(e)}}},[]);return i.useFilters(r.NotificationFilterColumn,t,n)}},828:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationPage=void 0;const i=n(25),o=n(1),a=n(387);t.useNotificationPage=(e,t,n,r)=>{const[l,s]=o.useState(1),[c,u]=o.useState(n);o.useEffect(()=>s(1),[s,e]);return{page:o.useMemo(()=>{const n=new i.Filter,o=e[a.NotificationFilterColumn.APPLICATION];if(o){const e=[];for(const n of i.arrayValue(o)){const i=t.find(e=>e.label===n);i&&e.push(i.value)}n.and("applicationId",i.Operator.EQUAL,e)}return i.Page.of(l,c,n,r)},[l,c,r,e,t]),changePage:o.useCallback(e=>s(e),[s]),changeItemsPerPage:o.useCallback(e=>{s(1),u(e)},[s])}}},829:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useNotificationRows=void 0;const l=n(63),s=r(n(385)),c=a(n(1)),u=n(85),d=n(389),p=n(225),f=n(470),b=n(226),g=e=>Object.assign({loadingActionStatus:"loading"},e),m=e=>{const t=e.reduce((e,t)=>(e[t.applicationDisplayName]||(e[t.applicationDisplayName]={applicationDisplayName:t.applicationDisplayName,isOpen:!0,notifications:[]}),e[t.applicationDisplayName].notifications.push(g(t)),e),{});return Object.values(t)};t.useNotificationRows=(e,t)=>{const[n,i]=c.useState({data:[],grouped:p.GroupByEnum.Application}),o=d.usePrevious(e),a=d.usePrevious(t),{query:r}=c.useContext(u.ClientContext),[y]=c.useState(()=>s.default(5)),v=c.useCallback((e,t)=>{i(n=>{if(n.grouped===p.GroupByEnum.Application){const[i,o]=((e,t)=>{for(let n=0;n<e.length;++n)for(let i=0;i<e[n].notifications.length;++i)if(e[n].notifications[i].id===t)return[n,i];return[-1,-1]})(n.data,e);if(-1===i)return n;const a=[...n.data];return a[i]=Object.assign(Object.assign({},a[i]),{notifications:[...a[i].notifications]}),a[i].notifications[o]=Object.assign(Object.assign({},a[i].notifications[o]),t),Object.assign(Object.assign({},n),{data:a})}if(n.grouped===p.GroupByEnum.None){const i=n.data.findIndex(t=>t.id===e);if(-1===i)return n;const o=[...n.data];return o[i]=Object.assign(Object.assign({},o[i]),t),Object.assign(Object.assign({},n),{data:o})}l.assertNever(n)})},[i]);c.useEffect(()=>{e===o&&t===a||(i(n=>{switch(t){case p.GroupByEnum.None:return{grouped:p.GroupByEnum.None,data:e.map(g)};case p.GroupByEnum.Application:return{grouped:p.GroupByEnum.Application,data:m(e)};default:l.assertNever(t)}}),e&&(y.clearQueue(),e.map(e=>e.id).forEach(e=>{y(()=>r(f.getNotificationActionsByIdAction(e))).then(t=>{t.payload&&200===t.payload.status?v(e,{loadingActionStatus:"done",actions:b.toActions(t.payload.value),useDefault:b.usesDefault(t.payload.value)}):v(e,{loadingActionStatus:"error",actions:[]})})})))},[t,a,e,o,y,r,v]);return{rows:n,onCollapse:c.default.useCallback((e,t)=>{i(n=>{switch(n.grouped){case p.GroupByEnum.None:throw new Error("On collapse is not valid for group: None");case p.GroupByEnum.Application:const i=[...n.data];return i[e]=Object.assign(Object.assign({},i[e]),{isOpen:t}),Object.assign(Object.assign({},n),{data:i});default:l.assertNever(n)}})},[i])}}},830:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useApp=void 0;const o=n(25),a=n(1),r=n(213),l=i(n(451)),s=n(831);t.useApp=()=>{const e=r.useHistory(),[t,n]=a.useState(void 0),i=s.useGetApplications(),c=a.useMemo(()=>{var e;return 200===(null===(e=i.payload)||void 0===e?void 0:e.status)?i.payload.value:void 0},[i.payload]);return a.useEffect(()=>{o.waitForInsights().then(e=>{e.chrome.init();const t=e.chrome.getApp();switch(t){case l.default.notifications.subAppId:document.title=l.default.notifications.title;break;case l.default.integrations.subAppId:document.title=l.default.integrations.title}e.chrome.identifyApp(t)})},[e]),a.useEffect(()=>{o.waitForInsights().then(e=>{e.chrome.auth.getUser().then(()=>{o.fetchRBAC(l.default.appId).then(n)})})},[]),{rbac:t,applications:c}}},831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGetApplications=t.getApplicationsAction=void 0;const i=n(85),o=n(133);t.getApplicationsAction=()=>o.Operations.NotificationServiceGetApplicationsFacets.actionCreator(),t.useGetApplications=()=>i.useQuery(t.getApplicationsAction())},97:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;const o=n(409),a=n(212),r=n(142),l=i(n(381)),s=a.createIntlCache(),c=navigator.language.slice(0,2),u=a.createIntl({onError:console.log,locale:c},s),d={locale:c},p={appName:o.intlHelper(u.formatMessage(l.default.notifications),d),appNameIntegrations:o.intlHelper(u.formatMessage(l.default.integrations),d),pages:{integrations:{list:{title:"Integrations"},add:{title:"Add integration"},edit:{title:"Edit integration"}},notifications:{list:{title:"Notifications",viewHistory:"View notification history"}},error:{title:"Notifications",emptyState:{title:"Unhandled error",content:"There was a problem trying to process your request.",showDetails:"Show details",actions:{goToIndex:"Go back"}}}},components:{integrations:{toolbar:{actions:{addIntegration:"Add integration",editIntegration:"Edit integration"}},table:{title:"Integrations",columns:{name:"Name",type:"Type",lastConnectionAttempt:"Last connection attempt",enabled:"Enabled"}},enableError:{title:"Unable to enable the Integration",description:'There was a problem trying to enable the integration: "{0}".\nPlease try again.'},disableError:{title:"Unable to disable the Integration",description:'There was a problem trying to disable the integration: "{0}".\nPlease try again.'},integrationType:{[r.IntegrationType.WEBHOOK]:"Webhook"}},notifications:{types:{EMAIL_SUBSCRIPTION:"Send an email",DRAWER:"Send to notification drawer",INTEGRATION:"Integration"},toolbar:{actions:{}},table:{title:"Notifications",columns:{event:"Event type",action:"Action",recipient:"Recipient"}}}},common:{choose:"Please choose"}};t.Messages=p}});
//# sourceMappingURL=App.374d16d1a349b1e1be90.js.map